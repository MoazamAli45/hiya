
(function() {
  if (window.$superfiliateStorefront) return;

  window.$superfiliateStorefront = {"health":{"environment":"production","railsTimestamp":1724527521144210,"redisTimestamp":1724527521145341,"postgresTimestamp":1724527521150875,"herokuReleaseVersion":null,"herokuReleaseCreatedAt":null,"ddVersion":"9ddd55c52fd67802853ef375da830ecbe0597a95@dad289b1-a55e-58d5-a1e6-9444f6a16fbd@tokens.fly.io","yjit":true},"shop":{"id":1453,"name":"Hiya Health","shopifyDomain":"hiya-kids.myshopify.com","programDomain":"hiyahealth.superfiliate.com","featuresEnabled":["waitlist_approved","tikapi","creator_discovery","materialized_views","visits_metrics","promotion_improvements","rclv_metrics","homepage_charts"],"micrositeDomain":"hiyahealth.superfiliate.com"},"personalization":{"branding":{"colors":{"base":"#FFFFFF","baseContent":"#151515","primary":"#52B5A4","primaryContent":"#FFFFFF","secondary":"#000000","secondaryContent":"#FFFFFF","color3":"#D9A273","color3Content":"#151515","color4":"#F2E4D8","color4Content":"#000000","gradientTo":"#309382","gradientFrom":"#52B5A4","gradientContent":"#FFFFFF"},"fonts":{"primary":{},"secondary":{}},"images":{"logoMedia":{"mediaId":"e6c902c8-320d-4eab-4de5-ff9d7e2c3c00","mediaType":"image","mediaProvider":"cloudflare"},"altLogoMedia":{"mediaId":"2f8c66e6-3679-48c2-d74d-8252b5690200","mediaType":"image","mediaProvider":"cloudflare"},"logoImageUrl":"http://res.cloudinary.com/da2a4i71k/image/upload/v1669816762/public/microsites/aexufnxgsnanu0y2sosc.png","altLogoImageUrl":"http://res.cloudinary.com/da2a4i71k/image/upload/v1669816803/public/microsites/wfcdq9azbwgfkxszaxyz.png"},"buttons":{}},"portal":{"programName":"Hiya Rewards Program","loginWelcome":"Welcome to Hiya Health","loginEmailSubmit":"Join the fun!","htmlHeaderWelcome":"Welcome {{sf_first_name}}","htmlHeaderMarquee":"Referral program","htmlShareTitle":"Gift your friends {{sf_lead_one_time_discount}} OFF","htmlShareSubtitle":"You'll earn {{sf_each_discount}} OFF every time someone uses your link on orders over {{sf_minimum_cart_value}}!","shareMobileCta":"Share with friends","perks":[{"iconImageUrl":"https://superboarding.superfiliate.com/emojis/hopeful-140.png","htmlDescription":"Gift your friends {{sf_lead_one_time_discount}} OFF their first {{sf_shop_name}} purchase and earn {{sf_each_discount}} for each sale"},{"iconImageUrl":"https://superboarding.superfiliate.com/emojis/sunglasses-cool-140.png","htmlDescription":"Manage your reward balance however you like - apply it to a one-time or subscription purchase"},{"iconImageUrl":"https://superboarding.superfiliate.com/emojis/starstruck-140.png","htmlDescription":"Create a personalized {{sf_shop_name}} profile to share with your friends"}],"signUpPage":{"enabled":false,"welcomeText":{"title":"Join the {{sf_campaign_name}} program!","onboarding":"We're thrilled that you're ready to join our ever-growing community of creatives. You'll be rewarded with products and earn commissions in exchange for sharing {{sf_shop_name}} with your followers. Want in? Just apply below and we'll review within a few hours."},"signUpQuestions":[{"label":"What's your first name?","answerType":"short","columnName":"first_name","required":true,"editable":false,"placeholder":"First name"},{"label":"What's your last name?","answerType":"short","columnName":"last_name","required":true,"placeholder":"Last name","editable":true},{"label":"What's your email?","answerType":"short","columnName":"email","required":true,"editable":false,"placeholder":"name@email.com"},{"label":"What would you like your discount code to be?","answerType":"short","columnName":"preferred_code","required":true,"placeholder":"username for your code","editable":true},{"label":"Instagram","answerType":"social_media_handle","columnName":"instagram_handle","required":true,"editable":true},{"label":"TikTok","answerType":"social_media_handle","columnName":"tiktok_handle","editable":true},{"label":"Facebook","answerType":"social_media_handle","columnName":"facebook_handle","editable":true},{"label":"Youtube","answerType":"social_media_handle","columnName":"youtube_handle","editable":true},{"label":"Pinterest","answerType":"social_media_handle","columnName":"pinterest_handle","editable":true},{"label":"X","answerType":"social_media_handle","columnName":"x_handle","editable":true},{"label":"Receive Marketing communication and updates","answerType":"marketing_handle","columnName":"allow_marketing","required":false,"editable":false}]},"onboardingWelcome":"Welcome to Hiya Health","onboardingProgramName":"Rewards Program","htmlOnboardingInstructions":"We've built a special link with photos, videos and products for you to <b>customize and share with your friends!</b>","onboardingCta":"Let's get started!","loginStories":[{"alt":"Hiya Health Story 1","url":"https://res.cloudinary.com/da2a4i71k/video/upload/v1675134487/hiya_1_i8aaqu.mp4","uuid":"story-1","media":{"mediaId":"2eInuMGCyutZ3anenkxuF2vCly01B201cnYDSsIExJMss","mediaType":"video","mediaProvider":"mux"},"duration":5000,"contentType":"video"},{"alt":"Hiya Health Story 2","url":"https://res.cloudinary.com/da2a4i71k/video/upload/v1675134486/hiya_2_nquchn.mp4","uuid":"story-2","media":{"mediaId":"seATCyifHI8OIgzparCAmCRhwoYXwZ28NIAyjlhG1v4","mediaType":"video","mediaProvider":"mux"},"duration":5000,"contentType":"video"},{"alt":"Hiya Health Story 3","url":"https://res.cloudinary.com/da2a4i71k/video/upload/v1675134487/hiya_3_fiyvkk.mp4","uuid":"story-3","media":{"mediaId":"tvAEYZ9v9bXLafAYNdNUNvLl7A2tkzGNBIUmppvKgeE","mediaType":"video","mediaProvider":"mux"},"duration":5000,"contentType":"video"}]},"widget":{"positionCustom":[{"regex":"/products/","position":"hidden"}],"positionOrderStatus":"main_content","positionOnlineStore":"bottom_left","hiddenOrderStatus":false,"hiddenOnlineStore":false,"foldedPasserbyIconUrl":"https://imagedelivery.net/JxMt8_0v0PNFhBJLkwBu2A/4428181b-f43f-496d-106a-d4873e08d300/public","foldedPasserbyIconMedia":{"mediaId":"a83c5eb2-c5f2-4472-c550-1f10bb38db00","mediaProvider":"cloudflare","mediaType":"image"},"htmlFoldedPasserbyText":"Refer & Earn","htmlLeadWelcome":"Hey! You received a gift","htmlLeadMarquee":"FROM YOUR FRIEND","htmlLeadTitle":"{{sf_lead_one_time_discount}} OFF on your next order","htmlLeadSubtitle":"We'll automatically apply this discount at checkout on orders over {{sf_minimum_cart_value}}.","htmlRewardWelcome":"Congrats {{sf_first_name}}!","htmlRewardMarquee":"HERE'S YOUR CODE","htmlRewardTitle":"","htmlRewardSubtitle":"We'll automatically apply your code at checkout, if you don't use all your balance, we'll return it to your wallet!"}},"defaultSfVariables":{"sfPortalUrl":"https://hiyahealth.superfiliate.com","sfPortalMagicLink":null,"sfPortalFirstLoginAt":null,"sfPortalLastLoginAt":null,"sfPortalRedeemSeedingGiftMagicLink":null,"sfShopName":"Hiya Health","sfCampaignId":6007,"sfCampaignName":"Hiya Rewards","sfCampaignAudience":"on_site","sfEachDiscount":"$20","sfCliffReward":null,"sfRegularLeadDiscount":"20%","sfMinimumCartValue":"$0","sfLeadDiscountUsageLimit":null,"sfCashback":null,"sfMicrositeEnabled":true,"sfLeadOneTimeDiscount":"20%"},"apiBaseUrl":"https://app.superfiliate.com"};

  (function(){var f_,u_,l_,__;"use strict";var zi=document.createElement("style");zi.textContent=`@import"https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Open+Sans:wght@400;500;600;700&display=swap";._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x *,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x :before,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x :after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#f3f4f6}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x :before,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x :after{--tw-content: ""}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x html,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x :host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:SF-Secondary-Font,Open Sans,ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x body{margin:0;line-height:inherit}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x hr{height:0;color:inherit;border-top-width:1px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x h1,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x h2,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x h3,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x h4,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x h5,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x h6{font-size:inherit;font-weight:inherit}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x a{color:inherit;text-decoration:inherit}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x b,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x strong{font-weight:bolder}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x code,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x kbd,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x samp,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x small{font-size:80%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x sub,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x sub{bottom:-.25em}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x sup{top:-.5em}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x table{text-indent:0;border-color:inherit;border-collapse:collapse}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x button,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x input,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x optgroup,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x select,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x button,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x select{text-transform:none}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x button,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x input:where([type=button]),._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x input:where([type=reset]),._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x :-moz-focusring{outline:auto}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x :-moz-ui-invalid{box-shadow:none}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x progress{vertical-align:baseline}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x ::-webkit-inner-spin-button,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x ::-webkit-outer-spin-button{height:auto}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x [type=search]{-webkit-appearance:textfield;outline-offset:-2px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x ::-webkit-search-decoration{-webkit-appearance:none}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x ::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x summary{display:list-item}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x blockquote,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x dl,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x dd,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x h1,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x h2,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x h3,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x h4,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x h5,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x h6,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x hr,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x figure,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x p,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x pre{margin:0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x fieldset{margin:0;padding:0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x legend{padding:0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x ol,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x ul,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x menu{list-style:none;margin:0;padding:0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x dialog{padding:0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x textarea{resize:vertical}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x input::-moz-placeholder,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x textarea::-moz-placeholder{opacity:1;color:#f2f2f5}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x input::placeholder,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x textarea::placeholder{opacity:1;color:#f2f2f5}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x button,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x [role=button]{cursor:pointer}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x :disabled{cursor:default}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x img,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x svg,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x video,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x canvas,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x audio,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x iframe,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x embed,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x object{display:block;vertical-align:middle}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x img,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x video{max-width:100%;height:auto}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x [hidden]{display:none}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x{--sf-success-color: 18,183,106;--sf-success-content-color: 255,255,255;--sf-danger-color: 240,68,56;--sf-danger-content-color: 255,255,255;--sf-base-swappable: var(--base-color);--sf-base-content-swappable: var(--base-content-color);--sf-primary-swappable: var(--primary-color);--sf-primary-content-swappable: var(--primary-content-color);--sf-secondary-swappable: var(--secondary-color);--sf-secondary-content-swappable: var(--secondary-content-color);--sf-accent-swappable: var(--accent-color);--sf-accent-content-swappable: var(--accent-content-color)}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x *,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x :before,._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x :after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x ::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-pointer-events-none{pointer-events:none}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-fixed{position:fixed}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-absolute{position:absolute}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-relative{position:relative}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-inset-0{top:0;right:0;bottom:0;left:0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-inset-x-0{left:0;right:0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .-sf-right-2{right:-8px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .-sf-right-2\\.5{right:-10px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .-sf-top-2{top:-8px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .-sf-top-2\\.5{top:-10px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-bottom-0{bottom:0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-bottom-4{bottom:16px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-bottom-\\[50vh\\]{bottom:50vh}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-left-0{left:0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-left-4{left:16px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-left-\\[-10\\%\\]{left:-10%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-right-0{right:0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-right-2{right:8px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-right-2\\.5{right:10px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-right-4{right:16px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-top-2{top:8px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-top-2\\.5{top:10px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-top-3{top:12px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-top-4{top:16px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-top-\\[-10\\%\\]{top:-10%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .-sf-z-\\[10\\]{z-index:-10}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .-sf-z-index-program-widget-modal{z-index:calc(var(--sf-z-index-program-widget-modal) * -1)}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-z-10{z-index:10}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-z-index-program-widget-modal{z-index:var(--sf-z-index-program-widget-modal)}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-col-span-2{grid-column:span 2 / span 2}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-m-auto{margin:auto}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-mx-1{margin-left:4px;margin-right:4px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-mx-3{margin-left:12px;margin-right:12px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-mx-5{margin-left:20px;margin-right:20px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-mx-auto{margin-left:auto;margin-right:auto}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-my-1{margin-top:4px;margin-bottom:4px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-my-3{margin-top:12px;margin-bottom:12px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-my-6{margin-top:24px;margin-bottom:24px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .-sf-mt-7{margin-top:-28px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-mb-1{margin-bottom:4px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-mb-1\\.5{margin-bottom:6px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-mb-2{margin-bottom:8px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-mb-4{margin-bottom:16px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-mb-8{margin-bottom:32px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-ml-1{margin-left:4px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-ml-5{margin-left:20px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-mt-\\[32px\\]{margin-top:32px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-block{display:block}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-flex{display:flex}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-grid{display:grid}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-hidden{display:none}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-12{height:48px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-2{height:8px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-3{height:12px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-36{height:144px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-4{height:16px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-5{height:20px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-6{height:24px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-8{height:32px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-9{height:36px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-\\[120\\%\\]{height:120%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-\\[120px\\]{height:120px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-\\[141px\\]{height:141px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-\\[144px\\]{height:144px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-\\[18px\\]{height:18px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-\\[190px\\]{height:190px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-\\[662px\\]{height:662px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-full{height:100%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-h-screen{height:100vh}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-max-h-full{max-height:100%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-max-h-screen{max-height:100vh}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-min-h-\\[360px\\]{min-height:360px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-10\\/12{width:83.333333%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-11\\/12{width:91.666667%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-2{width:8px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-3\\/4{width:75%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-4\\/12{width:33.333333%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-5{width:20px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-6{width:24px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-6\\/12{width:50%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-9{width:36px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-9\\/12{width:75%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-\\[120\\%\\]{width:120%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-\\[120px\\]{width:120px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-\\[18px\\]{width:18px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-\\[190px\\]{width:190px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-\\[80px\\]{width:80px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-\\[95\\%\\]{width:95%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-fit{width:-moz-fit-content;width:fit-content}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-full{width:100%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-w-screen{width:100vw}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-max-w-\\[unset\\]{max-width:unset}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-max-w-full{max-width:100%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-origin-bottom-left{transform-origin:bottom left}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-origin-bottom-right{transform-origin:bottom right}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-translate-x-\\[-36\\%\\]{--tw-translate-x: -36%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-translate-x-\\[36\\%\\]{--tw-translate-x: 36%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-rotate-\\[270deg\\]{--tw-rotate: 270deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-rotate-\\[90deg\\]{--tw-rotate: 90deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes sf-pulse{50%{opacity:.5}}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-animate-pulse{animation:sf-pulse 2s cubic-bezier(.4,0,.6,1) infinite}@keyframes sf-spin{to{transform:rotate(360deg)}}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-animate-spin{animation:sf-spin 1s linear infinite}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-cursor-pointer{cursor:pointer}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-list-disc{list-style-type:disc}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-flex-col{flex-direction:column}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-items-center{align-items:center}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-justify-center{justify-content:center}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-gap-2{gap:8px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-overflow-auto{overflow:auto}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-overflow-hidden{overflow:hidden}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-rounded{border-radius:.25rem}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-rounded-2xl{border-radius:1rem}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-rounded-3xl{border-radius:1.5rem}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-rounded-full{border-radius:9999px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-rounded-lg{border-radius:.5rem}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-rounded-xl{border-radius:.75rem}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-rounded-t-2xl{border-top-left-radius:1rem;border-top-right-radius:1rem}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-border{border-width:1px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-border-base-content\\/10{border-color:rgba(var(--sf-base-content-swappable),.1)}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-bg-base{--tw-bg-opacity: 1;background-color:rgba(var(--sf-base-swappable),var(--tw-bg-opacity))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-bg-base-content\\/20{background-color:rgba(var(--sf-base-content-swappable),.2)}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-bg-base\\/\\[0\\.5\\]{background-color:rgba(var(--sf-base-swappable),.5)}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-bg-black\\/50{background-color:#00000080}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-bg-gray-300{--tw-bg-opacity: 1;background-color:rgb(237 237 237 / var(--tw-bg-opacity))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-bg-primary{--tw-bg-opacity: 1;background-color:rgba(var(--sf-primary-swappable),var(--tw-bg-opacity))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-object-contain{-o-object-fit:contain;object-fit:contain}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-p-0{padding:0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-p-0\\.5{padding:2px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-p-2{padding:8px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-p-2\\.5{padding:10px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-p-6{padding:24px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-p-\\[6px\\]{padding:6px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-px-2{padding-left:8px;padding-right:8px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-px-4{padding-left:16px;padding-right:16px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-py-1{padding-top:4px;padding-bottom:4px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-py-10{padding-top:40px;padding-bottom:40px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-py-2{padding-top:8px;padding-bottom:8px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-py-3{padding-top:12px;padding-bottom:12px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-pb-2{padding-bottom:8px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-text-center{text-align:center}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-font-display{font-family:SF-Primary-Font,Poppins,ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji"}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-text-base{font-size:;line-height:}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-text-lg{font-size:20px;line-height:24px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-text-md{font-size:14px;line-height:20px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-text-sm{font-size:12px;line-height:18px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-text-xs{font-size:10px;line-height:16px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-font-bold{font-weight:700}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-font-semibold{font-weight:600}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-leading-4{line-height:1rem}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-text-base{--tw-text-opacity: 1;color:rgba(var(--sf-base-swappable),var(--tw-text-opacity))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-text-base-content{--tw-text-opacity: 1;color:rgba(var(--sf-base-content-swappable),var(--tw-text-opacity))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-text-blue-600{--tw-text-opacity: 1;color:rgb(37 99 235 / var(--tw-text-opacity))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-text-primary{--tw-text-opacity: 1;color:rgba(var(--sf-primary-swappable),var(--tw-text-opacity))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-text-primary-content{--tw-text-opacity: 1;color:rgba(var(--sf-primary-content-swappable),var(--tw-text-opacity))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-underline{text-decoration-line:underline}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-decoration-2{text-decoration-thickness:2px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-shadow-2xl{--tw-shadow: 0 25px 50px -12px rgb(0 0 0 / .25);--tw-shadow-colored: 0 25px 50px -12px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-backdrop-blur-xl{--tw-backdrop-blur: blur(24px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}@keyframes enter{0%{opacity:var(--tw-enter-opacity, 1);transform:translate3d(var(--tw-enter-translate-x, 0),var(--tw-enter-translate-y, 0),0) scale3d(var(--tw-enter-scale, 1),var(--tw-enter-scale, 1),var(--tw-enter-scale, 1)) rotate(var(--tw-enter-rotate, 0))}}@keyframes exit{to{opacity:var(--tw-exit-opacity, 1);transform:translate3d(var(--tw-exit-translate-x, 0),var(--tw-exit-translate-y, 0),0) scale3d(var(--tw-exit-scale, 1),var(--tw-exit-scale, 1),var(--tw-exit-scale, 1)) rotate(var(--tw-exit-rotate, 0))}}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-animate-in{animation-name:enter;animation-duration:.7s;--tw-enter-opacity: initial;--tw-enter-scale: initial;--tw-enter-rotate: initial;--tw-enter-translate-x: initial;--tw-enter-translate-y: initial}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-fade-in{--tw-enter-opacity: 0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-slide-in-from-left{--tw-enter-translate-x: -100%}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sf-slide-in-from-right{--tw-enter-translate-x: 100%}._sf-storefront._sf-x._sf-x._sf-x._sf-x *{flex-wrap:initial;margin:0;min-width:initial;flex:initial}._sf-storefront._sf-x._sf-x._sf-x._sf-x div{display:block}._sf-storefront._sf-x._sf-x._sf-x._sf-x img{opacity:1;background-color:transparent}._sf-storefront._sf-x._sf-x._sf-x._sf-x input::-moz-placeholder{text-align:left;text-transform:none}._sf-storefront._sf-x._sf-x._sf-x._sf-x input,._sf-storefront._sf-x._sf-x._sf-x._sf-x input::placeholder{text-align:left;text-transform:none}:root{--sf-z-index-program-widget-modal: 2147483000}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x *{font-family:SF-Secondary-Font,Open Sans,ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji"}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x strong{font-weight:bolder!important}@media (min-width: 480px){._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sm\\:sf-bottom-4{bottom:16px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sm\\:sf-left-4{left:16px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sm\\:sf-right-4{right:16px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sm\\:sf-m-0{margin:0}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sm\\:sf-hidden{display:none}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sm\\:sf-h-\\[222px\\]{height:222px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sm\\:sf-max-h-\\[662px\\]{max-height:662px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sm\\:sf-max-h-\\[680px\\]{max-height:680px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sm\\:sf-w-\\[126px\\]{width:126px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sm\\:sf-max-w-\\[390px\\]{max-width:390px}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sm\\:sf-rounded-3xl{border-radius:1.5rem}._sf-storefront._sf-x._sf-x._sf-x._sf-x._sf-x .sm\\:sf-leading-6{line-height:1.5rem}}
`,document.head.appendChild(zi);const B1="";var Cr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Nr=function(t){return t&&t.Math==Math&&t},he=Nr(typeof globalThis=="object"&&globalThis)||Nr(typeof window=="object"&&window)||Nr(typeof self=="object"&&self)||Nr(typeof Cr=="object"&&Cr)||function(){return this}()||Function("return this")(),Jn={},ge=function(t){try{return!!t()}catch{return!0}},v_=ge,Ve=!v_(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),m_=ge,Xn=!m_(function(){var t=(function(){}).bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),x_=Xn,Dr=Function.prototype.call,Ke=x_?Dr.bind(Dr):function(){return Dr.apply(Dr,arguments)},Ki={},Ji={}.propertyIsEnumerable,Xi=Object.getOwnPropertyDescriptor,y_=Xi&&!Ji.call({1:2},1);Ki.f=y_?function(e){var r=Xi(this,e);return!!r&&r.enumerable}:Ji;var Qi=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}},Zi=Xn,ea=Function.prototype,Qn=ea.call,b_=Zi&&ea.bind.bind(Qn,Qn),oe=Zi?b_:function(t){return function(){return Qn.apply(t,arguments)}},ta=oe,w_=ta({}.toString),S_=ta("".slice),rr=function(t){return S_(w_(t),8,-1)},E_=oe,k_=ge,$_=rr,Zn=Object,O_=E_("".split),T_=k_(function(){return!Zn("z").propertyIsEnumerable(0)})?function(t){return $_(t)=="String"?O_(t,""):Zn(t)}:Zn,Fr=function(t){return t==null},I_=Fr,P_=TypeError,nr=function(t){if(I_(t))throw P_("Can't call method on "+t);return t},R_=T_,C_=nr,Ar=function(t){return R_(C_(t))},es=typeof document=="object"&&document.all,N_=typeof es>"u"&&es!==void 0,ra={all:es,IS_HTMLDDA:N_},na=ra,D_=na.all,_e=na.IS_HTMLDDA?function(t){return typeof t=="function"||t===D_}:function(t){return typeof t=="function"},sa=_e,oa=ra,F_=oa.all,Rt=oa.IS_HTMLDDA?function(t){return typeof t=="object"?t!==null:sa(t)||t===F_}:function(t){return typeof t=="object"?t!==null:sa(t)},ts=he,A_=_e,M_=function(t){return A_(t)?t:void 0},rs=function(t,e){return arguments.length<2?M_(ts[t]):ts[t]&&ts[t][e]},U_=oe,ia=U_({}.isPrototypeOf),L_=typeof navigator<"u"&&String(navigator.userAgent)||"",aa=he,ns=L_,ca=aa.process,fa=aa.Deno,ua=ca&&ca.versions||fa&&fa.version,la=ua&&ua.v8,$e,Mr;la&&($e=la.split("."),Mr=$e[0]>0&&$e[0]<4?1:+($e[0]+$e[1])),!Mr&&ns&&($e=ns.match(/Edge\/(\d+)/),(!$e||$e[1]>=74)&&($e=ns.match(/Chrome\/(\d+)/),$e&&(Mr=+$e[1])));var j_=Mr,_a=j_,B_=ge,da=!!Object.getOwnPropertySymbols&&!B_(function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&_a&&_a<41}),H_=da,pa=H_&&!Symbol.sham&&typeof Symbol.iterator=="symbol",G_=rs,q_=_e,Y_=ia,W_=pa,z_=Object,ha=W_?function(t){return typeof t=="symbol"}:function(t){var e=G_("Symbol");return q_(e)&&Y_(e.prototype,z_(t))},V_=String,K_=function(t){try{return V_(t)}catch{return"Object"}},J_=_e,X_=K_,Q_=TypeError,Z_=function(t){if(J_(t))return t;throw Q_(X_(t)+" is not a function")},ed=Z_,td=Fr,ss=function(t,e){var r=t[e];return td(r)?void 0:ed(r)},os=Ke,is=_e,as=Rt,rd=TypeError,nd=function(t,e){var r,n;if(e==="string"&&is(r=t.toString)&&!as(n=os(r,t))||is(r=t.valueOf)&&!as(n=os(r,t))||e!=="string"&&is(r=t.toString)&&!as(n=os(r,t)))return n;throw rd("Can't convert object to primitive value")},ga={exports:{}},va=he,sd=Object.defineProperty,cs=function(t,e){try{sd(va,t,{value:e,configurable:!0,writable:!0})}catch{va[t]=e}return e},od=he,id=cs,ma="__core-js_shared__",ad=od[ma]||id(ma,{}),fs=ad,xa=fs;(ga.exports=function(t,e){return xa[t]||(xa[t]=e!==void 0?e:{})})("versions",[]).push({version:"3.29.1",mode:"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.29.1/LICENSE",source:"https://github.com/zloirock/core-js"});var us=ga.exports,cd=nr,fd=Object,ls=function(t){return fd(cd(t))},ud=oe,ld=ls,_d=ud({}.hasOwnProperty),Je=Object.hasOwn||function(e,r){return _d(ld(e),r)},dd=oe,pd=0,hd=Math.random(),gd=dd(1 .toString),ya=function(t){return"Symbol("+(t===void 0?"":t)+")_"+gd(++pd+hd,36)},vd=he,md=us,ba=Je,xd=ya,yd=da,bd=pa,Ct=vd.Symbol,_s=md("wks"),wd=bd?Ct.for||Ct:Ct&&Ct.withoutSetter||xd,Xe=function(t){return ba(_s,t)||(_s[t]=yd&&ba(Ct,t)?Ct[t]:wd("Symbol."+t)),_s[t]},Sd=Ke,wa=Rt,Sa=ha,Ed=ss,kd=nd,$d=Xe,Od=TypeError,Td=$d("toPrimitive"),Id=function(t,e){if(!wa(t)||Sa(t))return t;var r=Ed(t,Td),n;if(r){if(e===void 0&&(e="default"),n=Sd(r,t,e),!wa(n)||Sa(n))return n;throw Od("Can't convert object to primitive value")}return e===void 0&&(e="number"),kd(t,e)},Pd=Id,Rd=ha,Ea=function(t){var e=Pd(t,"string");return Rd(e)?e:e+""},Cd=he,ka=Rt,ds=Cd.document,Nd=ka(ds)&&ka(ds.createElement),$a=function(t){return Nd?ds.createElement(t):{}},Dd=Ve,Fd=ge,Ad=$a,Oa=!Dd&&!Fd(function(){return Object.defineProperty(Ad("div"),"a",{get:function(){return 7}}).a!=7}),Md=Ve,Ud=Ke,Ld=Ki,jd=Qi,Bd=Ar,Hd=Ea,Gd=Je,qd=Oa,Ta=Object.getOwnPropertyDescriptor;Jn.f=Md?Ta:function(e,r){if(e=Bd(e),r=Hd(r),qd)try{return Ta(e,r)}catch{}if(Gd(e,r))return jd(!Ud(Ld.f,e,r),e[r])};var Nt={},Yd=Ve,Wd=ge,Ia=Yd&&Wd(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),zd=Rt,Vd=String,Kd=TypeError,dt=function(t){if(zd(t))return t;throw Kd(Vd(t)+" is not an object")},Jd=Ve,Xd=Oa,Qd=Ia,Ur=dt,Pa=Ea,Zd=TypeError,ps=Object.defineProperty,ep=Object.getOwnPropertyDescriptor,hs="enumerable",gs="configurable",vs="writable";Nt.f=Jd?Qd?function(e,r,n){if(Ur(e),r=Pa(r),Ur(n),typeof e=="function"&&r==="prototype"&&"value"in n&&vs in n&&!n[vs]){var s=ep(e,r);s&&s[vs]&&(e[r]=n.value,n={configurable:gs in n?n[gs]:s[gs],enumerable:hs in n?n[hs]:s[hs],writable:!1})}return ps(e,r,n)}:ps:function(e,r,n){if(Ur(e),r=Pa(r),Ur(n),Xd)try{return ps(e,r,n)}catch{}if("get"in n||"set"in n)throw Zd("Accessors not supported");return"value"in n&&(e[r]=n.value),e};var tp=Ve,rp=Nt,np=Qi,ms=tp?function(t,e,r){return rp.f(t,e,np(1,r))}:function(t,e,r){return t[e]=r,t},Ra={exports:{}},xs=Ve,sp=Je,Ca=Function.prototype,op=xs&&Object.getOwnPropertyDescriptor,ys=sp(Ca,"name"),ip=ys&&(function(){}).name==="something",ap=ys&&(!xs||xs&&op(Ca,"name").configurable),cp={EXISTS:ys,PROPER:ip,CONFIGURABLE:ap},fp=oe,up=_e,bs=fs,lp=fp(Function.toString);up(bs.inspectSource)||(bs.inspectSource=function(t){return lp(t)});var _p=bs.inspectSource,dp=he,pp=_e,Na=dp.WeakMap,hp=pp(Na)&&/native code/.test(String(Na)),gp=us,vp=ya,Da=gp("keys"),Fa=function(t){return Da[t]||(Da[t]=vp(t))},ws={},mp=hp,Aa=he,xp=Rt,yp=ms,Ss=Je,Es=fs,bp=Fa,wp=ws,Ma="Object already initialized",ks=Aa.TypeError,Sp=Aa.WeakMap,Lr,sr,jr,Ep=function(t){return jr(t)?sr(t):Lr(t,{})},kp=function(t){return function(e){var r;if(!xp(e)||(r=sr(e)).type!==t)throw ks("Incompatible receiver, "+t+" required");return r}};if(mp||Es.state){var Te=Es.state||(Es.state=new Sp);Te.get=Te.get,Te.has=Te.has,Te.set=Te.set,Lr=function(t,e){if(Te.has(t))throw ks(Ma);return e.facade=t,Te.set(t,e),e},sr=function(t){return Te.get(t)||{}},jr=function(t){return Te.has(t)}}else{var Dt=bp("state");wp[Dt]=!0,Lr=function(t,e){if(Ss(t,Dt))throw ks(Ma);return e.facade=t,yp(t,Dt,e),e},sr=function(t){return Ss(t,Dt)?t[Dt]:{}},jr=function(t){return Ss(t,Dt)}}var Ua={set:Lr,get:sr,has:jr,enforce:Ep,getterFor:kp},$s=oe,$p=ge,Op=_e,Br=Je,Os=Ve,Tp=cp.CONFIGURABLE,Ip=_p,La=Ua,Pp=La.enforce,Rp=La.get,ja=String,Hr=Object.defineProperty,Cp=$s("".slice),Np=$s("".replace),Dp=$s([].join),Fp=Os&&!$p(function(){return Hr(function(){},"length",{value:8}).length!==8}),Ap=String(String).split("String"),Mp=Ra.exports=function(t,e,r){Cp(ja(e),0,7)==="Symbol("&&(e="["+Np(ja(e),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!Br(t,"name")||Tp&&t.name!==e)&&(Os?Hr(t,"name",{value:e,configurable:!0}):t.name=e),Fp&&r&&Br(r,"arity")&&t.length!==r.arity&&Hr(t,"length",{value:r.arity});try{r&&Br(r,"constructor")&&r.constructor?Os&&Hr(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch{}var n=Pp(t);return Br(n,"source")||(n.source=Dp(Ap,typeof e=="string"?e:"")),t};Function.prototype.toString=Mp(function(){return Op(this)&&Rp(this).source||Ip(this)},"toString");var Up=Ra.exports,Lp=_e,jp=Nt,Bp=Up,Hp=cs,Ba=function(t,e,r,n){n||(n={});var s=n.enumerable,o=n.name!==void 0?n.name:e;if(Lp(r)&&Bp(r,o,n),n.global)s?t[e]=r:Hp(e,r);else{try{n.unsafe?t[e]&&(s=!0):delete t[e]}catch{}s?t[e]=r:jp.f(t,e,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return t},Ha={},Gp=Math.ceil,qp=Math.floor,Yp=Math.trunc||function(e){var r=+e;return(r>0?qp:Gp)(r)},Wp=Yp,or=function(t){var e=+t;return e!==e||e===0?0:Wp(e)},zp=or,Vp=Math.max,Kp=Math.min,Jp=function(t,e){var r=zp(t);return r<0?Vp(r+e,0):Kp(r,e)},Xp=or,Qp=Math.min,Ga=function(t){return t>0?Qp(Xp(t),9007199254740991):0},Zp=Ga,qa=function(t){return Zp(t.length)},eh=Ar,th=Jp,rh=qa,Ya=function(t){return function(e,r,n){var s=eh(e),o=rh(s),i=th(n,o),a;if(t&&r!=r){for(;o>i;)if(a=s[i++],a!=a)return!0}else for(;o>i;i++)if((t||i in s)&&s[i]===r)return t||i||0;return!t&&-1}},nh={includes:Ya(!0),indexOf:Ya(!1)},sh=oe,Ts=Je,oh=Ar,ih=nh.indexOf,ah=ws,Wa=sh([].push),za=function(t,e){var r=oh(t),n=0,s=[],o;for(o in r)!Ts(ah,o)&&Ts(r,o)&&Wa(s,o);for(;e.length>n;)Ts(r,o=e[n++])&&(~ih(s,o)||Wa(s,o));return s},Is=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ch=za,fh=Is,uh=fh.concat("length","prototype");Ha.f=Object.getOwnPropertyNames||function(e){return ch(e,uh)};var Va={};Va.f=Object.getOwnPropertySymbols;var lh=rs,_h=oe,dh=Ha,ph=Va,hh=dt,gh=_h([].concat),vh=lh("Reflect","ownKeys")||function(e){var r=dh.f(hh(e)),n=ph.f;return n?gh(r,n(e)):r},Ka=Je,mh=vh,xh=Jn,yh=Nt,bh=function(t,e,r){for(var n=mh(e),s=yh.f,o=xh.f,i=0;i<n.length;i++){var a=n[i];!Ka(t,a)&&!(r&&Ka(r,a))&&s(t,a,o(e,a))}},wh=ge,Sh=_e,Eh=/#|\.prototype\./,ir=function(t,e){var r=$h[kh(t)];return r==Th?!0:r==Oh?!1:Sh(e)?wh(e):!!e},kh=ir.normalize=function(t){return String(t).replace(Eh,".").toLowerCase()},$h=ir.data={},Oh=ir.NATIVE="N",Th=ir.POLYFILL="P",Ih=ir,Ps=he,Ph=Jn.f,Rh=ms,Ch=Ba,Nh=cs,Dh=bh,Fh=Ih,Rs=function(t,e){var r=t.target,n=t.global,s=t.stat,o,i,a,c,u,l;if(n?i=Ps:s?i=Ps[r]||Nh(r,{}):i=(Ps[r]||{}).prototype,i)for(a in e){if(u=e[a],t.dontCallGetSet?(l=Ph(i,a),c=l&&l.value):c=i[a],o=Fh(n?a:r+(s?".":"#")+a,t.forced),!o&&c!==void 0){if(typeof u==typeof c)continue;Dh(u,c)}(t.sham||c&&c.sham)&&Rh(u,"sham",!0),Ch(i,a,u,t)}},Ja={},Ah=za,Mh=Is,Uh=Object.keys||function(e){return Ah(e,Mh)},Lh=Ve,jh=Ia,Bh=Nt,Hh=dt,Gh=Ar,qh=Uh;Ja.f=Lh&&!jh?Object.defineProperties:function(e,r){Hh(e);for(var n=Gh(r),s=qh(r),o=s.length,i=0,a;o>i;)Bh.f(e,a=s[i++],n[a]);return e};var Yh=rs,Wh=Yh("document","documentElement"),zh=dt,Vh=Ja,Xa=Is,Kh=ws,Jh=Wh,Xh=$a,Qh=Fa,Qa=">",Za="<",Cs="prototype",Ns="script",ec=Qh("IE_PROTO"),Ds=function(){},tc=function(t){return Za+Ns+Qa+t+Za+"/"+Ns+Qa},rc=function(t){t.write(tc("")),t.close();var e=t.parentWindow.Object;return t=null,e},Zh=function(){var t=Xh("iframe"),e="java"+Ns+":",r;return t.style.display="none",Jh.appendChild(t),t.src=String(e),r=t.contentWindow.document,r.open(),r.write(tc("document.F=Object")),r.close(),r.F},Gr,qr=function(){try{Gr=new ActiveXObject("htmlfile")}catch{}qr=typeof document<"u"?document.domain&&Gr?rc(Gr):Zh():rc(Gr);for(var t=Xa.length;t--;)delete qr[Cs][Xa[t]];return qr()};Kh[ec]=!0;var nc=Object.create||function(e,r){var n;return e!==null?(Ds[Cs]=zh(e),n=new Ds,Ds[Cs]=null,n[ec]=e):n=qr(),r===void 0?n:Vh.f(n,r)},eg=Xe,tg=nc,rg=Nt.f,Fs=eg("unscopables"),As=Array.prototype;As[Fs]==null&&rg(As,Fs,{configurable:!0,value:tg(null)});var ng=function(t){As[Fs][t]=!0},sg=Rs,og=ls,ig=qa,ag=or,cg=ng;sg({target:"Array",proto:!0},{at:function(e){var r=og(this),n=ig(r),s=ag(e),o=s>=0?s:n+s;return o<0||o>=n?void 0:r[o]}}),cg("at");var fg=he,ug=oe,sc=function(t,e){return ug(fg[t].prototype[e])},lg=sc;lg("Array","at");var _g=Rt,dg=rr,pg=Xe,hg=pg("match"),gg=function(t){var e;return _g(t)&&((e=t[hg])!==void 0?!!e:dg(t)=="RegExp")},vg=Xe,mg=vg("toStringTag"),oc={};oc[mg]="z";var xg=String(oc)==="[object z]",yg=xg,bg=_e,Yr=rr,wg=Xe,Sg=wg("toStringTag"),Eg=Object,kg=Yr(function(){return arguments}())=="Arguments",$g=function(t,e){try{return t[e]}catch{}},Og=yg?Yr:function(t){var e,r,n;return t===void 0?"Undefined":t===null?"Null":typeof(r=$g(e=Eg(t),Sg))=="string"?r:kg?Yr(e):(n=Yr(e))=="Object"&&bg(e.callee)?"Arguments":n},Tg=Og,Ig=String,Wr=function(t){if(Tg(t)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return Ig(t)},Pg=dt,ic=function(){var t=Pg(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e},Rg=Ke,Cg=Je,Ng=ia,Dg=ic,ac=RegExp.prototype,Fg=function(t){var e=t.flags;return e===void 0&&!("flags"in ac)&&!Cg(t,"flags")&&Ng(ac,t)?Rg(Dg,t):e},Ms=oe,Ag=ls,Mg=Math.floor,Us=Ms("".charAt),Ug=Ms("".replace),Ls=Ms("".slice),Lg=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,jg=/\$([$&'`]|\d{1,2})/g,cc=function(t,e,r,n,s,o){var i=r+t.length,a=n.length,c=jg;return s!==void 0&&(s=Ag(s),c=Lg),Ug(o,c,function(u,l){var f;switch(Us(l,0)){case"$":return"$";case"&":return t;case"`":return Ls(e,0,r);case"'":return Ls(e,i);case"<":f=s[Ls(l,1,-1)];break;default:var d=+l;if(d===0)return u;if(d>a){var _=Mg(d/10);return _===0?u:_<=a?n[_-1]===void 0?Us(l,1):n[_-1]+Us(l,1):u}f=n[d-1]}return f===void 0?"":f})},Bg=Rs,Hg=Ke,js=oe,fc=nr,Gg=_e,qg=Fr,Yg=gg,ar=Wr,Wg=ss,zg=Fg,Vg=cc,Kg=Xe,Jg=Kg("replace"),Xg=TypeError,uc=js("".indexOf);js("".replace);var lc=js("".slice),Qg=Math.max,_c=function(t,e,r){return r>t.length?-1:e===""?r:uc(t,e,r)};Bg({target:"String",proto:!0},{replaceAll:function(e,r){var n=fc(this),s,o,i,a,c,u,l,f,d,_=0,p=0,h="";if(!qg(e)){if(s=Yg(e),s&&(o=ar(fc(zg(e))),!~uc(o,"g")))throw Xg("`.replaceAll` does not allow non-global regexes");if(i=Wg(e,Jg),i)return Hg(i,e,n,r)}for(a=ar(n),c=ar(e),u=Gg(r),u||(r=ar(r)),l=c.length,f=Qg(1,l),_=_c(a,c,0);_!==-1;)d=u?ar(r(c,_,a)):Vg(c,a,_,[],void 0,r),h+=lc(a,p,_)+d,p=_+l,_=_c(a,c,_+f);return p<a.length&&(h+=lc(a,p)),h}});var Bs=ge,Zg=he,Hs=Zg.RegExp,Gs=Bs(function(){var t=Hs("a","y");return t.lastIndex=2,t.exec("abcd")!=null}),ev=Gs||Bs(function(){return!Hs("a","y").sticky}),tv=Gs||Bs(function(){var t=Hs("^r","gy");return t.lastIndex=2,t.exec("str")!=null}),rv={BROKEN_CARET:tv,MISSED_STICKY:ev,UNSUPPORTED_Y:Gs},nv=ge,sv=he,ov=sv.RegExp,iv=nv(function(){var t=ov(".","s");return!(t.dotAll&&t.exec(`
`)&&t.flags==="s")}),av=ge,cv=he,fv=cv.RegExp,uv=av(function(){var t=fv("(?<a>b)","g");return t.exec("b").groups.a!=="b"||"b".replace(t,"$<a>c")!=="bc"}),Ft=Ke,zr=oe,lv=Wr,_v=ic,dv=rv,pv=us,hv=nc,gv=Ua.get,vv=iv,mv=uv,xv=pv("native-string-replace",String.prototype.replace),Vr=RegExp.prototype.exec,qs=Vr,yv=zr("".charAt),bv=zr("".indexOf),wv=zr("".replace),Ys=zr("".slice),Ws=function(){var t=/a/,e=/b*/g;return Ft(Vr,t,"a"),Ft(Vr,e,"a"),t.lastIndex!==0||e.lastIndex!==0}(),dc=dv.BROKEN_CARET,zs=/()??/.exec("")[1]!==void 0,Sv=Ws||zs||dc||vv||mv;Sv&&(qs=function(e){var r=this,n=gv(r),s=lv(e),o=n.raw,i,a,c,u,l,f,d;if(o)return o.lastIndex=r.lastIndex,i=Ft(qs,o,s),r.lastIndex=o.lastIndex,i;var _=n.groups,p=dc&&r.sticky,h=Ft(_v,r),E=r.source,m=0,w=s;if(p&&(h=wv(h,"y",""),bv(h,"g")===-1&&(h+="g"),w=Ys(s,r.lastIndex),r.lastIndex>0&&(!r.multiline||r.multiline&&yv(s,r.lastIndex-1)!==`
`)&&(E="(?: "+E+")",w=" "+w,m++),a=new RegExp("^(?:"+E+")",h)),zs&&(a=new RegExp("^"+E+"$(?!\\s)",h)),Ws&&(c=r.lastIndex),u=Ft(Vr,p?a:r,w),p?u?(u.input=Ys(u.input,m),u[0]=Ys(u[0],m),u.index=r.lastIndex,r.lastIndex+=u[0].length):r.lastIndex=0:Ws&&u&&(r.lastIndex=r.global?u.index+u[0].length:c),zs&&u&&u.length>1&&Ft(xv,u[0],a,function(){for(l=1;l<arguments.length-2;l++)arguments[l]===void 0&&(u[l]=void 0)}),u&&_)for(u.groups=f=hv(null),l=0;l<_.length;l++)d=_[l],f[d[0]]=u[d[1]];return u});var Vs=qs,Ev=Rs,pc=Vs;Ev({target:"RegExp",proto:!0,forced:/./.exec!==pc},{exec:pc});var kv=Xn,hc=Function.prototype,gc=hc.apply,vc=hc.call,$v=typeof Reflect=="object"&&Reflect.apply||(kv?vc.bind(gc):function(){return vc.apply(gc,arguments)}),Ov=rr,Tv=oe,Iv=function(t){if(Ov(t)==="Function")return Tv(t)},mc=Iv,xc=Ba,Pv=Vs,yc=ge,bc=Xe,Rv=ms,Cv=bc("species"),Ks=RegExp.prototype,Nv=function(t,e,r,n){var s=bc(t),o=!yc(function(){var u={};return u[s]=function(){return 7},""[t](u)!=7}),i=o&&!yc(function(){var u=!1,l=/a/;return t==="split"&&(l={},l.constructor={},l.constructor[Cv]=function(){return l},l.flags="",l[s]=/./[s]),l.exec=function(){return u=!0,null},l[s](""),!u});if(!o||!i||r){var a=mc(/./[s]),c=e(s,""[t],function(u,l,f,d,_){var p=mc(u),h=l.exec;return h===Pv||h===Ks.exec?o&&!_?{done:!0,value:a(l,f,d)}:{done:!0,value:p(f,l,d)}:{done:!1}});xc(String.prototype,t,c[0]),xc(Ks,s,c[1])}n&&Rv(Ks[s],"sham",!0)},Js=oe,Dv=or,Fv=Wr,Av=nr,Mv=Js("".charAt),wc=Js("".charCodeAt),Uv=Js("".slice),Sc=function(t){return function(e,r){var n=Fv(Av(e)),s=Dv(r),o=n.length,i,a;return s<0||s>=o?t?"":void 0:(i=wc(n,s),i<55296||i>56319||s+1===o||(a=wc(n,s+1))<56320||a>57343?t?Mv(n,s):i:t?Uv(n,s,s+2):(i-55296<<10)+(a-56320)+65536)}},Lv={codeAt:Sc(!1),charAt:Sc(!0)},jv=Lv.charAt,Bv=function(t,e,r){return e+(r?jv(t,e).length:1)},Ec=Ke,Hv=dt,Gv=_e,qv=rr,Yv=Vs,Wv=TypeError,zv=function(t,e){var r=t.exec;if(Gv(r)){var n=Ec(r,t,e);return n!==null&&Hv(n),n}if(qv(t)==="RegExp")return Ec(Yv,t,e);throw Wv("RegExp#exec called on incompatible receiver")},Vv=$v,kc=Ke,Kr=oe,Kv=Nv,Jv=ge,Xv=dt,Qv=_e,Zv=Fr,em=or,tm=Ga,At=Wr,rm=nr,nm=Bv,sm=ss,om=cc,im=zv,am=Xe,Xs=am("replace"),cm=Math.max,fm=Math.min,um=Kr([].concat),Qs=Kr([].push),$c=Kr("".indexOf),Oc=Kr("".slice),lm=function(t){return t===void 0?t:String(t)},_m=function(){return"a".replace(/./,"$0")==="$0"}(),Tc=function(){return/./[Xs]?/./[Xs]("a","$0")==="":!1}(),dm=!Jv(function(){var t=/./;return t.exec=function(){var e=[];return e.groups={a:"7"},e},"".replace(t,"$<a>")!=="7"});Kv("replace",function(t,e,r){var n=Tc?"$":"$0";return[function(o,i){var a=rm(this),c=Zv(o)?void 0:sm(o,Xs);return c?kc(c,o,a,i):kc(e,At(a),o,i)},function(s,o){var i=Xv(this),a=At(s);if(typeof o=="string"&&$c(o,n)===-1&&$c(o,"$<")===-1){var c=r(e,i,a,o);if(c.done)return c.value}var u=Qv(o);u||(o=At(o));var l=i.global;if(l){var f=i.unicode;i.lastIndex=0}for(var d=[];;){var _=im(i,a);if(_===null||(Qs(d,_),!l))break;var p=At(_[0]);p===""&&(i.lastIndex=nm(a,tm(i.lastIndex),f))}for(var h="",E=0,m=0;m<d.length;m++){_=d[m];for(var w=At(_[0]),N=cm(fm(em(_.index),a.length),0),C=[],k=1;k<_.length;k++)Qs(C,lm(_[k]));var F=_.groups;if(u){var R=um([w],C,N,a);F!==void 0&&Qs(R,F);var $=At(Vv(o,void 0,R))}else $=om(w,a,N,C,F,o);N>=E&&(h+=Oc(a,E,N)+$,E=N+w.length)}return h+Oc(a,E)}]},!dm||!_m||Tc);var pm=sc;pm("String","replaceAll");const hm="order_completed",gm="external_access",vm="main_store_access",mm="order_external_id",xm="customer_external_id",Ic="sf_main_site_session",Pc="sf_order_session",Rc="sf_external_session_key",Cc="sf_microsite_session",ym="sf-external-session-uuid";var cr,b,Nc,pt,Dc,Fc,Zs,Ac,Mt={},Mc=[],bm=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Jr=Array.isArray;function Ue(t,e){for(var r in e)t[r]=e[r];return t}function Uc(t){var e=t.parentNode;e&&e.removeChild(t)}function Le(t,e,r){var n,s,o,i={};for(o in e)o=="key"?n=e[o]:o=="ref"?s=e[o]:i[o]=e[o];if(arguments.length>2&&(i.children=arguments.length>3?cr.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)i[o]===void 0&&(i[o]=t.defaultProps[o]);return fr(t,i,n,s,null)}function fr(t,e,r,n,s){var o={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:s??++Nc};return s==null&&b.vnode!=null&&b.vnode(o),o}function wm(){return{current:null}}function de(t){return t.children}function Ie(t,e){this.props=t,this.context=e}function ur(t,e){if(e==null)return t.__?ur(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__d||r.__e;return typeof t.type=="function"?ur(t):null}function Lc(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return Lc(t)}}function eo(t){(!t.__d&&(t.__d=!0)&&pt.push(t)&&!Xr.__r++||Dc!==b.debounceRendering)&&((Dc=b.debounceRendering)||Fc)(Xr)}function Xr(){var t,e,r,n,s,o,i,a,c;for(pt.sort(Zs);t=pt.shift();)t.__d&&(e=pt.length,n=void 0,s=void 0,o=void 0,a=(i=(r=t).__v).__e,(c=r.__P)&&(n=[],s=[],(o=Ue({},i)).__v=i.__v+1,to(c,i,o,r.__n,c.ownerSVGElement!==void 0,i.__h!=null?[a]:null,n,a??ur(i),i.__h,s),Wc(n,i,s),i.__e!=a&&Lc(i)),pt.length>e&&pt.sort(Zs));Xr.__r=0}function jc(t,e,r,n,s,o,i,a,c,u,l){var f,d,_,p,h,E,m,w,N,C=0,k=n&&n.__k||Mc,F=k.length,R=F,$=e.length;for(r.__k=[],f=0;f<$;f++)(p=r.__k[f]=(p=e[f])==null||typeof p=="boolean"||typeof p=="function"?null:typeof p=="string"||typeof p=="number"||typeof p=="bigint"?fr(null,p,null,null,p):Jr(p)?fr(de,{children:p},null,null,null):p.__b>0?fr(p.type,p.props,p.key,p.ref?p.ref:null,p.__v):p)!=null?(p.__=r,p.__b=r.__b+1,(w=Sm(p,k,m=f+C,R))===-1?_=Mt:(_=k[w]||Mt,k[w]=void 0,R--),to(t,p,_,s,o,i,a,c,u,l),h=p.__e,(d=p.ref)&&_.ref!=d&&(_.ref&&ro(_.ref,null,p),l.push(d,p.__c||h,p)),h!=null&&(E==null&&(E=h),(N=_===Mt||_.__v===null)?w==-1&&C--:w!==m&&(w===m+1?C++:w>m?R>$-m?C+=w-m:C--:C=w<m&&w==m-1?w-m:0),m=f+C,typeof p.type!="function"||w===m&&_.__k!==p.__k?typeof p.type=="function"||w===m&&!N?p.__d!==void 0?(c=p.__d,p.__d=void 0):c=h.nextSibling:c=Hc(t,h,c):c=Bc(p,c,t),typeof r.type=="function"&&(r.__d=c))):(_=k[f])&&_.key==null&&_.__e&&(_.__e==c&&(_.__=n,c=ur(_)),no(_,_,!1),k[f]=null);for(r.__e=E,f=F;f--;)k[f]!=null&&(typeof r.type=="function"&&k[f].__e!=null&&k[f].__e==r.__d&&(r.__d=k[f].__e.nextSibling),no(k[f],k[f]))}function Bc(t,e,r){for(var n,s=t.__k,o=0;s&&o<s.length;o++)(n=s[o])&&(n.__=t,e=typeof n.type=="function"?Bc(n,e,r):Hc(r,n.__e,e));return e}function je(t,e){return e=e||[],t==null||typeof t=="boolean"||(Jr(t)?t.some(function(r){je(r,e)}):e.push(t)),e}function Hc(t,e,r){return r==null||r.parentNode!==t?t.insertBefore(e,null):e==r&&e.parentNode!=null||t.insertBefore(e,r),e.nextSibling}function Sm(t,e,r,n){var s=t.key,o=t.type,i=r-1,a=r+1,c=e[r];if(c===null||c&&s==c.key&&o===c.type)return r;if(n>(c!=null?1:0))for(;i>=0||a<e.length;){if(i>=0){if((c=e[i])&&s==c.key&&o===c.type)return i;i--}if(a<e.length){if((c=e[a])&&s==c.key&&o===c.type)return a;a++}}return-1}function Em(t,e,r,n,s){var o;for(o in r)o==="children"||o==="key"||o in e||Qr(t,o,null,r[o],n);for(o in e)s&&typeof e[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||r[o]===e[o]||Qr(t,o,e[o],r[o],n)}function Gc(t,e,r){e[0]==="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||bm.test(e)?r:r+"px"}function Qr(t,e,r,n,s){var o;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||Gc(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||Gc(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")o=e!==(e=e.replace(/(PointerCapture)$|Capture$/,"$1")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=r,r?n?r.u=n.u:(r.u=Date.now(),t.addEventListener(e,o?Yc:qc,o)):t.removeEventListener(e,o?Yc:qc,o);else if(e!=="dangerouslySetInnerHTML"){if(s)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e!=="rowSpan"&&e!=="colSpan"&&e!=="role"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,r))}}function qc(t){var e=this.l[t.type+!1];if(t.t){if(t.t<=e.u)return}else t.t=Date.now();return e(b.event?b.event(t):t)}function Yc(t){return this.l[t.type+!0](b.event?b.event(t):t)}function to(t,e,r,n,s,o,i,a,c,u){var l,f,d,_,p,h,E,m,w,N,C,k,F,R,$,M=e.type;if(e.constructor!==void 0)return null;r.__h!=null&&(c=r.__h,a=e.__e=r.__e,e.__h=null,o=[a]),(l=b.__b)&&l(e);e:if(typeof M=="function")try{if(m=e.props,w=(l=M.contextType)&&n[l.__c],N=l?w?w.props.value:l.__:n,r.__c?E=(f=e.__c=r.__c).__=f.__E:("prototype"in M&&M.prototype.render?e.__c=f=new M(m,N):(e.__c=f=new Ie(m,N),f.constructor=M,f.render=$m),w&&w.sub(f),f.props=m,f.state||(f.state={}),f.context=N,f.__n=n,d=f.__d=!0,f.__h=[],f._sb=[]),f.__s==null&&(f.__s=f.state),M.getDerivedStateFromProps!=null&&(f.__s==f.state&&(f.__s=Ue({},f.__s)),Ue(f.__s,M.getDerivedStateFromProps(m,f.__s))),_=f.props,p=f.state,f.__v=e,d)M.getDerivedStateFromProps==null&&f.componentWillMount!=null&&f.componentWillMount(),f.componentDidMount!=null&&f.__h.push(f.componentDidMount);else{if(M.getDerivedStateFromProps==null&&m!==_&&f.componentWillReceiveProps!=null&&f.componentWillReceiveProps(m,N),!f.__e&&(f.shouldComponentUpdate!=null&&f.shouldComponentUpdate(m,f.__s,N)===!1||e.__v===r.__v)){for(e.__v!==r.__v&&(f.props=m,f.state=f.__s,f.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function(U){U&&(U.__=e)}),C=0;C<f._sb.length;C++)f.__h.push(f._sb[C]);f._sb=[],f.__h.length&&i.push(f);break e}f.componentWillUpdate!=null&&f.componentWillUpdate(m,f.__s,N),f.componentDidUpdate!=null&&f.__h.push(function(){f.componentDidUpdate(_,p,h)})}if(f.context=N,f.props=m,f.__P=t,f.__e=!1,k=b.__r,F=0,"prototype"in M&&M.prototype.render){for(f.state=f.__s,f.__d=!1,k&&k(e),l=f.render(f.props,f.state,f.context),R=0;R<f._sb.length;R++)f.__h.push(f._sb[R]);f._sb=[]}else do f.__d=!1,k&&k(e),l=f.render(f.props,f.state,f.context),f.state=f.__s;while(f.__d&&++F<25);f.state=f.__s,f.getChildContext!=null&&(n=Ue(Ue({},n),f.getChildContext())),d||f.getSnapshotBeforeUpdate==null||(h=f.getSnapshotBeforeUpdate(_,p)),jc(t,Jr($=l!=null&&l.type===de&&l.key==null?l.props.children:l)?$:[$],e,r,n,s,o,i,a,c,u),f.base=e.__e,e.__h=null,f.__h.length&&i.push(f),E&&(f.__E=f.__=null)}catch(U){e.__v=null,(c||o!=null)&&(e.__e=a,e.__h=!!c,o[o.indexOf(a)]=null),b.__e(U,e,r)}else o==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=km(r.__e,e,r,n,s,o,i,c,u);(l=b.diffed)&&l(e)}function Wc(t,e,r){for(var n=0;n<r.length;n++)ro(r[n],r[++n],r[++n]);b.__c&&b.__c(e,t),t.some(function(s){try{t=s.__h,s.__h=[],t.some(function(o){o.call(s)})}catch(o){b.__e(o,s.__v)}})}function km(t,e,r,n,s,o,i,a,c){var u,l,f,d=r.props,_=e.props,p=e.type,h=0;if(p==="svg"&&(s=!0),o!=null){for(;h<o.length;h++)if((u=o[h])&&"setAttribute"in u==!!p&&(p?u.localName===p:u.nodeType===3)){t=u,o[h]=null;break}}if(t==null){if(p===null)return document.createTextNode(_);t=s?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,_.is&&_),o=null,a=!1}if(p===null)d===_||a&&t.data===_||(t.data=_);else{if(o=o&&cr.call(t.childNodes),l=(d=r.props||Mt).dangerouslySetInnerHTML,f=_.dangerouslySetInnerHTML,!a){if(o!=null)for(d={},h=0;h<t.attributes.length;h++)d[t.attributes[h].name]=t.attributes[h].value;(f||l)&&(f&&(l&&f.__html==l.__html||f.__html===t.innerHTML)||(t.innerHTML=f&&f.__html||""))}if(Em(t,_,d,s,a),f)e.__k=[];else if(jc(t,Jr(h=e.props.children)?h:[h],e,r,n,s&&p!=="foreignObject",o,i,o?o[0]:r.__k&&ur(r,0),a,c),o!=null)for(h=o.length;h--;)o[h]!=null&&Uc(o[h]);a||("value"in _&&(h=_.value)!==void 0&&(h!==t.value||p==="progress"&&!h||p==="option"&&h!==d.value)&&Qr(t,"value",h,d.value,!1),"checked"in _&&(h=_.checked)!==void 0&&h!==t.checked&&Qr(t,"checked",h,d.checked,!1))}return t}function ro(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){b.__e(n,r)}}function no(t,e,r){var n,s;if(b.unmount&&b.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||ro(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(o){b.__e(o,e)}n.base=n.__P=null,t.__c=void 0}if(n=t.__k)for(s=0;s<n.length;s++)n[s]&&no(n[s],e,r||typeof t.type!="function");r||t.__e==null||Uc(t.__e),t.__=t.__e=t.__d=void 0}function $m(t,e,r){return this.constructor(t,r)}function Ut(t,e,r){var n,s,o,i;b.__&&b.__(t,e),s=(n=typeof r=="function")?null:r&&r.__k||e.__k,o=[],i=[],to(e,t=(!n&&r||e).__k=Le(de,null,[t]),s||Mt,Mt,e.ownerSVGElement!==void 0,!n&&r?[r]:s?null:e.firstChild?cr.call(e.childNodes):null,o,!n&&r?r:s?s.__e:e.firstChild,n,i),Wc(o,t,i)}function zc(t,e){Ut(t,e,zc)}function Om(t,e,r){var n,s,o,i,a=Ue({},t.props);for(o in t.type&&t.type.defaultProps&&(i=t.type.defaultProps),e)o=="key"?n=e[o]:o=="ref"?s=e[o]:a[o]=e[o]===void 0&&i!==void 0?i[o]:e[o];return arguments.length>2&&(a.children=arguments.length>3?cr.call(arguments,2):r),fr(t.type,a,n||t.key,s||t.ref,null)}function so(t,e){var r={__c:e="__cC"+Ac++,__:t,Consumer:function(n,s){return n.children(s)},Provider:function(n){var s,o;return this.getChildContext||(s=[],(o={})[e]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(i){this.props.value!==i.value&&s.some(function(a){a.__e=!0,eo(a)})},this.sub=function(i){s.push(i);var a=i.componentWillUnmount;i.componentWillUnmount=function(){s.splice(s.indexOf(i),1),a&&a.call(i)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}cr=Mc.slice,b={__e:function(t,e,r,n){for(var s,o,i;e=e.__;)if((s=e.__c)&&!s.__)try{if((o=s.constructor)&&o.getDerivedStateFromError!=null&&(s.setState(o.getDerivedStateFromError(t)),i=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(t,n||{}),i=s.__d),i)return s.__E=s}catch(a){t=a}throw t}},Nc=0,Ie.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Ue({},this.state),typeof t=="function"&&(t=t(Ue({},r),this.props)),t&&Ue(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),eo(this))},Ie.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),eo(this))},Ie.prototype.render=de,pt=[],Fc=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Zs=function(t,e){return t.__v.__b-e.__v.__b},Xr.__r=0,Ac=0;var Qe,B,oo,Vc,Lt=0,Kc=[],Zr=[],Jc=b.__b,Xc=b.__r,Qc=b.diffed,Zc=b.__c,ef=b.unmount;function jt(t,e){b.__h&&b.__h(B,t,Lt||e),Lt=0;var r=B.__H||(B.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({__V:Zr}),r.__[t]}function Be(t){return Lt=1,tf(nf,t)}function tf(t,e,r){var n=jt(Qe++,2);if(n.t=t,!n.__c&&(n.__=[r?r(e):nf(void 0,e),function(a){var c=n.__N?n.__N[0]:n.__[0],u=n.t(c,a);c!==u&&(n.__N=[u,n.__[1]],n.__c.setState({}))}],n.__c=B,!B.u)){var s=function(a,c,u){if(!n.__c.__H)return!0;var l=n.__c.__H.__.filter(function(d){return d.__c});if(l.every(function(d){return!d.__N}))return!o||o.call(this,a,c,u);var f=!1;return l.forEach(function(d){if(d.__N){var _=d.__[0];d.__=d.__N,d.__N=void 0,_!==d.__[0]&&(f=!0)}}),!(!f&&n.__c.props===a)&&(!o||o.call(this,a,c,u))};B.u=!0;var o=B.shouldComponentUpdate,i=B.componentWillUpdate;B.componentWillUpdate=function(a,c,u){if(this.__e){var l=o;o=void 0,s(a,c,u),o=l}i&&i.call(this,a,c,u)},B.shouldComponentUpdate=s}return n.__N||n.__}function Pe(t,e){var r=jt(Qe++,3);!b.__s&&ao(r.__H,e)&&(r.__=t,r.i=e,B.__H.__h.push(r))}function en(t,e){var r=jt(Qe++,4);!b.__s&&ao(r.__H,e)&&(r.__=t,r.i=e,B.__h.push(r))}function Tm(t){return Lt=5,ht(function(){return{current:t}},[])}function Im(t,e,r){Lt=6,en(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},r==null?r:r.concat(t))}function ht(t,e){var r=jt(Qe++,7);return ao(r.__H,e)?(r.__V=t(),r.i=e,r.__h=t,r.__V):r.__}function Pm(t,e){return Lt=8,ht(function(){return t},e)}function gt(t){var e=B.context[t.__c],r=jt(Qe++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(B)),e.props.value):t.__}function Rm(t,e){b.useDebugValue&&b.useDebugValue(e?e(t):t)}function Cm(){var t=jt(Qe++,11);if(!t.__){for(var e=B.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var r=e.__m||(e.__m=[0,0]);t.__="P"+r[0]+"-"+r[1]++}return t.__}function Nm(){for(var t;t=Kc.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(tn),t.__H.__h.forEach(io),t.__H.__h=[]}catch(e){t.__H.__h=[],b.__e(e,t.__v)}}b.__b=function(t){B=null,Jc&&Jc(t)},b.__r=function(t){Xc&&Xc(t),Qe=0;var e=(B=t.__c).__H;e&&(oo===B?(e.__h=[],B.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.__V=Zr,r.__N=r.i=void 0})):(e.__h.forEach(tn),e.__h.forEach(io),e.__h=[],Qe=0)),oo=B},b.diffed=function(t){Qc&&Qc(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Kc.push(e)!==1&&Vc===b.requestAnimationFrame||((Vc=b.requestAnimationFrame)||Dm)(Nm)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.__V!==Zr&&(r.__=r.__V),r.i=void 0,r.__V=Zr})),oo=B=null},b.__c=function(t,e){e.some(function(r){try{r.__h.forEach(tn),r.__h=r.__h.filter(function(n){return!n.__||io(n)})}catch(n){e.some(function(s){s.__h&&(s.__h=[])}),e=[],b.__e(n,r.__v)}}),Zc&&Zc(t,e)},b.unmount=function(t){ef&&ef(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{tn(n)}catch(s){e=s}}),r.__H=void 0,e&&b.__e(e,r.__v))};var rf=typeof requestAnimationFrame=="function";function Dm(t){var e,r=function(){clearTimeout(n),rf&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);rf&&(e=requestAnimationFrame(r))}function tn(t){var e=B,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),B=e}function io(t){var e=B;t.__c=t.__(),B=e}function ao(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function nf(t,e){return typeof e=="function"?e(t):e}function sf(t,e){for(var r in e)t[r]=e[r];return t}function co(t,e){for(var r in t)if(r!=="__source"&&!(r in e))return!0;for(var n in e)if(n!=="__source"&&t[n]!==e[n])return!0;return!1}function fo(t,e){return t===e&&(t!==0||1/t==1/e)||t!=t&&e!=e}function uo(t){this.props=t}function Fm(t,e){function r(s){var o=this.props.ref,i=o==s.ref;return!i&&o&&(o.call?o(null):o.current=null),e?!e(this.props,s)||!i:co(this.props,s)}function n(s){return this.shouldComponentUpdate=r,Le(t,s)}return n.displayName="Memo("+(t.displayName||t.name)+")",n.prototype.isReactComponent=!0,n.__f=!0,n}(uo.prototype=new Ie).isPureReactComponent=!0,uo.prototype.shouldComponentUpdate=function(t,e){return co(this.props,t)||co(this.state,e)};var of=b.__b;b.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),of&&of(t)};var Am=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function af(t){function e(r){var n=sf({},r);return delete n.ref,t(n,r.ref||null)}return e.$$typeof=Am,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}var cf=function(t,e){return t==null?null:je(je(t).map(e))},Mm={map:cf,forEach:cf,count:function(t){return t?je(t).length:0},only:function(t){var e=je(t);if(e.length!==1)throw"Children.only";return e[0]},toArray:je},Um=b.__e;b.__e=function(t,e,r,n){if(t.then){for(var s,o=e;o=o.__;)if((s=o.__c)&&s.__c)return e.__e==null&&(e.__e=r.__e,e.__k=r.__k),s.__c(t,e)}Um(t,e,r,n)};var ff=b.unmount;function uf(t,e,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(n){typeof n.__c=="function"&&n.__c()}),t.__c.__H=null),(t=sf({},t)).__c!=null&&(t.__c.__P===r&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(n){return uf(n,e,r)})),t}function lf(t,e,r){return t&&r&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(n){return lf(n,e,r)}),t.__c&&t.__c.__P===e&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}function rn(){this.__u=0,this.t=null,this.__b=null}function _f(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function Lm(t){var e,r,n;function s(o){if(e||(e=t()).then(function(i){r=i.default||i},function(i){n=i}),n)throw n;if(!r)throw e;return Le(r,o)}return s.displayName="Lazy",s.__f=!0,s}function lr(){this.u=null,this.o=null}b.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),ff&&ff(t)},(rn.prototype=new Ie).__c=function(t,e){var r=e.__c,n=this;n.t==null&&(n.t=[]),n.t.push(r);var s=_f(n.__v),o=!1,i=function(){o||(o=!0,r.__R=null,s?s(a):a())};r.__R=i;var a=function(){if(!--n.__u){if(n.state.__a){var u=n.state.__a;n.__v.__k[0]=lf(u,u.__c.__P,u.__c.__O)}var l;for(n.setState({__a:n.__b=null});l=n.t.pop();)l.forceUpdate()}},c=e.__h===!0;n.__u++||c||n.setState({__a:n.__b=n.__v.__k[0]}),t.then(i,i)},rn.prototype.componentWillUnmount=function(){this.t=[]},rn.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=uf(this.__b,r,n.__O=n.__P)}this.__b=null}var s=e.__a&&Le(de,null,t.fallback);return s&&(s.__h=null),[Le(de,null,e.__a?null:t.children),s]};var df=function(t,e,r){if(++r[1]===r[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(r=t.u;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;t.u=r=r[2]}};function jm(t){return this.getChildContext=function(){return t.context},t.children}function Bm(t){var e=this,r=t.i;e.componentWillUnmount=function(){Ut(null,e.l),e.l=null,e.i=null},e.i&&e.i!==r&&e.componentWillUnmount(),e.l||(e.i=r,e.l={nodeType:1,parentNode:r,childNodes:[],appendChild:function(n){this.childNodes.push(n),e.i.appendChild(n)},insertBefore:function(n,s){this.childNodes.push(n),e.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.i.removeChild(n)}}),Ut(Le(jm,{context:e.context},t.__v),e.l)}function Hm(t,e){var r=Le(Bm,{__v:t,i:e});return r.containerInfo=e,r}(lr.prototype=new Ie).__a=function(t){var e=this,r=_f(e.__v),n=e.o.get(t);return n[0]++,function(s){var o=function(){e.props.revealOrder?(n.push(s),df(e,t,n)):s()};r?r(o):o()}},lr.prototype.render=function(t){this.u=null,this.o=new Map;var e=je(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var r=e.length;r--;)this.o.set(e[r],this.u=[1,0,this.u]);return t.children},lr.prototype.componentDidUpdate=lr.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,r){df(t,r,e)})};var pf=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Gm=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,qm=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Ym=/[A-Z0-9]/g,Wm=typeof document<"u",zm=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(t)};function Vm(t,e,r){return e.__k==null&&(e.textContent=""),Ut(t,e),typeof r=="function"&&r(),t?t.__c:null}function Km(t,e,r){return zc(t,e),typeof r=="function"&&r(),t?t.__c:null}Ie.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(Ie.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var hf=b.event;function Jm(){}function Xm(){return this.cancelBubble}function Qm(){return this.defaultPrevented}b.event=function(t){return hf&&(t=hf(t)),t.persist=Jm,t.isPropagationStopped=Xm,t.isDefaultPrevented=Qm,t.nativeEvent=t};var lo,Zm={enumerable:!1,configurable:!0,get:function(){return this.class}},gf=b.vnode;b.vnode=function(t){typeof t.type=="string"&&function(e){var r=e.props,n=e.type,s={};for(var o in r){var i=r[o];if(!(o==="value"&&"defaultValue"in r&&i==null||Wm&&o==="children"&&n==="noscript"||o==="class"||o==="className")){var a=o.toLowerCase();o==="defaultValue"&&"value"in r&&r.value==null?o="value":o==="download"&&i===!0?i="":a==="ondoubleclick"?o="ondblclick":a!=="onchange"||n!=="input"&&n!=="textarea"||zm(r.type)?a==="onfocus"?o="onfocusin":a==="onblur"?o="onfocusout":qm.test(o)?o=a:n.indexOf("-")===-1&&Gm.test(o)?o=o.replace(Ym,"-$&").toLowerCase():i===null&&(i=void 0):a=o="oninput",a==="oninput"&&s[o=a]&&(o="oninputCapture"),s[o]=i}}n=="select"&&s.multiple&&Array.isArray(s.value)&&(s.value=je(r.children).forEach(function(c){c.props.selected=s.value.indexOf(c.props.value)!=-1})),n=="select"&&s.defaultValue!=null&&(s.value=je(r.children).forEach(function(c){c.props.selected=s.multiple?s.defaultValue.indexOf(c.props.value)!=-1:s.defaultValue==c.props.value})),r.class&&!r.className?(s.class=r.class,Object.defineProperty(s,"className",Zm)):(r.className&&!r.class||r.class&&r.className)&&(s.class=s.className=r.className),e.props=s}(t),t.$$typeof=pf,gf&&gf(t)};var vf=b.__r;b.__r=function(t){vf&&vf(t),lo=t.__c};var mf=b.diffed;b.diffed=function(t){mf&&mf(t);var e=t.props,r=t.__e;r!=null&&t.type==="textarea"&&"value"in e&&e.value!==r.value&&(r.value=e.value==null?"":e.value),lo=null};var ex={ReactCurrentDispatcher:{current:{readContext:function(t){return lo.__n[t.__c].props.value}}}};function tx(t){return Le.bind(null,t)}function nn(t){return!!t&&t.$$typeof===pf}function rx(t){return nn(t)&&t.type===de}function nx(t){return nn(t)?Om.apply(null,arguments):t}function sx(t){return!!t.__k&&(Ut(null,t),!0)}function ox(t){return t&&(t.base||t.nodeType===1&&t)||null}var ix=function(t,e){return t(e)},ax=function(t,e){return t(e)},cx=de;function xf(t){t()}function fx(t){return t}function ux(){return[!1,xf]}var lx=en,_x=nn;function dx(t,e){var r=e(),n=Be({h:{__:r,v:e}}),s=n[0].h,o=n[1];return en(function(){s.__=r,s.v=e,fo(s.__,e())||o({h:s})},[t,r,e]),Pe(function(){return fo(s.__,s.v())||o({h:s}),t(function(){fo(s.__,s.v())||o({h:s})})},[t]),r}var _o={useState:Be,useId:Cm,useReducer:tf,useEffect:Pe,useLayoutEffect:en,useInsertionEffect:lx,useTransition:ux,useDeferredValue:fx,useSyncExternalStore:dx,startTransition:xf,useRef:Tm,useImperativeHandle:Im,useMemo:ht,useCallback:Pm,useContext:gt,useDebugValue:Rm,version:"17.0.2",Children:Mm,render:Vm,hydrate:Km,unmountComponentAtNode:sx,createPortal:Hm,createElement:Le,createContext:so,createFactory:tx,cloneElement:nx,createRef:wm,Fragment:de,isValidElement:nn,isElement:_x,isFragment:rx,findDOMNode:ox,Component:Ie,PureComponent:uo,memo:Fm,forwardRef:af,flushSync:ax,unstable_batchedUpdates:ix,StrictMode:cx,Suspense:rn,SuspenseList:lr,lazy:Lm,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:ex};const be=()=>typeof window!="object"?{}:{...window.$superfiliateStorefront,scriptId:"superfiliate-storefront-script"},Bt=so([{storefrontData:be(),loading:!1},t=>{}]),yf=Object.prototype.toString;function bf(t){switch(yf.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return mt(t,Error)}}function Ht(t,e){return yf.call(t)===`[object ${e}]`}function po(t){return Ht(t,"ErrorEvent")}function wf(t){return Ht(t,"DOMError")}function px(t){return Ht(t,"DOMException")}function vt(t){return Ht(t,"String")}function Sf(t){return t===null||typeof t!="object"&&typeof t!="function"}function Gt(t){return Ht(t,"Object")}function sn(t){return typeof Event<"u"&&mt(t,Event)}function hx(t){return typeof Element<"u"&&mt(t,Element)}function gx(t){return Ht(t,"RegExp")}function ho(t){return!!(t&&t.then&&typeof t.then=="function")}function vx(t){return Gt(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function mx(t){return typeof t=="number"&&t!==t}function mt(t,e){try{return t instanceof e}catch{return!1}}function Ef(t){return!!(typeof t=="object"&&t!==null&&(t.__isVue||t._isVue))}function qt(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}function kf(t,e){if(!Array.isArray(t))return"";const r=[];for(let n=0;n<t.length;n++){const s=t[n];try{Ef(s)?r.push("[VueViewModel]"):r.push(String(s))}catch{r.push("[value cannot be serialized]")}}return r.join(e)}function xx(t,e,r=!1){return vt(t)?gx(e)?e.test(t):vt(e)?r?t===e:t.includes(e):!1:!1}function on(t,e=[],r=!1){return e.some(n=>xx(t,n,r))}function yx(t,e,r=250,n,s,o,i){if(!o.exception||!o.exception.values||!i||!mt(i.originalException,Error))return;const a=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;a&&(o.exception.values=bx(go(t,e,s,i.originalException,n,o.exception.values,a,0),r))}function go(t,e,r,n,s,o,i,a){if(o.length>=r+1)return o;let c=[...o];if(mt(n[s],Error)){$f(i,a);const u=t(e,n[s]),l=c.length;Of(u,s,l,a),c=go(t,e,r,n[s],s,[u,...c],u,l)}return Array.isArray(n.errors)&&n.errors.forEach((u,l)=>{if(mt(u,Error)){$f(i,a);const f=t(e,u),d=c.length;Of(f,`errors[${l}]`,d,a),c=go(t,e,r,u,s,[f,...c],f,d)}}),c}function $f(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,is_exception_group:!0,exception_id:e}}function Of(t,e,r,n){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,type:"chained",source:e,exception_id:r,parent_id:n}}function bx(t,e){return t.map(r=>(r.value&&(r.value=qt(r.value,e)),r))}function an(t){return t&&t.Math==Math?t:void 0}const J=typeof globalThis=="object"&&an(globalThis)||typeof window=="object"&&an(window)||typeof self=="object"&&an(self)||typeof global=="object"&&an(global)||function(){return this}()||{};function _r(){return J}function Tf(t,e,r){const n=r||J,s=n.__SENTRY__=n.__SENTRY__||{};return s[t]||(s[t]=e())}const wx=_r(),Sx=80;function vo(t,e={}){if(!t)return"<unknown>";try{let r=t;const n=5,s=[];let o=0,i=0;const a=" > ",c=a.length;let u;const l=Array.isArray(e)?e:e.keyAttrs,f=!Array.isArray(e)&&e.maxStringLength||Sx;for(;r&&o++<n&&(u=Ex(r,l),!(u==="html"||o>1&&i+s.length*c+u.length>=f));)s.push(u),i+=u.length,r=r.parentNode;return s.reverse().join(a)}catch{return"<unknown>"}}function Ex(t,e){const r=t,n=[];let s,o,i,a,c;if(!r||!r.tagName)return"";n.push(r.tagName.toLowerCase());const u=e&&e.length?e.filter(f=>r.getAttribute(f)).map(f=>[f,r.getAttribute(f)]):null;if(u&&u.length)u.forEach(f=>{n.push(`[${f[0]}="${f[1]}"]`)});else if(r.id&&n.push(`#${r.id}`),s=r.className,s&&vt(s))for(o=s.split(/\s+/),c=0;c<o.length;c++)n.push(`.${o[c]}`);const l=["aria-label","type","name","title","alt"];for(c=0;c<l.length;c++)i=l[c],a=r.getAttribute(i),a&&n.push(`[${i}="${a}"]`);return n.join("")}function kx(){try{return wx.document.location.href}catch{return""}}const $x="Sentry Logger ",mo=["debug","info","warn","error","log","assert","trace"],cn={};function If(t){if(!("console"in J))return t();const e=J.console,r={},n=Object.keys(cn);n.forEach(s=>{const o=cn[s];r[s]=e[s],e[s]=o});try{return t()}finally{n.forEach(s=>{e[s]=r[s]})}}function Ox(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?mo.forEach(r=>{e[r]=(...n)=>{t&&If(()=>{J.console[r](`${$x}[${r}]:`,...n)})}}):mo.forEach(r=>{e[r]=()=>{}}),e}const I=Ox(),Tx=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Ix(t){return t==="http"||t==="https"}function fn(t,e=!1){const{host:r,path:n,pass:s,port:o,projectId:i,protocol:a,publicKey:c}=t;return`${a}://${c}${e&&s?`:${s}`:""}@${r}${o?`:${o}`:""}/${n&&`${n}/`}${i}`}function Px(t){const e=Tx.exec(t);if(!e){console.error(`Invalid Sentry Dsn: ${t}`);return}const[r,n,s="",o,i="",a]=e.slice(1);let c="",u=a;const l=u.split("/");if(l.length>1&&(c=l.slice(0,-1).join("/"),u=l.pop()),u){const f=u.match(/^\d+/);f&&(u=f[0])}return Pf({host:o,pass:s,path:c,projectId:u,port:i,protocol:r,publicKey:n})}function Pf(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function Rx(t){if(!(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__))return!0;const{port:e,projectId:r,protocol:n}=t;return["protocol","publicKey","host","projectId"].find(i=>t[i]?!1:(I.error(`Invalid Sentry Dsn: ${i} missing`),!0))?!1:r.match(/^\d+$/)?Ix(n)?e&&isNaN(parseInt(e,10))?(I.error(`Invalid Sentry Dsn: Invalid port ${e}`),!1):!0:(I.error(`Invalid Sentry Dsn: Invalid protocol ${n}`),!1):(I.error(`Invalid Sentry Dsn: Invalid projectId ${r}`),!1)}function Cx(t){const e=typeof t=="string"?Px(t):Pf(t);if(!(!e||!Rx(e)))return e}class Re extends Error{constructor(e,r="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=r}}function ee(t,e,r){if(!(e in t))return;const n=t[e],s=r(n);typeof s=="function"&&Rf(s,n),t[e]=s}function dr(t,e,r){try{Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0})}catch{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&I.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function Rf(t,e){try{const r=e.prototype||{};t.prototype=e.prototype=r,dr(t,"__sentry_original__",e)}catch{}}function xo(t){return t.__sentry_original__}function Nx(t){return Object.keys(t).map(e=>`${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`).join("&")}function Cf(t){if(bf(t))return{message:t.message,name:t.name,stack:t.stack,...Df(t)};if(sn(t)){const e={type:t.type,target:Nf(t.target),currentTarget:Nf(t.currentTarget),...Df(t)};return typeof CustomEvent<"u"&&mt(t,CustomEvent)&&(e.detail=t.detail),e}else return t}function Nf(t){try{return hx(t)?vo(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}function Df(t){if(typeof t=="object"&&t!==null){const e={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}else return{}}function Dx(t,e=40){const r=Object.keys(Cf(t));if(r.sort(),!r.length)return"[object has no keys]";if(r[0].length>=e)return qt(r[0],e);for(let n=r.length;n>0;n--){const s=r.slice(0,n).join(", ");if(!(s.length>e))return n===r.length?s:qt(s,e)}return""}function un(t){return yo(t,new Map)}function yo(t,e){if(Gt(t)){const r=e.get(t);if(r!==void 0)return r;const n={};e.set(t,n);for(const s of Object.keys(t))typeof t[s]<"u"&&(n[s]=yo(t[s],e));return n}if(Array.isArray(t)){const r=e.get(t);if(r!==void 0)return r;const n=[];return e.set(t,n),t.forEach(s=>{n.push(yo(s,e))}),n}return t}function He(){const t=J,e=t.crypto||t.msCrypto;let r=()=>Math.random()*16;try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(r=()=>e.getRandomValues(new Uint8Array(1))[0])}catch{}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,n=>(n^(r()&15)>>n/4).toString(16))}function Ff(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function Ze(t){const{message:e,event_id:r}=t;if(e)return e;const n=Ff(t);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"}function bo(t,e,r){const n=t.exception=t.exception||{},s=n.values=n.values||[],o=s[0]=s[0]||{};o.value||(o.value=e||""),o.type||(o.type=r||"Error")}function pr(t,e){const r=Ff(t);if(!r)return;const n={type:"generic",handled:!0},s=r.mechanism;if(r.mechanism={...n,...s,...e},e&&"data"in e){const o={...s&&s.data,...e.data};r.mechanism.data=o}}function Af(t){if(t&&t.__sentry_captured__)return!0;try{dr(t,"__sentry_captured__",!0)}catch{}return!1}function Fx(t){return Array.isArray(t)?t:[t]}const Mf=50,Uf=/\(error: (.*)\)/,Lf=/captureMessage|captureException/;function Ax(...t){const e=t.sort((r,n)=>r[0]-n[0]).map(r=>r[1]);return(r,n=0)=>{const s=[],o=r.split(`
`);for(let i=n;i<o.length;i++){const a=o[i];if(a.length>1024)continue;const c=Uf.test(a)?a.replace(Uf,"$1"):a;if(!c.match(/\S*Error: /)){for(const u of e){const l=u(c);if(l){s.push(l);break}}if(s.length>=Mf)break}}return Mx(s)}}function Mx(t){if(!t.length)return[];const e=Array.from(t);return/sentryWrapped/.test(e[e.length-1].function||"")&&e.pop(),e.reverse(),Lf.test(e[e.length-1].function||"")&&(e.pop(),Lf.test(e[e.length-1].function||"")&&e.pop()),e.slice(0,Mf).map(r=>({...r,filename:r.filename||e[e.length-1].filename,function:r.function||"?"}))}const wo="<anonymous>";function et(t){try{return!t||typeof t!="function"?wo:t.name||wo}catch{return wo}}const So=_r();function Ux(){if(!("fetch"in So))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function Eo(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function Lx(){if(!Ux())return!1;if(Eo(So.fetch))return!0;let t=!1;const e=So.document;if(e&&typeof e.createElement=="function")try{const r=e.createElement("iframe");r.hidden=!0,e.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(t=Eo(r.contentWindow.fetch)),e.head.removeChild(r)}catch(r){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&I.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return t}const ln=_r();function jx(){const t=ln.chrome,e=t&&t.app&&t.app.runtime,r="history"in ln&&!!ln.history.pushState&&!!ln.history.replaceState;return!e&&r}const X=_r(),hr="__sentry_xhr_v2__",gr={},jf={};function Bx(t){if(!jf[t])switch(jf[t]=!0,t){case"console":Hx();break;case"dom":Xx();break;case"xhr":Yx();break;case"fetch":Gx();break;case"history":Wx();break;case"error":Qx();break;case"unhandledrejection":Zx();break;default:(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&I.warn("unknown instrumentation type:",t);return}}function xt(t,e){gr[t]=gr[t]||[],gr[t].push(e),Bx(t)}function Oe(t,e){if(!(!t||!gr[t]))for(const r of gr[t]||[])try{r(e)}catch(n){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&I.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${et(r)}
Error:`,n)}}function Hx(){"console"in J&&mo.forEach(function(t){t in J.console&&ee(J.console,t,function(e){return cn[t]=e,function(...r){Oe("console",{args:r,level:t});const n=cn[t];n&&n.apply(J.console,r)}})})}function Gx(){Lx()&&ee(J,"fetch",function(t){return function(...e){const{method:r,url:n}=qx(e),s={args:e,fetchData:{method:r,url:n},startTimestamp:Date.now()};return Oe("fetch",{...s}),t.apply(J,e).then(o=>(Oe("fetch",{...s,endTimestamp:Date.now(),response:o}),o),o=>{throw Oe("fetch",{...s,endTimestamp:Date.now(),error:o}),o})}})}function ko(t,e){return!!t&&typeof t=="object"&&!!t[e]}function Bf(t){return typeof t=="string"?t:t?ko(t,"url")?t.url:t.toString?t.toString():"":""}function qx(t){if(t.length===0)return{method:"GET",url:""};if(t.length===2){const[r,n]=t;return{url:Bf(r),method:ko(n,"method")?String(n.method).toUpperCase():"GET"}}const e=t[0];return{url:Bf(e),method:ko(e,"method")?String(e.method).toUpperCase():"GET"}}function Yx(){if(!X.XMLHttpRequest)return;const t=XMLHttpRequest.prototype;ee(t,"open",function(e){return function(...r){const n=Date.now(),s=r[1],o=this[hr]={method:vt(r[0])?r[0].toUpperCase():r[0],url:r[1],request_headers:{}};vt(s)&&o.method==="POST"&&s.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const i=()=>{const a=this[hr];if(a&&this.readyState===4){try{a.status_code=this.status}catch{}Oe("xhr",{args:r,endTimestamp:Date.now(),startTimestamp:n,xhr:this})}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?ee(this,"onreadystatechange",function(a){return function(...c){return i(),a.apply(this,c)}}):this.addEventListener("readystatechange",i),ee(this,"setRequestHeader",function(a){return function(...c){const[u,l]=c,f=this[hr];return f&&(f.request_headers[u.toLowerCase()]=l),a.apply(this,c)}}),e.apply(this,r)}}),ee(t,"send",function(e){return function(...r){const n=this[hr];return n&&r[0]!==void 0&&(n.body=r[0]),Oe("xhr",{args:r,startTimestamp:Date.now(),xhr:this}),e.apply(this,r)}})}let _n;function Wx(){if(!jx())return;const t=X.onpopstate;X.onpopstate=function(...r){const n=X.location.href,s=_n;if(_n=n,Oe("history",{from:s,to:n}),t)try{return t.apply(this,r)}catch{}};function e(r){return function(...n){const s=n.length>2?n[2]:void 0;if(s){const o=_n,i=String(s);_n=i,Oe("history",{from:o,to:i})}return r.apply(this,n)}}ee(X.history,"pushState",e),ee(X.history,"replaceState",e)}const zx=1e3;let Hf,$o,Oo;function Vx(t){if(t.type!==$o)return!1;try{if(!t.target||t.target._sentryId!==Oo)return!1}catch{}return!0}function Kx(t,e){return t!=="keypress"?!1:!e||!e.tagName?!0:!(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)}function Jx(t){try{return t.target}catch{return null}}function Gf(t,e=!1){return r=>{if(!r||r._sentryCaptured)return;const n=Jx(r);if(Kx(r.type,n))return;dr(r,"_sentryCaptured",!0),n&&!n._sentryId&&dr(n,"_sentryId",He());const s=r.type==="keypress"?"input":r.type;Vx(r)||(t({event:r,name:s,global:e}),$o=r.type,Oo=n?n._sentryId:void 0),clearTimeout(Hf),Hf=X.setTimeout(()=>{Oo=void 0,$o=void 0},zx)}}function Xx(){if(!X.document)return;const t=Oe.bind(null,"dom"),e=Gf(t,!0);X.document.addEventListener("click",e,!1),X.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(r=>{const n=X[r]&&X[r].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(ee(n,"addEventListener",function(s){return function(o,i,a){if(o==="click"||o=="keypress")try{const c=this,u=c.__sentry_instrumentation_handlers__=c.__sentry_instrumentation_handlers__||{},l=u[o]=u[o]||{refCount:0};if(!l.handler){const f=Gf(t);l.handler=f,s.call(this,o,f,a)}l.refCount++}catch{}return s.call(this,o,i,a)}}),ee(n,"removeEventListener",function(s){return function(o,i,a){if(o==="click"||o=="keypress")try{const c=this,u=c.__sentry_instrumentation_handlers__||{},l=u[o];l&&(l.refCount--,l.refCount<=0&&(s.call(this,o,l.handler,a),l.handler=void 0,delete u[o]),Object.keys(u).length===0&&delete c.__sentry_instrumentation_handlers__)}catch{}return s.call(this,o,i,a)}}))})}let dn=null;function Qx(){dn=X.onerror,X.onerror=function(t,e,r,n,s){return Oe("error",{column:n,error:s,line:r,msg:t,url:e}),dn&&!dn.__SENTRY_LOADER__?dn.apply(this,arguments):!1},X.onerror.__SENTRY_INSTRUMENTED__=!0}let pn=null;function Zx(){pn=X.onunhandledrejection,X.onunhandledrejection=function(t){return Oe("unhandledrejection",t),pn&&!pn.__SENTRY_LOADER__?pn.apply(this,arguments):!0},X.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function ey(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function ty(){return"npm"}function ry(){return!ey()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function ny(t,e){return t.require(e)}function sy(){const t=typeof WeakSet=="function",e=t?new WeakSet:[];function r(s){if(t)return e.has(s)?!0:(e.add(s),!1);for(let o=0;o<e.length;o++)if(e[o]===s)return!0;return e.push(s),!1}function n(s){if(t)e.delete(s);else for(let o=0;o<e.length;o++)if(e[o]===s){e.splice(o,1);break}}return[r,n]}function tt(t,e=100,r=1/0){try{return To("",t,e,r)}catch(n){return{ERROR:`**non-serializable** (${n})`}}}function qf(t,e=3,r=100*1024){const n=tt(t,e);return cy(n)>r?qf(t,e-1,r):n}function To(t,e,r=1/0,n=1/0,s=sy()){const[o,i]=s;if(e==null||["number","boolean","string"].includes(typeof e)&&!mx(e))return e;const a=oy(t,e);if(!a.startsWith("[object "))return a;if(e.__sentry_skip_normalization__)return e;const c=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:r;if(c===0)return a.replace("object ","");if(o(e))return"[Circular ~]";const u=e;if(u&&typeof u.toJSON=="function")try{const _=u.toJSON();return To("",_,c-1,n,s)}catch{}const l=Array.isArray(e)?[]:{};let f=0;const d=Cf(e);for(const _ in d){if(!Object.prototype.hasOwnProperty.call(d,_))continue;if(f>=n){l[_]="[MaxProperties ~]";break}const p=d[_];l[_]=To(_,p,c-1,n,s),f++}return i(e),l}function oy(t,e){try{if(t==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(t==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&e===global)return"[Global]";if(typeof window<"u"&&e===window)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(Ef(e))return"[VueViewModel]";if(vx(e))return"[SyntheticEvent]";if(typeof e=="number"&&e!==e)return"[NaN]";if(typeof e=="function")return`[Function: ${et(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;const r=iy(e);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(r){return`**non-serializable** (${r})`}}function iy(t){const e=Object.getPrototypeOf(t);return e?e.constructor.name:"null prototype"}function ay(t){return~-encodeURI(t).split(/%..|./).length}function cy(t){return ay(JSON.stringify(t))}var Ge;(function(t){t[t.PENDING=0]="PENDING";const r=1;t[t.RESOLVED=r]="RESOLVED";const n=2;t[t.REJECTED=n]="REJECTED"})(Ge||(Ge={}));function yt(t){return new we(e=>{e(t)})}function Io(t){return new we((e,r)=>{r(t)})}class we{constructor(e){we.prototype.__init.call(this),we.prototype.__init2.call(this),we.prototype.__init3.call(this),we.prototype.__init4.call(this),this._state=Ge.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(r){this._reject(r)}}then(e,r){return new we((n,s)=>{this._handlers.push([!1,o=>{if(!e)n(o);else try{n(e(o))}catch(i){s(i)}},o=>{if(!r)s(o);else try{n(r(o))}catch(i){s(i)}}]),this._executeHandlers()})}catch(e){return this.then(r=>r,e)}finally(e){return new we((r,n)=>{let s,o;return this.then(i=>{o=!1,s=i,e&&e()},i=>{o=!0,s=i,e&&e()}).then(()=>{if(o){n(s);return}r(s)})})}__init(){this._resolve=e=>{this._setResult(Ge.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(Ge.REJECTED,e)}}__init3(){this._setResult=(e,r)=>{if(this._state===Ge.PENDING){if(ho(r)){r.then(this._resolve,this._reject);return}this._state=e,this._value=r,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===Ge.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach(r=>{r[0]||(this._state===Ge.RESOLVED&&r[1](this._value),this._state===Ge.REJECTED&&r[2](this._value),r[0]=!0)})}}}function fy(t){const e=[];function r(){return t===void 0||e.length<t}function n(i){return e.splice(e.indexOf(i),1)[0]}function s(i){if(!r())return Io(new Re("Not adding Promise because buffer limit was reached."));const a=i();return e.indexOf(a)===-1&&e.push(a),a.then(()=>n(a)).then(null,()=>n(a).then(null,()=>{})),a}function o(i){return new we((a,c)=>{let u=e.length;if(!u)return a(!0);const l=setTimeout(()=>{i&&i>0&&a(!1)},i);e.forEach(f=>{yt(f).then(()=>{--u||(clearTimeout(l),a(!0))},c)})})}return{$:e,add:s,drain:o}}function Po(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const r=e[6]||"",n=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:r,hash:n,relative:e[5]+r+n}}const uy=["fatal","error","warning","log","info","debug"];function ly(t){return t==="warn"?"warning":uy.includes(t)?t:"log"}const Yf=_r(),Ro={nowSeconds:()=>Date.now()/1e3};function _y(){const{performance:t}=Yf;if(!t||!t.now)return;const e=Date.now()-t.now();return{now:()=>t.now(),timeOrigin:e}}function dy(){try{return ny(module,"perf_hooks").performance}catch{return}}const Co=ry()?dy():_y(),Wf=Co===void 0?Ro:{nowSeconds:()=>(Co.timeOrigin+Co.now())/1e3},hn=Ro.nowSeconds.bind(Ro),zf=Wf.nowSeconds.bind(Wf);(()=>{const{performance:t}=Yf;if(!t||!t.now)return;const e=3600*1e3,r=t.now(),n=Date.now(),s=t.timeOrigin?Math.abs(t.timeOrigin+r-n):e,o=s<e,i=t.timing&&t.timing.navigationStart,c=typeof i=="number"?Math.abs(i+r-n):e,u=c<e;return o||u?s<=c?t.timeOrigin:i:n})();function vr(t,e=[]){return[t,e]}function py(t,e){const[r,n]=t;return[r,[...n,e]]}function Vf(t,e){const r=t[1];for(const n of r){const s=n[0].type;if(e(n,s))return!0}return!1}function No(t,e){return(e||new TextEncoder).encode(t)}function hy(t,e){const[r,n]=t;let s=JSON.stringify(r);function o(i){typeof s=="string"?s=typeof i=="string"?s+i:[No(s,e),i]:s.push(typeof i=="string"?No(i,e):i)}for(const i of n){const[a,c]=i;if(o(`
${JSON.stringify(a)}
`),typeof c=="string"||c instanceof Uint8Array)o(c);else{let u;try{u=JSON.stringify(c)}catch{u=JSON.stringify(tt(c))}o(u)}}return typeof s=="string"?s:gy(s)}function gy(t){const e=t.reduce((s,o)=>s+o.length,0),r=new Uint8Array(e);let n=0;for(const s of t)r.set(s,n),n+=s.length;return r}function vy(t,e){const r=typeof t.data=="string"?No(t.data,e):t.data;return[un({type:"attachment",length:r.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),r]}const my={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",statsd:"unknown"};function Kf(t){return my[t]}function Jf(t){if(!t||!t.sdk)return;const{name:e,version:r}=t.sdk;return{name:e,version:r}}function xy(t,e,r,n){const s=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:t.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!r&&n&&{dsn:fn(n)},...s&&{trace:un({...s})}}}function yy(t,e,r){const n=[{type:"client_report"},{timestamp:r||hn(),discarded_events:t}];return vr(e?{dsn:e}:{},[n])}const by=60*1e3;function wy(t,e=Date.now()){const r=parseInt(`${t}`,10);if(!isNaN(r))return r*1e3;const n=Date.parse(`${t}`);return isNaN(n)?by:n-e}function Sy(t,e){return t[e]||t.all||0}function Ey(t,e,r=Date.now()){return Sy(t,e)>r}function ky(t,{statusCode:e,headers:r},n=Date.now()){const s={...t},o=r&&r["x-sentry-rate-limits"],i=r&&r["retry-after"];if(o)for(const a of o.trim().split(",")){const[c,u]=a.split(":",2),l=parseInt(c,10),f=(isNaN(l)?60:l)*1e3;if(!u)s.all=n+f;else for(const d of u.split(";"))s[d]=n+f}else i?s.all=n+wy(i,n):e===429&&(s.all=n+60*1e3);return s}const Do="production";function Fo(){return Tf("globalEventProcessors",()=>[])}function $y(t){Fo().push(t)}function gn(t,e,r,n=0){return new we((s,o)=>{const i=t[n];if(e===null||typeof i!="function")s(e);else{const a=i({...e},r);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&i.id&&a===null&&I.log(`Event processor "${i.id}" dropped event`),ho(a)?a.then(c=>gn(t,c,r,n+1).then(s)).then(null,o):gn(t,a,r,n+1).then(s).then(null,o)}})}function Oy(t){const e=zf(),r={sid:He(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Iy(r)};return t&&Yt(r,t),r}function Yt(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||zf(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:He()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const r=t.timestamp-t.started;t.duration=r>=0?r:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function Ty(t,e){let r={};e?r={status:e}:t.status==="ok"&&(r={status:"exited"}),Yt(t,r)}function Iy(t){return un({sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}const Py=100;class bt{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=Xf()}static clone(e){const r=new bt;return e&&(r._breadcrumbs=[...e._breadcrumbs],r._tags={...e._tags},r._extra={...e._extra},r._contexts={...e._contexts},r._user=e._user,r._level=e._level,r._span=e._span,r._session=e._session,r._transactionName=e._transactionName,r._fingerprint=e._fingerprint,r._eventProcessors=[...e._eventProcessors],r._requestSession=e._requestSession,r._attachments=[...e._attachments],r._sdkProcessingMetadata={...e._sdkProcessingMetadata},r._propagationContext={...e._propagationContext}),r}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{},this._session&&Yt(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,r){return this._tags={...this._tags,[e]:r},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,r){return this._extra={...this._extra,[e]:r},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,r){return r===null?delete this._contexts[e]:this._contexts[e]=r,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this.getSpan();return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;if(typeof e=="function"){const r=e(this);return r instanceof bt?r:this}return e instanceof bt?(this._tags={...this._tags,...e._tags},this._extra={...this._extra,...e._extra},this._contexts={...this._contexts,...e._contexts},e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession),e._propagationContext&&(this._propagationContext=e._propagationContext)):Gt(e)&&(e=e,this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession),e.propagationContext&&(this._propagationContext=e.propagationContext)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=Xf(),this}addBreadcrumb(e,r){const n=typeof r=="number"?r:Py;if(n<=0)return this;const s={timestamp:hn(),...e},o=this._breadcrumbs;return o.push(s),this._breadcrumbs=o.length>n?o.slice(-n):o,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(e,r={},n){if(this._extra&&Object.keys(this._extra).length&&(e.extra={...this._extra,...e.extra}),this._tags&&Object.keys(this._tags).length&&(e.tags={...this._tags,...e.tags}),this._user&&Object.keys(this._user).length&&(e.user={...this._user,...e.user}),this._contexts&&Object.keys(this._contexts).length&&(e.contexts={...this._contexts,...e.contexts}),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts={trace:this._span.getTraceContext(),...e.contexts};const i=this._span.transaction;if(i){e.sdkProcessingMetadata={dynamicSamplingContext:i.getDynamicSamplingContext(),...e.sdkProcessingMetadata};const a=i.name;a&&(e.tags={transaction:a,...e.tags})}}this._applyFingerprint(e);const s=this._getBreadcrumbs(),o=[...e.breadcrumbs||[],...s];return e.breadcrumbs=o.length>0?o:void 0,e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...this._sdkProcessingMetadata,propagationContext:this._propagationContext},gn([...n||[],...Fo(),...this._eventProcessors],e,r)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}_getBreadcrumbs(){return this._breadcrumbs}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}_applyFingerprint(e){e.fingerprint=e.fingerprint?Fx(e.fingerprint):[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}}function Xf(){return{traceId:He(),spanId:He().substring(16)}}const Qf=4,Ry=100;class Ao{constructor(e,r=new bt,n=Qf){this._version=n,this._stack=[{scope:r}],e&&this.bindClient(e)}isOlderThan(e){return this._version<e}bindClient(e){const r=this.getStackTop();r.client=e,e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=bt.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(e){const r=this.pushScope();try{e(r)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,r){const n=this._lastEventId=r&&r.event_id?r.event_id:He(),s=new Error("Sentry syntheticException");return this._withClient((o,i)=>{o.captureException(e,{originalException:e,syntheticException:s,...r,event_id:n},i)}),n}captureMessage(e,r,n){const s=this._lastEventId=n&&n.event_id?n.event_id:He(),o=new Error(e);return this._withClient((i,a)=>{i.captureMessage(e,r,{originalException:e,syntheticException:o,...n,event_id:s},a)}),s}captureEvent(e,r){const n=r&&r.event_id?r.event_id:He();return e.type||(this._lastEventId=n),this._withClient((s,o)=>{s.captureEvent(e,{...r,event_id:n},o)}),n}lastEventId(){return this._lastEventId}addBreadcrumb(e,r){const{scope:n,client:s}=this.getStackTop();if(!s)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:i=Ry}=s.getOptions&&s.getOptions()||{};if(i<=0)return;const c={timestamp:hn(),...e},u=o?If(()=>o(c,r)):c;u!==null&&(s.emit&&s.emit("beforeAddBreadcrumb",u,r),n.addBreadcrumb(u,i))}setUser(e){this.getScope().setUser(e)}setTags(e){this.getScope().setTags(e)}setExtras(e){this.getScope().setExtras(e)}setTag(e,r){this.getScope().setTag(e,r)}setExtra(e,r){this.getScope().setExtra(e,r)}setContext(e,r){this.getScope().setContext(e,r)}configureScope(e){const{scope:r,client:n}=this.getStackTop();n&&e(r)}run(e){const r=Zf(this);try{e(this)}finally{Zf(r)}}getIntegration(e){const r=this.getClient();if(!r)return null;try{return r.getIntegration(e)}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&I.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,r){const n=this._callExtensionMethod("startTransaction",e,r);if((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&!n){const s=this.getClient();console.warn(s?`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`:"Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")}return n}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const r=this.getStackTop().scope,n=r.getSession();n&&Ty(n),this._sendSessionUpdate(),r.setSession()}startSession(e){const{scope:r,client:n}=this.getStackTop(),{release:s,environment:o=Do}=n&&n.getOptions()||{},{userAgent:i}=J.navigator||{},a=Oy({release:s,environment:o,user:r.getUser(),...i&&{userAgent:i},...e}),c=r.getSession&&r.getSession();return c&&c.status==="ok"&&Yt(c,{status:"exited"}),this.endSession(),r.setSession(a),a}shouldSendDefaultPii(){const e=this.getClient(),r=e&&e.getOptions();return!!(r&&r.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:r}=this.getStackTop(),n=e.getSession();n&&r&&r.captureSession&&r.captureSession(n)}_withClient(e){const{scope:r,client:n}=this.getStackTop();n&&e(n,r)}_callExtensionMethod(e,...r){const s=vn().__SENTRY__;if(s&&s.extensions&&typeof s.extensions[e]=="function")return s.extensions[e].apply(this,r);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&I.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function vn(){return J.__SENTRY__=J.__SENTRY__||{extensions:{},hub:void 0},J}function Zf(t){const e=vn(),r=Mo(e);return eu(e,t),r}function ve(){const t=vn();if(t.__SENTRY__&&t.__SENTRY__.acs){const e=t.__SENTRY__.acs.getCurrentHub();if(e)return e}return Cy(t)}function Cy(t=vn()){return(!Ny(t)||Mo(t).isOlderThan(Qf))&&eu(t,new Ao),Mo(t)}function Ny(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function Mo(t){return Tf("hub",()=>new Ao,t)}function eu(t,e){if(!t)return!1;const r=t.__SENTRY__=t.__SENTRY__||{};return r.hub=e,!0}function Dy(t,e,r){const n=e.getOptions(),{publicKey:s}=e.getDsn()||{},{segment:o}=r&&r.getUser()||{},i=un({environment:n.environment||Do,release:n.release,user_segment:o,public_key:s,trace_id:t});return e.emit&&e.emit("createDsc",i),i}function Fy(t,e){return e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]]),t}function Ay(t,e,r,n){const s=Jf(r),o={sent_at:new Date().toISOString(),...s&&{sdk:s},...!!n&&e&&{dsn:fn(e)}},i="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()];return vr(o,[i])}function My(t,e,r,n){const s=Jf(r),o=t.type&&t.type!=="replay_event"?t.type:"event";Fy(t,r&&r.sdk);const i=xy(t,s,n,e);return delete t.sdkProcessingMetadata,vr(i,[[{type:o},t]])}function Uy(t,e){return ve().captureException(t,{captureContext:e})}function Ly(t){ve().withScope(t)}const jy="7";function By(t){const e=t.protocol?`${t.protocol}:`:"",r=t.port?`:${t.port}`:"";return`${e}//${t.host}${r}${t.path?`/${t.path}`:""}/api/`}function Hy(t){return`${By(t)}${t.projectId}/envelope/`}function Gy(t,e){return Nx({sentry_key:t.publicKey,sentry_version:jy,...e&&{sentry_client:`${e.name}/${e.version}`}})}function qy(t,e={}){const r=typeof e=="string"?e:e.tunnel,n=typeof e=="string"||!e._metadata?void 0:e._metadata.sdk;return r||`${Hy(t)}?${Gy(t,n)}`}const tu=[];function Yy(t,e){const r={};return e.forEach(n=>{n&&ru(t,n,r)}),r}function ru(t,e,r){if(r[e.name]=e,tu.indexOf(e.name)===-1&&(e.setupOnce($y,ve),tu.push(e.name)),t.on&&typeof e.preprocessEvent=="function"){const n=e.preprocessEvent.bind(e);t.on("preprocessEvent",(s,o)=>n(s,o,t))}if(t.addEventProcessor&&typeof e.processEvent=="function"){const n=e.processEvent.bind(e),s=Object.assign((o,i)=>n(o,i,t),{id:e.name});t.addEventProcessor(s)}(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&I.log(`Integration installed: ${e.name}`)}function Wy(t,e,r,n,s){const{normalizeDepth:o=3,normalizeMaxBreadth:i=1e3}=t,a={...e,event_id:e.event_id||r.event_id||He(),timestamp:e.timestamp||hn()},c=r.integrations||t.integrations.map(d=>d.name);zy(a,t),Jy(a,c),e.type===void 0&&Vy(a,t.stackParser);let u=n;r.captureContext&&(u=bt.clone(u).update(r.captureContext));let l=yt(a);const f=s&&s.getEventProcessors?s.getEventProcessors():[];if(u){if(u.getAttachments){const d=[...r.attachments||[],...u.getAttachments()];d.length&&(r.attachments=d)}l=u.applyToEvent(a,r,f)}else l=gn([...f,...Fo()],a,r);return l.then(d=>(d&&Ky(d),typeof o=="number"&&o>0?Xy(d,o,i):d))}function zy(t,e){const{environment:r,release:n,dist:s,maxValueLength:o=250}=e;"environment"in t||(t.environment="environment"in e?r:Do),t.release===void 0&&n!==void 0&&(t.release=n),t.dist===void 0&&s!==void 0&&(t.dist=s),t.message&&(t.message=qt(t.message,o));const i=t.exception&&t.exception.values&&t.exception.values[0];i&&i.value&&(i.value=qt(i.value,o));const a=t.request;a&&a.url&&(a.url=qt(a.url,o))}const nu=new WeakMap;function Vy(t,e){const r=J._sentryDebugIds;if(!r)return;let n;const s=nu.get(e);s?n=s:(n=new Map,nu.set(e,n));const o=Object.keys(r).reduce((i,a)=>{let c;const u=n.get(a);u?c=u:(c=e(a),n.set(a,c));for(let l=c.length-1;l>=0;l--){const f=c[l];if(f.filename){i[f.filename]=r[a];break}}return i},{});try{t.exception.values.forEach(i=>{i.stacktrace.frames.forEach(a=>{a.filename&&(a.debug_id=o[a.filename])})})}catch{}}function Ky(t){const e={};try{t.exception.values.forEach(n=>{n.stacktrace.frames.forEach(s=>{s.debug_id&&(s.abs_path?e[s.abs_path]=s.debug_id:s.filename&&(e[s.filename]=s.debug_id),delete s.debug_id)})})}catch{}if(Object.keys(e).length===0)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];const r=t.debug_meta.images;Object.keys(e).forEach(n=>{r.push({type:"sourcemap",code_file:n,debug_id:e[n]})})}function Jy(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}function Xy(t,e,r){if(!t)return null;const n={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(s=>({...s,...s.data&&{data:tt(s.data,e,r)}}))},...t.user&&{user:tt(t.user,e,r)},...t.contexts&&{contexts:tt(t.contexts,e,r)},...t.extra&&{extra:tt(t.extra,e,r)}};return t.contexts&&t.contexts.trace&&n.contexts&&(n.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(n.contexts.trace.data=tt(t.contexts.trace.data,e,r))),t.spans&&(n.spans=t.spans.map(s=>(s.data&&(s.data=tt(s.data,e,r)),s))),n}const su="Not capturing exception because it's already been captured.";class Qy{constructor(e){if(this._options=e,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=Cx(e.dsn):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&I.warn("No DSN provided, client will not send events."),this._dsn){const r=qy(this._dsn,e);this._transport=e.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:r})}}captureException(e,r,n){if(Af(e)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&I.log(su);return}let s=r&&r.event_id;return this._process(this.eventFromException(e,r).then(o=>this._captureEvent(o,r,n)).then(o=>{s=o})),s}captureMessage(e,r,n,s){let o=n&&n.event_id;const i=Sf(e)?this.eventFromMessage(String(e),r,n):this.eventFromException(e,n);return this._process(i.then(a=>this._captureEvent(a,n,s)).then(a=>{o=a})),o}captureEvent(e,r,n){if(r&&r.originalException&&Af(r.originalException)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&I.log(su);return}let s=r&&r.event_id;return this._process(this._captureEvent(e,r,n).then(o=>{s=o})),s}captureSession(e){typeof e.release!="string"?(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&I.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),Yt(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const r=this._transport;return r?this._isClientDoneProcessing(e).then(n=>r.flush(e).then(s=>n&&s)):yt(!0)}close(e){return this.flush(e).then(r=>(this.getOptions().enabled=!1,r))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}setupIntegrations(e){(e&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&(this._integrations=Yy(this,this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&I.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){ru(this,e,this._integrations)}sendEvent(e,r={}){this.emit("beforeSendEvent",e,r);let n=My(e,this._dsn,this._options._metadata,this._options.tunnel);for(const o of r.attachments||[])n=py(n,vy(o,this._options.transportOptions&&this._options.transportOptions.textEncoder));const s=this._sendEnvelope(n);s&&s.then(o=>this.emit("afterSendEvent",e,o),null)}sendSession(e){const r=Ay(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(r)}recordDroppedEvent(e,r,n){if(this._options.sendClientReports){const s=`${e}:${r}`;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&I.log(`Adding outcome: "${s}"`),this._outcomes[s]=this._outcomes[s]+1||1}}on(e,r){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(r)}emit(e,...r){this._hooks[e]&&this._hooks[e].forEach(n=>n(...r))}_updateSessionFromEvent(e,r){let n=!1,s=!1;const o=r.exception&&r.exception.values;if(o){s=!0;for(const c of o){const u=c.mechanism;if(u&&u.handled===!1){n=!0;break}}}const i=e.status==="ok";(i&&e.errors===0||i&&n)&&(Yt(e,{...n&&{status:"crashed"},errors:e.errors||Number(s||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new we(r=>{let n=0;const s=1,o=setInterval(()=>{this._numProcessing==0?(clearInterval(o),r(!0)):(n+=s,e&&n>=e&&(clearInterval(o),r(!1)))},s)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,r,n){const s=this.getOptions(),o=Object.keys(this._integrations);return!r.integrations&&o.length>0&&(r.integrations=o),this.emit("preprocessEvent",e,r),Wy(s,e,r,n,this).then(i=>{if(i===null)return i;const{propagationContext:a}=i.sdkProcessingMetadata||{};if(!(i.contexts&&i.contexts.trace)&&a){const{traceId:u,spanId:l,parentSpanId:f,dsc:d}=a;i.contexts={trace:{trace_id:u,span_id:l,parent_span_id:f},...i.contexts};const _=d||Dy(u,this,n);i.sdkProcessingMetadata={dynamicSamplingContext:_,...i.sdkProcessingMetadata}}return i})}_captureEvent(e,r={},n){return this._processEvent(e,r,n).then(s=>s.event_id,s=>{if(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__){const o=s;o.logLevel==="log"?I.log(o.message):I.warn(o)}})}_processEvent(e,r,n){const s=this.getOptions(),{sampleRate:o}=s,i=iu(e),a=ou(e),c=e.type||"error",u=`before send for type \`${c}\``;if(a&&typeof o=="number"&&Math.random()>o)return this.recordDroppedEvent("sample_rate","error",e),Io(new Re(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"));const l=c==="replay_event"?"replay":c;return this._prepareEvent(e,r,n).then(f=>{if(f===null)throw this.recordDroppedEvent("event_processor",l,e),new Re("An event processor returned `null`, will not send event.","log");if(r.data&&r.data.__sentry__===!0)return f;const _=eb(s,f,r);return Zy(_,u)}).then(f=>{if(f===null)throw this.recordDroppedEvent("before_send",l,e),new Re(`${u} returned \`null\`, will not send event.`,"log");const d=n&&n.getSession();!i&&d&&this._updateSessionFromEvent(d,f);const _=f.transaction_info;if(i&&_&&f.transaction!==e.transaction){const p="custom";f.transaction_info={..._,source:p}}return this.sendEvent(f,r),f}).then(null,f=>{throw f instanceof Re?f:(this.captureException(f,{data:{__sentry__:!0},originalException:f}),new Re(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${f}`))})}_process(e){this._numProcessing++,e.then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r))}_sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)return this._transport.send(e).then(null,r=>{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&I.error("Error while sending event:",r)});(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&I.error("Transport disabled")}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map(r=>{const[n,s]=r.split(":");return{reason:n,category:s,quantity:e[r]}})}}function Zy(t,e){const r=`${e} must return \`null\` or a valid event.`;if(ho(t))return t.then(n=>{if(!Gt(n)&&n!==null)throw new Re(r);return n},n=>{throw new Re(`${e} rejected with ${n}`)});if(!Gt(t)&&t!==null)throw new Re(r);return t}function eb(t,e,r){const{beforeSend:n,beforeSendTransaction:s}=t;return ou(e)&&n?n(e,r):iu(e)&&s?s(e,r):e}function ou(t){return t.type===void 0}function iu(t){return t.type==="transaction"}const tb=30;function rb(t,e,r=fy(t.bufferSize||tb)){let n={};const s=i=>r.drain(i);function o(i){const a=[];if(Vf(i,(f,d)=>{const _=Kf(d);if(Ey(n,_)){const p=au(f,d);t.recordDroppedEvent("ratelimit_backoff",_,p)}else a.push(f)}),a.length===0)return yt();const c=vr(i[0],a),u=f=>{Vf(c,(d,_)=>{const p=au(d,_);t.recordDroppedEvent(f,Kf(_),p)})},l=()=>e({body:hy(c,t.textEncoder)}).then(f=>(f.statusCode!==void 0&&(f.statusCode<200||f.statusCode>=300)&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&I.warn(`Sentry responded with status code ${f.statusCode} to sent event.`),n=ky(n,f),f),f=>{throw u("network_error"),f});return r.add(l).then(f=>f,f=>{if(f instanceof Re)return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&I.error("Skipped sending event because buffer is full."),u("queue_overflow"),yt();throw f})}return o.__sentry__baseTransport__=!0,{send:o,flush:s}}function au(t,e){if(!(e!=="event"&&e!=="transaction"))return Array.isArray(t)?t[1]:void 0}const cu="7.80.1";let fu;class mn{static __initStatic(){this.id="FunctionToString"}constructor(){this.name=mn.id}setupOnce(){fu=Function.prototype.toString;try{Function.prototype.toString=function(...e){const r=xo(this)||this;return fu.apply(r,e)}}catch{}}}mn.__initStatic();const nb=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],sb=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/];class xn{static __initStatic(){this.id="InboundFilters"}constructor(e={}){this.name=xn.id,this._options=e}setupOnce(e,r){}processEvent(e,r,n){const s=n.getOptions(),o=ob(this._options,s);return ib(e,o)?null:e}}xn.__initStatic();function ob(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:nb],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[],...t.disableTransactionDefaults?[]:sb],ignoreInternal:t.ignoreInternal!==void 0?t.ignoreInternal:!0}}function ib(t,e){return e.ignoreInternal&&_b(t)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&I.warn(`Event dropped due to being internal Sentry Error.
Event: ${Ze(t)}`),!0):ab(t,e.ignoreErrors)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&I.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Ze(t)}`),!0):cb(t,e.ignoreTransactions)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&I.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Ze(t)}`),!0):fb(t,e.denyUrls)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&I.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Ze(t)}.
Url: ${yn(t)}`),!0):ub(t,e.allowUrls)?!1:((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&I.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Ze(t)}.
Url: ${yn(t)}`),!0)}function ab(t,e){return t.type||!e||!e.length?!1:lb(t).some(r=>on(r,e))}function cb(t,e){if(t.type!=="transaction"||!e||!e.length)return!1;const r=t.transaction;return r?on(r,e):!1}function fb(t,e){if(!e||!e.length)return!1;const r=yn(t);return r?on(r,e):!1}function ub(t,e){if(!e||!e.length)return!0;const r=yn(t);return r?on(r,e):!0}function lb(t){const e=[];t.message&&e.push(t.message);let r;try{r=t.exception.values[t.exception.values.length-1]}catch{}return r&&r.value&&(e.push(r.value),r.type&&e.push(`${r.type}: ${r.value}`)),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&e.length===0&&I.error(`Could not extract message for event ${Ze(t)}`),e}function _b(t){try{return t.exception.values[0].type==="SentryError"}catch{}return!1}function db(t=[]){for(let e=t.length-1;e>=0;e--){const r=t[e];if(r&&r.filename!=="<anonymous>"&&r.filename!=="[native code]")return r.filename||null}return null}function yn(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch{}return e?db(e):null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&I.error(`Cannot extract url for event ${Ze(t)}`),null}}const G=J;let Uo=0;function uu(){return Uo>0}function pb(){Uo++,setTimeout(()=>{Uo--})}function Wt(t,e={},r){if(typeof t!="function")return t;try{const s=t.__sentry_wrapped__;if(s)return s;if(xo(t))return t}catch{return t}const n=function(){const s=Array.prototype.slice.call(arguments);try{r&&typeof r=="function"&&r.apply(this,arguments);const o=s.map(i=>Wt(i,e));return t.apply(this,o)}catch(o){throw pb(),Ly(i=>{i.addEventProcessor(a=>(e.mechanism&&(bo(a,void 0,void 0),pr(a,e.mechanism)),a.extra={...a.extra,arguments:s},a)),Uy(o)}),o}};try{for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}catch{}Rf(n,t),dr(t,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get(){return t.name}})}catch{}return n}function lu(t,e){const r=jo(t,e),n={type:e&&e.name,value:mb(e)};return r.length&&(n.stacktrace={frames:r}),n.type===void 0&&n.value===""&&(n.value="Unrecoverable error caught"),n}function hb(t,e,r,n){const o=ve().getClient(),i=o&&o.getOptions().normalizeDepth,a={exception:{values:[{type:sn(e)?e.constructor.name:n?"UnhandledRejection":"Error",value:bb(e,{isUnhandledRejection:n})}]},extra:{__serialized__:qf(e,i)}};if(r){const c=jo(t,r);c.length&&(a.exception.values[0].stacktrace={frames:c})}return a}function Lo(t,e){return{exception:{values:[lu(t,e)]}}}function jo(t,e){const r=e.stacktrace||e.stack||"",n=vb(e);try{return t(r,n)}catch{}return[]}const gb=/Minified React error #\d+;/i;function vb(t){if(t){if(typeof t.framesToPop=="number")return t.framesToPop;if(gb.test(t.message))return 1}return 0}function mb(t){const e=t&&t.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:e:"No error message"}function xb(t,e,r,n){const s=r&&r.syntheticException||void 0,o=Bo(t,e,s,n);return pr(o),o.level="error",r&&r.event_id&&(o.event_id=r.event_id),yt(o)}function yb(t,e,r="info",n,s){const o=n&&n.syntheticException||void 0,i=Ho(t,e,o,s);return i.level=r,n&&n.event_id&&(i.event_id=n.event_id),yt(i)}function Bo(t,e,r,n,s){let o;if(po(e)&&e.error)return Lo(t,e.error);if(wf(e)||px(e)){const i=e;if("stack"in e)o=Lo(t,e);else{const a=i.name||(wf(i)?"DOMError":"DOMException"),c=i.message?`${a}: ${i.message}`:a;o=Ho(t,c,r,n),bo(o,c)}return"code"in i&&(o.tags={...o.tags,"DOMException.code":`${i.code}`}),o}return bf(e)?Lo(t,e):Gt(e)||sn(e)?(o=hb(t,e,r,s),pr(o,{synthetic:!0}),o):(o=Ho(t,e,r,n),bo(o,`${e}`,void 0),pr(o,{synthetic:!0}),o)}function Ho(t,e,r,n){const s={message:e};if(n&&r){const o=jo(t,r);o.length&&(s.exception={values:[{value:e,stacktrace:{frames:o}}]})}return s}function bb(t,{isUnhandledRejection:e}){const r=Dx(t),n=e?"promise rejection":"exception";return po(t)?`Event \`ErrorEvent\` captured as ${n} with message \`${t.message}\``:sn(t)?`Event \`${wb(t)}\` (type=${t.type}) captured as ${n}`:`Object captured as ${n} with keys: ${r}`}function wb(t){try{const e=Object.getPrototypeOf(t);return e?e.constructor.name:void 0}catch{}}function Sb(t,{metadata:e,tunnel:r,dsn:n}){const s={event_id:t.event_id,sent_at:new Date().toISOString(),...e&&e.sdk&&{sdk:{name:e.sdk.name,version:e.sdk.version}},...!!r&&!!n&&{dsn:fn(n)}},o=Eb(t);return vr(s,[o])}function Eb(t){return[{type:"user_report"},t]}class kb extends Qy{constructor(e){const r=G.SENTRY_SDK_SOURCE||ty();e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:`${r}:@sentry/browser`,version:cu}],version:cu},super(e),e.sendClientReports&&G.document&&G.document.addEventListener("visibilitychange",()=>{G.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(e,r){return xb(this._options.stackParser,e,r,this._options.attachStacktrace)}eventFromMessage(e,r="info",n){return yb(this._options.stackParser,e,r,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled()){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&I.warn("SDK not enabled, will not capture user feedback.");return}const r=Sb(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(r)}_prepareEvent(e,r,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,r,n)}_flushOutcomes(){const e=this._clearOutcomes();if(e.length===0){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&I.log("No outcomes to send");return}if(!this._dsn){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&I.log("No dsn provided, will not send outcomes");return}(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&I.log("Sending outcomes:",e);const r=yy(e,this._options.tunnel&&fn(this._dsn));this._sendEnvelope(r)}}let mr;function $b(){if(mr)return mr;if(Eo(G.fetch))return mr=G.fetch.bind(G);const t=G.document;let e=G.fetch;if(t&&typeof t.createElement=="function")try{const r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r);const n=r.contentWindow;n&&n.fetch&&(e=n.fetch),t.head.removeChild(r)}catch(r){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&I.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return mr=e.bind(G)}function Ob(){mr=void 0}function Tb(t,e=$b()){let r=0,n=0;function s(o){const i=o.body.length;r+=i,n++;const a={body:o.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:r<=6e4&&n<15,...t.fetchOptions};try{return e(t.url,a).then(c=>(r-=i,n--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return Ob(),r-=i,n--,Io(c)}}return rb(t,s)}const bn="?",Ib=30,Pb=40,Rb=50;function Go(t,e,r,n){const s={filename:t,function:e,in_app:!0};return r!==void 0&&(s.lineno=r),n!==void 0&&(s.colno=n),s}const Cb=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Nb=/\((\S*)(?::(\d+))(?::(\d+))\)/,Db=[Ib,t=>{const e=Cb.exec(t);if(e){if(e[2]&&e[2].indexOf("eval")===0){const o=Nb.exec(e[2]);o&&(e[2]=o[1],e[3]=o[2],e[4]=o[3])}const[n,s]=_u(e[1]||bn,e[2]);return Go(s,n,e[3]?+e[3]:void 0,e[4]?+e[4]:void 0)}}],Fb=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Ab=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Mb=[Rb,t=>{const e=Fb.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const o=Ab.exec(e[3]);o&&(e[1]=e[1]||"eval",e[3]=o[1],e[4]=o[2],e[5]="")}let n=e[3],s=e[1]||bn;return[s,n]=_u(s,n),Go(n,s,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}}],Ub=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Lb=Ax(...[Db,Mb,[Pb,t=>{const e=Ub.exec(t);return e?Go(e[2],e[1]||bn,+e[3],e[4]?+e[4]:void 0):void 0}]]),_u=(t,e)=>{const r=t.indexOf("safari-extension")!==-1,n=t.indexOf("safari-web-extension")!==-1;return r||n?[t.indexOf("@")!==-1?t.split("@")[0]:bn,r?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]};class zt{static __initStatic(){this.id="GlobalHandlers"}constructor(e){this.name=zt.id,this._options={onerror:!0,onunhandledrejection:!0,...e},this._installFunc={onerror:jb,onunhandledrejection:Bb}}setupOnce(){Error.stackTraceLimit=50;const e=this._options;for(const r in e){const n=this._installFunc[r];n&&e[r]&&(qb(r),n(),this._installFunc[r]=void 0)}}}zt.__initStatic();function jb(){xt("error",t=>{const[e,r,n]=hu();if(!e.getIntegration(zt))return;const{msg:s,url:o,line:i,column:a,error:c}=t;if(uu()||c&&c.__sentry_own_request__)return;const u=c===void 0&&vt(s)?Gb(s,o,i,a):du(Bo(r,c||s,void 0,n,!1),o,i,a);u.level="error",pu(e,c,u,"onerror")})}function Bb(){xt("unhandledrejection",t=>{const[e,r,n]=hu();if(!e.getIntegration(zt))return;let s=t;try{"reason"in t?s=t.reason:"detail"in t&&"reason"in t.detail&&(s=t.detail.reason)}catch{}if(uu()||s&&s.__sentry_own_request__)return!0;const o=Sf(s)?Hb(s):Bo(r,s,void 0,n,!0);o.level="error",pu(e,s,o,"onunhandledrejection")})}function Hb(t){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(t)}`}]}}}function Gb(t,e,r,n){const s=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let o=po(t)?t.message:t,i="Error";const a=o.match(s);return a&&(i=a[1],o=a[2]),du({exception:{values:[{type:i,value:o}]}},e,r,n)}function du(t,e,r,n){const s=t.exception=t.exception||{},o=s.values=s.values||[],i=o[0]=o[0]||{},a=i.stacktrace=i.stacktrace||{},c=a.frames=a.frames||[],u=isNaN(parseInt(n,10))?void 0:n,l=isNaN(parseInt(r,10))?void 0:r,f=vt(e)&&e.length>0?e:kx();return c.length===0&&c.push({colno:u,filename:f,function:"?",in_app:!0,lineno:l}),t}function qb(t){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&I.log(`Global Handler attached: ${t}`)}function pu(t,e,r,n){pr(r,{handled:!1,type:n}),t.captureEvent(r,{originalException:e})}function hu(){const t=ve(),e=t.getClient(),r=e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[t,r.stackParser,r.attachStacktrace]}const Yb=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class wn{static __initStatic(){this.id="TryCatch"}constructor(e){this.name=wn.id,this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e}}setupOnce(){this._options.setTimeout&&ee(G,"setTimeout",gu),this._options.setInterval&&ee(G,"setInterval",gu),this._options.requestAnimationFrame&&ee(G,"requestAnimationFrame",Wb),this._options.XMLHttpRequest&&"XMLHttpRequest"in G&&ee(XMLHttpRequest.prototype,"send",zb);const e=this._options.eventTarget;e&&(Array.isArray(e)?e:Yb).forEach(Vb)}}wn.__initStatic();function gu(t){return function(...e){const r=e[0];return e[0]=Wt(r,{mechanism:{data:{function:et(t)},handled:!1,type:"instrument"}}),t.apply(this,e)}}function Wb(t){return function(e){return t.apply(this,[Wt(e,{mechanism:{data:{function:"requestAnimationFrame",handler:et(t)},handled:!1,type:"instrument"}})])}}function zb(t){return function(...e){const r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(s=>{s in r&&typeof r[s]=="function"&&ee(r,s,function(o){const i={mechanism:{data:{function:s,handler:et(o)},handled:!1,type:"instrument"}},a=xo(o);return a&&(i.mechanism.data.handler=et(a)),Wt(o,i)})}),t.apply(this,e)}}function Vb(t){const e=G,r=e[t]&&e[t].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(ee(r,"addEventListener",function(n){return function(s,o,i){try{typeof o.handleEvent=="function"&&(o.handleEvent=Wt(o.handleEvent,{mechanism:{data:{function:"handleEvent",handler:et(o),target:t},handled:!1,type:"instrument"}}))}catch{}return n.apply(this,[s,Wt(o,{mechanism:{data:{function:"addEventListener",handler:et(o),target:t},handled:!1,type:"instrument"}}),i])}}),ee(r,"removeEventListener",function(n){return function(s,o,i){const a=o;try{const c=a&&a.__sentry_wrapped__;c&&n.call(this,s,c,i)}catch{}return n.call(this,s,a,i)}}))}const Sn=1024;class En{static __initStatic(){this.id="Breadcrumbs"}constructor(e){this.name=En.id,this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e}}setupOnce(){if(this.options.console&&xt("console",Xb),this.options.dom&&xt("dom",Jb(this.options.dom)),this.options.xhr&&xt("xhr",Qb),this.options.fetch&&xt("fetch",Zb),this.options.history&&xt("history",e0),this.options.sentry){const e=ve().getClient();e&&e.on&&e.on("beforeSendEvent",Kb)}}}En.__initStatic();function Kb(t){ve().addBreadcrumb({category:`sentry.${t.type==="transaction"?"transaction":"event"}`,event_id:t.event_id,level:t.level,message:Ze(t)},{event:t})}function Jb(t){function e(r){let n,s=typeof t=="object"?t.serializeAttribute:void 0,o=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;o&&o>Sn&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&I.warn(`\`dom.maxStringLength\` cannot exceed ${Sn}, but a value of ${o} was configured. Sentry will use ${Sn} instead.`),o=Sn),typeof s=="string"&&(s=[s]);try{const i=r.event;n=t0(i)?vo(i.target,{keyAttrs:s,maxStringLength:o}):vo(i,{keyAttrs:s,maxStringLength:o})}catch{n="<unknown>"}n.length!==0&&ve().addBreadcrumb({category:`ui.${r.name}`,message:n},{event:r.event,name:r.name,global:r.global})}return e}function Xb(t){const e={category:"console",data:{arguments:t.args,logger:"console"},level:ly(t.level),message:kf(t.args," ")};if(t.level==="assert")if(t.args[0]===!1)e.message=`Assertion failed: ${kf(t.args.slice(1)," ")||"console.assert"}`,e.data.arguments=t.args.slice(1);else return;ve().addBreadcrumb(e,{input:t.args,level:t.level})}function Qb(t){const{startTimestamp:e,endTimestamp:r}=t,n=t.xhr[hr];if(!e||!r||!n)return;const{method:s,url:o,status_code:i,body:a}=n,c={method:s,url:o,status_code:i},u={xhr:t.xhr,input:a,startTimestamp:e,endTimestamp:r};ve().addBreadcrumb({category:"xhr",data:c,type:"http"},u)}function Zb(t){const{startTimestamp:e,endTimestamp:r}=t;if(r&&!(t.fetchData.url.match(/sentry_key/)&&t.fetchData.method==="POST"))if(t.error){const n=t.fetchData,s={data:t.error,input:t.args,startTimestamp:e,endTimestamp:r};ve().addBreadcrumb({category:"fetch",data:n,level:"error",type:"http"},s)}else{const n={...t.fetchData,status_code:t.response&&t.response.status},s={input:t.args,response:t.response,startTimestamp:e,endTimestamp:r};ve().addBreadcrumb({category:"fetch",data:n,type:"http"},s)}}function e0(t){let e=t.from,r=t.to;const n=Po(G.location.href);let s=Po(e);const o=Po(r);s.path||(s=n),n.protocol===o.protocol&&n.host===o.host&&(r=o.relative),n.protocol===s.protocol&&n.host===s.host&&(e=s.relative),ve().addBreadcrumb({category:"navigation",data:{from:e,to:r}})}function t0(t){return!!t&&!!t.target}const r0="cause",n0=5;class kn{static __initStatic(){this.id="LinkedErrors"}constructor(e={}){this.name=kn.id,this._key=e.key||r0,this._limit=e.limit||n0}setupOnce(){}preprocessEvent(e,r,n){const s=n.getOptions();yx(lu,s.stackParser,s.maxValueLength,this._key,this._limit,e,r)}}kn.__initStatic();class $n{static __initStatic(){this.id="HttpContext"}constructor(){this.name=$n.id}setupOnce(){}preprocessEvent(e){if(!G.navigator&&!G.location&&!G.document)return;const r=e.request&&e.request.url||G.location&&G.location.href,{referrer:n}=G.document||{},{userAgent:s}=G.navigator||{},o={...e.request&&e.request.headers,...n&&{Referer:n},...s&&{"User-Agent":s}},i={...e.request,...r&&{url:r},headers:o};e.request=i}}$n.__initStatic();class On{static __initStatic(){this.id="Dedupe"}constructor(){this.name=On.id}setupOnce(e,r){}processEvent(e){if(e.type)return e;try{if(s0(e,this._previousEvent))return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&I.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return this._previousEvent=e}}On.__initStatic();function s0(t,e){return e?!!(o0(t,e)||i0(t,e)):!1}function o0(t,e){const r=t.message,n=e.message;return!(!r&&!n||r&&!n||!r&&n||r!==n||!mu(t,e)||!vu(t,e))}function i0(t,e){const r=xu(e),n=xu(t);return!(!r||!n||r.type!==n.type||r.value!==n.value||!mu(t,e)||!vu(t,e))}function vu(t,e){let r=yu(t),n=yu(e);if(!r&&!n)return!0;if(r&&!n||!r&&n||(r=r,n=n,n.length!==r.length))return!1;for(let s=0;s<n.length;s++){const o=n[s],i=r[s];if(o.filename!==i.filename||o.lineno!==i.lineno||o.colno!==i.colno||o.function!==i.function)return!1}return!0}function mu(t,e){let r=t.fingerprint,n=e.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;r=r,n=n;try{return r.join("")===n.join("")}catch{return!1}}function xu(t){return t.exception&&t.exception.values&&t.exception.values[0]}function yu(t){const e=t.exception;if(e)try{return e.values[0].stacktrace.frames}catch{return}}const a0=[new xn,new mn,new wn,new En,new zt,new kn,new On,new $n];var qo=(t=>(t.Production="production",t.Development="development",t.Test="test",t))(qo||{}),L=(t=>(t.ShopifyOnlineStore="ShopifyOnlineStore",t.ShopifyOrderStatus="ShopifyOrderStatus",t.ShopifyCheckoutContact="ShopifyCheckoutContact",t.ShopifyCheckoutShipping="ShopifyCheckoutShipping",t.ShopifyCheckoutPayment="ShopifyCheckoutPayment",t.ShopifyCheckoutUnknown="ShopifyCheckoutUnknown",t.RechargeCheckout="RechargeCheckout",t.RechargeOrderStatus="RechargeOrderStatus",t.Unknown="Unknown",t))(L||{});const c0=new kb({dsn:"https://1bc8193306264dddaef7fda45ba1f7df@o1255691.ingest.sentry.io/4504164923473920",transport:Tb,stackParser:Lb,integrations:a0.filter(t=>t.name!=="GlobalHandlers"),release:window.$superfiliateStorefront.health.herokuSlugCommit,environment:window.$superfiliateStorefront.health.environment,beforeSend:(t,e)=>{var s,o,i,a,c;if(window.$superfiliateStorefront.health.environment!==qo.Production)return null;const r=(a=(i=(o=(s=t.exception)==null?void 0:s.values)==null?void 0:o.slice(-1)[0].stacktrace)==null?void 0:i.frames)==null?void 0:a.slice(-1)[0];if(!r)return t;if(!((c=r.filename)!=null&&c.includes("storefront.js")))return null;const n=e.originalException;return n&&typeof n=="object"&&n.message==="Load failed"&&t.tags&&(t.tags.sf_load_failed=!0),t},tracesSampleRate:0}),bu=new Ao(c0);bu.configureScope(function(t){t.setTag("sf_shopify_domain",window.$superfiliateStorefront.shop.shopifyDomain),t.setTag("sf_location_href",window.location.href)});const Yo=t=>{let e;typeof t=="string"?e=new Error(t):e=t,console.error(e),bu.captureException(e)};window.$superfiliateStorefront.logging=window.$superfiliateStorefront.logging||{},window.$superfiliateStorefront.logging.reportError=Yo;const wu="responseText could not be pulled",Su=async(t,e=[200,201,204])=>{let r,n,s;try{r=await t.text()}catch{r=wu}try{n=JSON.parse(r||"null")}catch{n=void 0}if(e.includes(t.status)?r===wu?s=new Error(`Unexpected response text body, status ${t.status}, from ${t.url}`):n===void 0&&(s=new Error(`Unexpected response bad JSON body, status ${t.status}, from ${t.url}`)):s=new Error(`Unexpected response status, status ${t.status}, from ${t.url}`),s)throw s.response=t,s.responseText=r,s.responseJson=n,s;return n||null},f0=async(t,e,r=[200,201,204])=>{const n=await fetch(t,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)});return Su(n,r)},u0=async(t,e,r=[200,201,204])=>{const n=await fetch(t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});return Su(n,r)},l0=()=>be().apiBaseUrl,Eu=t=>`${l0()}/${t}`,_0=()=>be().shop.micrositeDomain,ku=t=>`https://${_0()}/${t}`,Tn=(...t)=>{console.log("[Superfiliate]",...t)},rt=window.$superfiliateStorefront.health.environment!=="production"||document.cookie.includes("superfiliateStorefrontDebugInProduction")?Tn:(...t)=>{};window.$superfiliateStorefront.logging=window.$superfiliateStorefront.logging||{},window.$superfiliateStorefront.logging.customConsoleLog=Tn,window.$superfiliateStorefront.logging.debugConsoleLog=rt;const d0=t=>{const e=[...t.entries()].map(([r,n])=>`${r} => ${n}`).join(`
`);return rt(`Sending beacon to ${ku("api/events")} with params:
${e}`)},Wo=(t,e)=>{e.set("event_type",t),d0(e),navigator.sendBeacon(ku("api/events"),e)},p0="superfiliate_suspect_code",h0="discount_code",zo=()=>{const t=/^_shopify_sa_p/,e=/^utm_/,r=/^_shopify_sa_t/,n={utm_timestamp:"",utm_data_source:"shopify_cookie"};let s="";document.cookie.split(";").map(i=>i.trim()).forEach(i=>{t.test(i)&&(s=i),r.test(i)&&(n.utm_timestamp=decodeURIComponent(i.split("=")[1]))});const o=s.split("=")[1];if(decodeURIComponent(o).split("&").forEach(i=>{const a=i.split("=")[0],c=i.split("=")[1];e.test(a)&&(n[a]=c)}),!(Object.keys(n).length<=2))return n},Vo=()=>{const t=new URL(window.location.href),{searchParams:e}=t;return{utm_data_source:e.get("utm_data_source")||void 0,utm_timestamp:e.get("utm_timestamp")||void 0,utm_campaign:e.get("utm_campaign")||void 0,utm_source:e.get("utm_source")||void 0,utm_medium:e.get("utm_medium")||void 0,utm_audience:e.get("utm_audience")||void 0,utm_target:e.get("utm_target")||void 0,utm_incentive:e.get("utm_incentive")||void 0,utm_campaign_id:e.get("utm_campaign_id")||void 0,utm_campaign_name:e.get("utm_campaign_name")||void 0}},$u=t=>{const r=` ${document.cookie};`.match(new RegExp(` ${t}=(.*?);`));return r?r[1]:null},xr=()=>$u(h0),g0=()=>$u(p0);window.$superfiliateStorefront.shopifyUtmParams={getShopifyCookiesUtmParams:zo,getShopifyAutoApplyDiscountCode:xr};const v0=(t,e)=>{sessionStorage.setItem(Rc,e);const r=zo()||Vo(),n=(r==null?void 0:r.utm_campaign)||"";t.append("code",n),t.append("document_referrer",document.referrer),Wo(gm,t)},m0=(t,e)=>{sessionStorage.setItem(Ic,e),Wo(vm,t)};let Ce;typeof window<"u"&&(Ce=window==null?void 0:window.$superfiliateStorefront);const Ko=((f_=Ce==null?void 0:Ce.logging)==null?void 0:f_.reportError)||console.error;(u_=Ce==null?void 0:Ce.logging)!=null&&u_.customConsoleLog,(l_=Ce==null?void 0:Ce.logging)!=null&&l_.debugConsoleLog;const x0=5,y0=600,Ou=(t,e,r=0)=>{var s;const n=(s=window.Shopify)==null?void 0:s.checkout;if(!n&&r<x0){setTimeout(()=>Ou(t,e,r+1),y0);return}if(n){sessionStorage.setItem(Pc,e);const o=n.order_id;o&&t.append(mm,String(o));const i=n.customer_id;i&&t.append(xm,String(i)),Wo(hm,t)}else Ko("Shopify checkout object is not available after maximum retries.")},b0="attributes",w0=()=>{const t=new URLSearchParams(window.location.search).get(b0);let e=t==null?void 0:t.replace(/=>/g,":");return e=e==null?void 0:e.replace(/”/g,'"'),e?JSON.parse(e):{}},nt=()=>{var t,e;return(t=window.Shopify)!=null&&t.Checkout?window.Shopify.Checkout.step==="contact_information"?L.ShopifyCheckoutContact:window.Shopify.Checkout.step==="shipping_method"?L.ShopifyCheckoutShipping:window.Shopify.Checkout.step==="payment_method"?L.ShopifyCheckoutPayment:window.Shopify.Checkout.step==="thank_you"||window.Shopify.Checkout.isOrderStatusPage?L.ShopifyOrderStatus:L.ShopifyCheckoutUnknown:(e=window.Shopify)!=null&&e.checkout?L.RechargeOrderStatus:window.cart_json?L.RechargeCheckout:window.ShopifyAnalytics?L.ShopifyOnlineStore:L.Unknown},ie=t=>t==="online_store"?ie([L.ShopifyOnlineStore,L.Unknown]):t==="order_status"?ie([L.ShopifyOrderStatus,L.RechargeOrderStatus]):t==="shopify_checkout"?ie([L.ShopifyCheckoutContact,L.ShopifyCheckoutShipping,L.ShopifyCheckoutPayment]):t instanceof Array?t.includes(nt()):nt()===t;/*! js-cookie v3.0.5 | MIT */function In(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}var S0={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Jo(t,e){function r(s,o,i){if(!(typeof document>"u")){i=In({},e,i),typeof i.expires=="number"&&(i.expires=new Date(Date.now()+i.expires*864e5)),i.expires&&(i.expires=i.expires.toUTCString()),s=encodeURIComponent(s).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var c in i)i[c]&&(a+="; "+c,i[c]!==!0&&(a+="="+i[c].split(";")[0]));return document.cookie=s+"="+t.write(o,s)+a}}function n(s){if(!(typeof document>"u"||arguments.length&&!s)){for(var o=document.cookie?document.cookie.split("; "):[],i={},a=0;a<o.length;a++){var c=o[a].split("="),u=c.slice(1).join("=");try{var l=decodeURIComponent(c[0]);if(i[l]=t.read(u,l),s===l)break}catch{}}return s?i[s]:i}}return Object.create({set:r,get:n,remove:function(s,o){r(s,"",In({},o,{expires:-1}))},withAttributes:function(s){return Jo(this.converter,In({},this.attributes,s))},withConverter:function(s){return Jo(In({},this.converter,s),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var Tu=Jo(S0,{path:"/"});const E0=t=>Tu.get(t),k0=(t,e,r)=>Tu.set(t,e,r),$0=t=>{const e=t||window.location.hostname;let r=e.split(".");return r.length<=2?e:(r=r.slice(-3),["co","com"].indexOf(r[1])>-1?r.join("."):r.slice(-2).join("."))},O0=()=>{const e=w0()[ym],r=!!e,n=E0(Cc)||e;if(n){const s=$0();k0(Cc,n,{domain:s,expires:30});const i=sessionStorage.getItem(Ic),a=sessionStorage.getItem(Pc),c=sessionStorage.getItem(Rc),{shop:u}=be(),l=new FormData;l.append("uuid",n),l.append("shop_id",String(u.id)),l.append("user_agent",navigator.userAgent),r&&!c&&v0(l,n),i||m0(l,n),!a&&ie("order_status")&&Ou(l,n)}},Xo=()=>xr(),Iu=()=>{const t=Xo();return t?`&discount=${t}`:""},T0=()=>{const t=Iu();return t?[t.replace("&","")]:[]},Pn=t=>new Promise(e=>setTimeout(e,t)),I0="sf-code",Pu="!!INITIAL!!",P0=()=>{if(!ie(L.ShopifyOnlineStore))return;let t=Pu;setInterval(async()=>{const e=Xo();t!==e&&(!e&&t===Pu||!e&&!g0()||(await fetch("/cart/update.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({attributes:{[I0]:e||""}})}),t=e))},1e3)},R0=()=>{var r,n;const t=document.getElementsByClassName("applied-discount__code")[0];return!!((n=(r=t==null?void 0:t.getBoundingClientRect)==null?void 0:r.call(t))!=null&&n.x)},C0=t=>{const{handleApplyDiscount:e}=window,r=document.getElementById("checkout_discount_code");return!e||!r?!1:(R0()||(r.value=t,e()),!0)},N0=async()=>{var e,r;if(!ie(L.RechargeCheckout))return;const t=(r=(e=window.cart_json)==null?void 0:e.attributes)==null?void 0:r["sf-code"];if(t)for(let n=1;n<=20;n++){if(C0(t))return;await Pn(100*1.2**n)}},D0=()=>{window.$superfiliateStorefront.autoApplyDiscount={discoverDiscount:Xo,discountAsQueryParam:Iu,discountAsQueryArray:T0},P0(),N0()};var Ru={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function r(){for(var n=[],s=0;s<arguments.length;s++){var o=arguments[s];if(o){var i=typeof o;if(i==="string"||i==="number")n.push(o);else if(Array.isArray(o)){if(o.length){var a=r.apply(null,o);a&&n.push(a)}}else if(i==="object"){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){n.push(o.toString());continue}for(var c in o)e.call(o,c)&&o[c]&&n.push(c)}}}return n.join(" ")}t.exports?(r.default=r,t.exports=r):window.classNames=r})()})(Ru);var F0=Ru.exports;const Cu=Vi(F0),Nu={cn:Cu},O=(...t)=>Nu.cn(...t);let Qo="";const A0=(t,e)=>{const r=e.split(":"),n=r.slice(0,r.length-1);let s=r[r.length-1],o=`${t}${s}`;return s.startsWith("!-")&&(s=s.slice(2,s.length),o=`!-${t}${s}`),s.startsWith("!")&&(s=s.slice(1,s.length),o=`!${t}${s}`),s.startsWith("-")&&(s=s.slice(1,s.length),o=`-${t}${s}`),n.length===0?o:`${n.join(":")}:${o}`},M0=(...t)=>Cu(...t).split(Qo).join("").split(" ").map(r=>A0(Qo,r)).join(" "),U0=t=>{Qo=t,Nu.cn=M0};var W=(t=>(t.Open="Open",t.Hidden="Hidden",t.Folded="Folded",t))(W||{}),ae=(t=>(t.Passerby="Passerby",t.Lead="Lead",t.SuperfiliateShare="SuperfiliateShare",t.SuperfiliateReward="SuperfiliateReward",t))(ae||{});const Rn="$sfIframeAuth.plainRefreshToken",Zo=t=>{const{sfPortalUrl:e}=window.$superfiliateStorefront.defaultSfVariables||{};return`${e}${t}`.replace("/portal/portal","/portal")},L0=t=>{if(t===ae.Lead){const e=Vo().utm_campaign||xr();return j0(e||"")}else if(t===ae.SuperfiliateReward){const e=xr();return B0(e||"")}else return G0()},j0=t=>Zo(`/portal/onSite/lead?code=${t}`),B0=t=>Zo(`/portal/onSite/redeem?code=${t}`),H0=()=>{var r,n,s,o,i,a,c,u;const t={customerEmail:(n=(r=window.Shopify)==null?void 0:r.checkout)==null?void 0:n.email,shopifyCustomerExternalId:(o=(s=window.Shopify)==null?void 0:s.checkout)==null?void 0:o.customer_id,shopifyOrderExternalId:(a=(i=window.Shopify)==null?void 0:i.checkout)==null?void 0:a.order_id,shopifyCheckoutToken:(u=(c=window.Shopify)==null?void 0:c.Checkout)==null?void 0:u.token},e=Object.entries(t).filter(([l,f])=>!!f).map(([l,f])=>`${l}=${encodeURIComponent(f||"")}`).join("&");return Zo(`/portal/postPurchase/join?${e}`)},G0=()=>{var e;const t=window.localStorage.getItem(Rn);return t?`${be().apiBaseUrl}/redirects/portal/auth/${t}`:((e=window.$superfiliateStorefront.defaultSfVariables)==null?void 0:e.sfPortalUrl)||"#"},q0=()=>{window.addEventListener("message",t=>{try{if(t.data.name!==Rn)return;t.data.value?window.localStorage.setItem(Rn,t.data.value):window.localStorage.removeItem(Rn)}catch{return}})},Y0={CODE_SHARED:"Code Shared",CODE_GENERATED:"Code Generated"},W0={PROGRAM_WIDGET_OPENED:"Program Widget Opened"};function Du(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function T(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Du(Object(r),!0).forEach(function(n){y(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Du(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ei(t){return ei=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ei(t)}function q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Y(t,e,r){return e&&Fu(t.prototype,e),r&&Fu(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function y(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Au(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ti(t,e)}function Cn(t){return Cn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Cn(t)}function ti(t,e){return ti=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ti(t,e)}function z0(t,e){if(t==null)return{};var r,n,s=function(i,a){if(i==null)return{};var c,u,l={},f=Object.keys(i);for(u=0;u<f.length;u++)c=f[u],a.indexOf(c)>=0||(l[c]=i[c]);return l}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(s[r]=t[r])}return s}function V0(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(t)}function Mu(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Cn(t);if(e){var s=Cn(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return V0(this,r)}}function yr(t,e){return function(r){if(Array.isArray(r))return r}(t)||function(r,n){var s=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(s!=null){var o,i,a=[],c=!0,u=!1;try{for(s=s.call(r);!(c=(o=s.next()).done)&&(a.push(o.value),!n||a.length!==n);c=!0);}catch(l){u=!0,i=l}finally{try{c||s.return==null||s.return()}finally{if(u)throw i}}return a}}(t,e)||ni(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ri(t){return function(e){if(Array.isArray(e))return si(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||ni(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ni(t,e){if(t){if(typeof t=="string")return si(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?si(t,e):void 0}}function si(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wt(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=ni(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,s=function(){};return{s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(c){throw c},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,i=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var c=r.next();return i=c.done,c},e:function(c){a=!0,o=c},f:function(){try{i||r.return==null||r.return()}finally{if(a)throw o}}}}var St={DEBUG:!1,LIB_VERSION:"1.91.1"},K0=Array.isArray,Uu=Object.prototype,Lu=Uu.hasOwnProperty,br=Uu.toString,te=K0||function(t){return br.call(t)==="[object Array]"},ju=function(t){return br.call(t)==="[object Uint8Array]"},qe=function(t){try{return/^\s*\bfunction\b/.test(t)}catch{return!1}},st=function(t){return t===Object(t)&&!te(t)},J0=function(t){if(st(t)){for(var e in t)if(Lu.call(t,e))return!1;return!0}return!1},D=function(t){return t===void 0},me=function(t){return br.call(t)=="[object String]"},Se=function(t){return t===null},Ye=function(t){return br.call(t)=="[object Number]"},oi=function(t){return br.call(t)==="[object Boolean]"},Bu=Array.prototype,Hu=Bu.forEach,Gu=Bu.indexOf,g=typeof window<"u"?window:void 0,qu=g==null?void 0:g.navigator,S=g==null?void 0:g.document,V=qu==null?void 0:qu.userAgent,ce=g??{},Yu="[PostHog.js]",x={_log:function(t){if(g&&(St.DEBUG||ce.POSTHOG_DEBUG)&&!D(g.console)&&g.console){for(var e=("__rrweb_original__"in g.console[t])?g.console[t].__rrweb_original__:g.console[t],r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];e.apply(void 0,[Yu].concat(n))}},info:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];x._log.apply(x,["log"].concat(e))},warn:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];x._log.apply(x,["warn"].concat(e))},error:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];x._log.apply(x,["error"].concat(e))},critical:function(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];(t=console).error.apply(t,[Yu].concat(r))},uninitializedWarning:function(t){x.error("You must initialize PostHog before calling ".concat(t))}},ii={},ai=function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};function Vt(t,e,r){if(te(t)){if(Hu&&t.forEach===Hu)t.forEach(e,r);else if("length"in t&&t.length===+t.length){for(var n=0,s=t.length;n<s;n++)if(n in t&&e.call(r,t[n],n)===ii)return}}}function j(t,e,r){if(!Se(t)&&!D(t)){if(te(t))return Vt(t,e,r);for(var n in t)if(Lu.call(t,n)&&e.call(r,t[n],n)===ii)return}}var re=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return Vt(r,function(s){for(var o in s)s[o]!==void 0&&(t[o]=s[o])}),t};function A(t,e){return t.indexOf(e)!==-1}var Wu=function(){return Date.now=Date.now||function(){return+new Date},Date.now()},zu=function(t){try{return t()}catch{return}},Vu=function(t){return function(){try{for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.apply(this,r)}catch(s){x.critical("Implementation error. Please turn on debug and contact support@posthog.com."),x.critical(s)}}},ci=function(t){var e={};return j(t,function(r,n){me(r)&&r.length>0&&(e[n]=r)}),e},X0=["$performance_raw"];function Q0(t,e){return r=t,n=function(o,i){return i&&X0.indexOf(i)>-1?o:me(o)&&!Se(e)?o.slice(0,e):o},s=new Set,function o(i,a){return i!==Object(i)?n?n(i,a):i:s.has(i)?void 0:(s.add(i),te(i)?(c=[],Vt(i,function(u){c.push(o(u))})):(c={},j(i,function(u,l){s.has(u)||(c[l]=o(u,l))})),c);var c}(r);var r,n,s}function fi(t){var e,r,n,s,o,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a=0,c=0,u="",l=[];if(!t)return t;t=Z0(t);do e=(o=t.charCodeAt(a++)<<16|t.charCodeAt(a++)<<8|t.charCodeAt(a++))>>18&63,r=o>>12&63,n=o>>6&63,s=63&o,l[c++]=i.charAt(e)+i.charAt(r)+i.charAt(n)+i.charAt(s);while(a<t.length);switch(u=l.join(""),t.length%3){case 1:u=u.slice(0,-2)+"==";break;case 2:u=u.slice(0,-1)+"="}return u}var Z0=function(t){var e,r,n,s,o="";for(e=r=0,n=(t=(t+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,s=0;s<n;s++){var i=t.charCodeAt(s),a=null;i<128?r++:a=i>127&&i<2048?String.fromCharCode(i>>6|192,63&i|128):String.fromCharCode(i>>12|224,i>>6&63|128,63&i|128),Se(a)||(r>e&&(o+=t.substring(e,r)),o+=a,e=r=s+1)}return r>e&&(o+=t.substring(e,t.length)),o},ew=["ahrefsbot","applebot","baiduspider","bingbot","bingpreview","bot.htm","bot.php","crawler","duckduckbot","facebookexternal","facebookcatalog","gptbot","hubspot","linkedinbot","mj12bot","petalbot","pinterest","prerender","rogerbot","screaming frog","semrushbot","sitebulb","twitterbot","yahoo! slurp","yandexbot","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google"],tw=function(t,e){if(!t)return!1;var r=t.toLowerCase();return ew.concat(e||[]).some(function(n){var s=n.toLowerCase();return r.includes?r.includes(s):r.indexOf(s)!==-1})},wr=function(){function t(e){return e&&(e.preventDefault=t.preventDefault,e.stopPropagation=t.stopPropagation),e}return t.preventDefault=function(){this.returnValue=!1},t.stopPropagation=function(){this.cancelBubble=!0},function(e,r,n,s,o){if(e)if(e.addEventListener&&!s)e.addEventListener(r,n,!!o);else{var i="on"+r,a=e[i];e[i]=function(c,u,l){return function(f){if(f=f||t(g==null?void 0:g.event)){var d,_=!0;qe(l)&&(d=l(f));var p=u.call(c,f);return d!==!1&&p!==!1||(_=!1),_}}}(e,n,a)}else x.error("No valid element provided to register_event")}}();function Sr(t,e){var r=function(){if(!S)return e("document not found");var n=S.createElement("script");n.type="text/javascript",n.src=t,n.onload=function(i){return e(void 0,i)},n.onerror=function(i){return e(i)};var s,o=S.querySelectorAll("body > script");o.length>0?(s=o[0].parentNode)===null||s===void 0||s.insertBefore(n,o[0]):S.body.appendChild(n)};S!=null&&S.body?r():S==null||S.addEventListener("DOMContentLoaded",r)}function Nn(t){switch(ei(t.className)){case"string":return t.className;case"object":return("baseVal"in t.className?t.className.baseVal:null)||t.getAttribute("class")||"";default:return""}}function Dn(t){var e="";return Fn(t)&&!Qu(t)&&t.childNodes&&t.childNodes.length&&j(t.childNodes,function(r){Ju(r)&&r.textContent&&(e+=ai(r.textContent).split(/(\s+)/).filter(Kt).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255))}),ai(e)}function Ku(t){return!!t&&t.nodeType===1}function Et(t,e){return!!t&&!!t.tagName&&t.tagName.toLowerCase()===e.toLowerCase()}function Ju(t){return!!t&&t.nodeType===3}function Xu(t){return!!t&&t.nodeType===11}var ui=["a","button","form","input","select","textarea","label"];function Fn(t){for(var e=t;e.parentNode&&!Et(e,"body");e=e.parentNode){var r=Nn(e).split(" ");if(A(r,"ph-sensitive")||A(r,"ph-no-capture"))return!1}if(A(Nn(t).split(" "),"ph-include"))return!0;var n=t.type||"";if(me(n))switch(n.toLowerCase()){case"hidden":case"password":return!1}var s=t.name||t.id||"";return!(me(s)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(s.replace(/[^a-zA-Z0-9]/g,"")))}function Qu(t){return!!(Et(t,"input")&&!["button","checkbox","submit","reset"].includes(t.type)||Et(t,"select")||Et(t,"textarea")||t.getAttribute("contenteditable")==="true")}function Kt(t){return!(Se(t)||D(t)||me(t)&&(t=ai(t),/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/.test((t||"").replace(/[- ]/g,""))||/(^\d{3}-?\d{2}-?\d{4}$)/.test(t)))}function Zu(t){var e=Dn(t);return Kt(e="".concat(e," ").concat(el(t)).trim())?e:""}function el(t){var e="";return t&&t.childNodes&&t.childNodes.length&&j(t.childNodes,function(r){var n;if(r&&((n=r.tagName)===null||n===void 0?void 0:n.toLowerCase())==="span")try{var s=Dn(r);e="".concat(e," ").concat(s).trim(),r.childNodes&&r.childNodes.length&&(e="".concat(e," ").concat(el(r)).trim())}catch(o){x.error(o)}}),e}var rw=function(){function t(e){q(this,t),this.clicks=[],this.enabled=e}return Y(t,[{key:"isRageClick",value:function(e,r,n){if(!this.enabled)return!1;var s=this.clicks[this.clicks.length-1];if(s&&Math.abs(e-s.x)+Math.abs(r-s.y)<30&&n-s.timestamp<1e3){if(this.clicks.push({x:e,y:r,timestamp:n}),this.clicks.length===3)return!0}else this.clicks=[{x:e,y:r,timestamp:n}];return!1}}]),t}(),tl="$people_distinct_id",An="__alias",Er="__timers",rl="$autocapture_disabled_server_side",li="$session_recording_enabled_server_side",nl="$console_log_recording_enabled_server_side",sl="$session_recording_recorder_version_server_side",ol="$session_recording_network_payload_capture",Mn="$sesid",Un="$session_is_sampled",Jt="$enabled_feature_flags",_i="$early_access_features",Xt="$stored_person_properties",ot="$stored_group_properties",di="$surveys",Ln="$flag_call_reported",pi="$user_state",hi="$posthog_quota_limited",gi="$client_session_props",nw=[tl,An,"__cmpns",Er,li,Mn,Jt,pi,hi,_i,ot,Xt,di,Ln,gi];function vi(t,e){return e.length>t?e.slice(0,t)+"...":e}var it={_initializedTokens:[],_isDisabledServerSide:null,_isAutocaptureEnabled:!1,_setIsAutocaptureEnabled:function(t){var e,r=Se(this._isDisabledServerSide)?!((e=t.persistence)===null||e===void 0||!e.props[rl]):this._isDisabledServerSide,n=!!t.config.autocapture;this._isAutocaptureEnabled=n&&!r},_previousElementSibling:function(t){if(t.previousElementSibling)return t.previousElementSibling;var e=t;do e=e.previousSibling;while(e&&!Ku(e));return e},_getAugmentPropertiesFromElement:function(t){if(!Fn(t))return{};var e={};return j(t.attributes,function(r){if(r.name.indexOf("data-ph-capture-attribute")===0){var n=r.name.replace("data-ph-capture-attribute-",""),s=r.value;n&&s&&Kt(s)&&(e[n]=s)}}),e},_getPropertiesFromElement:function(t,e,r){var n,s=t.tagName.toLowerCase(),o={tag_name:s};ui.indexOf(s)>-1&&!r&&(s.toLowerCase()==="a"||s.toLowerCase()==="button"?o.$el_text=vi(1024,Zu(t)):o.$el_text=vi(1024,Dn(t)));var i=Nn(t);i.length>0&&(o.classes=i.split(" ").filter(function(f){return f!==""}));var a=(n=this.config)===null||n===void 0?void 0:n.element_attribute_ignorelist;j(t.attributes,function(f){var d;Qu(t)&&["name","id","class"].indexOf(f.name)===-1||a!=null&&a.includes(f.name)||!e&&Kt(f.value)&&(d=f.name,!me(d)||d.substring(0,10)!=="_ngcontent"&&d.substring(0,7)!=="_nghost")&&(o["attr__"+f.name]=vi(1024,f.value))});for(var c=1,u=1,l=t;l=this._previousElementSibling(l);)c++,l.tagName===t.tagName&&u++;return o.nth_child=c,o.nth_of_type=u,o},_getDefaultProperties:function(t){return{$event_type:t,$ce_version:1}},_extractCustomPropertyValue:function(t){var e=[];return j(S==null?void 0:S.querySelectorAll(t.css_selector),function(r){var n;["input","select"].indexOf(r.tagName.toLowerCase())>-1?n=r.value:r.textContent&&(n=r.textContent),Kt(n)&&e.push(n)}),e.join(", ")},_getCustomProperties:function(t){var e=this,r={};return j(this._customProperties,function(n){j(n.event_selectors,function(s){j(S==null?void 0:S.querySelectorAll(s),function(o){A(t,o)&&Fn(o)&&(r[n.name]=e._extractCustomPropertyValue(n))})})}),r},_getEventTarget:function(t){return D(t.target)?t.srcElement||null:(e=t.target)!==null&&e!==void 0&&e.shadowRoot?t.composedPath()[0]||null:t.target||null;var e},_captureEvent:function(t,e){var r,n=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"$autocapture",o=this._getEventTarget(t);if(Ju(o)&&(o=o.parentNode||null),s==="$autocapture"&&t.type==="click"&&t instanceof MouseEvent&&(r=this.rageclicks)!==null&&r!==void 0&&r.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this._captureEvent(t,e,"$rageclick"),o&&function(h,E){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;if(!g||!h||Et(h,"html")||!Ku(h))return!1;if(m!=null&&m.url_allowlist){var w=g.location.href,N=m.url_allowlist;if(N&&!N.some(function(Z){return w.match(Z)}))return!1}if(m!=null&&m.dom_event_allowlist){var C=m.dom_event_allowlist;if(C&&!C.some(function(Z){return E.type===Z}))return!1}if(m!=null&&m.element_allowlist){var k=m.element_allowlist;if(k&&!k.some(function(Z){return h.tagName.toLowerCase()===Z}))return!1}if(m!=null&&m.css_selector_allowlist){var F=m.css_selector_allowlist;if(F&&!F.some(function(Z){return h.matches(Z)}))return!1}for(var R=!1,$=[h],M=!0,U=h;U.parentNode&&!Et(U,"body");)if(Xu(U.parentNode))$.push(U.parentNode.host),U=U.parentNode.host;else{if(!(M=U.parentNode||!1))break;if(ui.indexOf(M.tagName.toLowerCase())>-1)R=!0;else{var Fe=g.getComputedStyle(M);Fe&&Fe.getPropertyValue("cursor")==="pointer"&&(R=!0)}$.push(M),U=M}var ue=g.getComputedStyle(h);if(ue&&ue.getPropertyValue("cursor")==="pointer"&&E.type==="click")return!0;var Ee=h.tagName.toLowerCase();switch(Ee){case"html":return!1;case"form":return E.type==="submit";case"input":case"select":case"textarea":return E.type==="change"||E.type==="click";default:return R?E.type==="click":E.type==="click"&&(ui.indexOf(Ee)>-1||h.getAttribute("contenteditable")==="true")}}(o,t,this.config)){for(var i,a,c=[o],u=o;u.parentNode&&!Et(u,"body");)Xu(u.parentNode)?(c.push(u.parentNode.host),u=u.parentNode.host):(c.push(u.parentNode),u=u.parentNode);var l,f=[],d={},_=!1;if(j(c,function(h){var E=Fn(h);h.tagName.toLowerCase()==="a"&&(l=h.getAttribute("href"),l=E&&Kt(l)&&l),A(Nn(h).split(" "),"ph-no-capture")&&(_=!0),f.push(n._getPropertiesFromElement(h,e.config.mask_all_element_attributes,e.config.mask_all_text));var m=n._getAugmentPropertiesFromElement(h);re(d,m)}),e.config.mask_all_text||(o.tagName.toLowerCase()==="a"||o.tagName.toLowerCase()==="button"?f[0].$el_text=Zu(o):f[0].$el_text=Dn(o)),l&&(f[0].attr__href=l),_)return!1;var p=re(this._getDefaultProperties(t.type),{$elements:f},(i=f[0])!==null&&i!==void 0&&i.$el_text?{$el_text:(a=f[0])===null||a===void 0?void 0:a.$el_text}:{},this._getCustomProperties(c),d);return e.capture(s,p),!0}},_navigate:function(t){g&&(g.location.href=t)},_addDomEventHandlers:function(t){var e=this;if(g&&S){var r=function(n){n=n||(g==null?void 0:g.event),e._captureEvent(n,t)};wr(S,"submit",r,!1,!0),wr(S,"change",r,!1,!0),wr(S,"click",r,!1,!0)}},_customProperties:[],rageclicks:null,config:void 0,init:function(t){var e;oi(t.__autocapture)||(this.config=t.__autocapture),(e=this.config)!==null&&e!==void 0&&e.url_allowlist&&(this.config.url_allowlist=this.config.url_allowlist.map(function(r){return new RegExp(r)})),this.rageclicks=new rw(t.config.rageclick)},afterDecideResponse:function(t,e){var r=e.config.token;this._initializedTokens.indexOf(r)>-1?x.info('autocapture already initialized for token "'+r+'"'):(e.persistence&&e.persistence.register(y({},rl,!!t.autocapture_opt_out)),this._isDisabledServerSide=!!t.autocapture_opt_out,this._setIsAutocaptureEnabled(e),this._initializedTokens.push(r),t&&t.config&&t.config.enable_collect_everything&&this._isAutocaptureEnabled?(t.custom_properties&&(this._customProperties=t.custom_properties),this._addDomEventHandlers(e)):e.__autocapture=!1)},enabledForProject:function(t,e,r){if(!t)return!0;e=D(e)?10:e,r=D(r)?10:r;for(var n=0,s=0;s<t.length;s++)n+=t.charCodeAt(s);return n%e<r},isBrowserSupported:function(){return qe(S==null?void 0:S.querySelectorAll)}};(function(t){for(var e in t)qe(t[e])&&(t[e]=t[e].bind(t))})(it),function(t){for(var e in t)qe(t[e])&&(t[e]=Vu(t[e]))}(it);var mi="$active_feature_flags",jn="$override_feature_flags",il="$feature_flag_payloads",al=function(t){var e,r={},n=wt(function(a){for(var c=Object.keys(a),u=c.length,l=new Array(u);u--;)l[u]=[c[u],a[c[u]]];return l}(t||{}));try{for(n.s();!(e=n.n()).done;){var s=yr(e.value,2),o=s[0],i=s[1];i&&(r[o]=i)}}catch(a){n.e(a)}finally{n.f()}return r},sw=function(){function t(e){q(this,t),this.instance=e,this._override_warning=!1,this.featureFlagEventHandlers=[],this.reloadFeatureFlagsQueued=!1,this.reloadFeatureFlagsInAction=!1}return Y(t,[{key:"getFlags",value:function(){return Object.keys(this.getFlagVariants())}},{key:"getFlagVariants",value:function(){var e=this.instance.get_property(Jt),r=this.instance.get_property(jn);if(!r)return e||{};for(var n=re({},e),s=Object.keys(r),o=0;o<s.length;o++)r[s[o]]===!1?delete n[s[o]]:n[s[o]]=r[s[o]];return this._override_warning||(x.warn(" Overriding feature flags!",{enabledFlags:e,overriddenFlags:r,finalFlags:n}),this._override_warning=!0),n}},{key:"getFlagPayloads",value:function(){return this.instance.get_property(il)||{}}},{key:"reloadFeatureFlags",value:function(){this.reloadFeatureFlagsQueued||(this.reloadFeatureFlagsQueued=!0,this._startReloadTimer())}},{key:"setAnonymousDistinctId",value:function(e){this.$anon_distinct_id=e}},{key:"setReloadingPaused",value:function(e){this.reloadFeatureFlagsInAction=e}},{key:"resetRequestQueue",value:function(){this.reloadFeatureFlagsQueued=!1}},{key:"_startReloadTimer",value:function(){var e=this;this.reloadFeatureFlagsQueued&&!this.reloadFeatureFlagsInAction&&setTimeout(function(){!e.reloadFeatureFlagsInAction&&e.reloadFeatureFlagsQueued&&(e.reloadFeatureFlagsQueued=!1,e._reloadFeatureFlagsRequest())},5)}},{key:"_reloadFeatureFlagsRequest",value:function(){var e=this;this.setReloadingPaused(!0);var r=this.instance.config.token,n=this.instance.get_property(Xt),s=this.instance.get_property(ot),o=fi(JSON.stringify({token:r,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:n,group_properties:s,disable_flags:this.instance.config.advanced_disable_feature_flags||void 0}));this.instance._send_request(this.instance.config.api_host+"/decide/?v=3",{data:o},{method:"POST"},this.instance._prepare_callback(function(i){e.$anon_distinct_id=void 0,e.receivedFeatureFlags(i),e.setReloadingPaused(!1),e._startReloadTimer()}))}},{key:"getFeatureFlag",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0){var n,s=this.getFlagVariants()[e],o="".concat(s),i=this.instance.get_property(Ln)||{};return(r.send_event||!("send_event"in r))&&(!(e in i)||!i[e].includes(o))&&(te(i[e])?i[e].push(o):i[e]=[o],(n=this.instance.persistence)===null||n===void 0||n.register(y({},Ln,i)),this.instance.capture("$feature_flag_called",{$feature_flag:e,$feature_flag_response:s})),s}x.warn('getFeatureFlag for key "'+e+`" failed. Feature flags didn't load in time.`)}},{key:"getFeatureFlagPayload",value:function(e){return this.getFlagPayloads()[e]}},{key:"isFeatureEnabled",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(e,r);x.warn('isFeatureEnabled for key "'+e+`" failed. Feature flags didn't load in time.`)}},{key:"addFeatureFlagsHandler",value:function(e){this.featureFlagEventHandlers.push(e)}},{key:"removeFeatureFlagsHandler",value:function(e){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(function(r){return r!==e})}},{key:"receivedFeatureFlags",value:function(e){if(this.instance.persistence){this.instance.decideEndpointWasHit=!0;var r=this.getFlagVariants(),n=this.getFlagPayloads();(function(s,o){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},c=s.featureFlags,u=s.featureFlagPayloads;if(c)if(te(c)){var l,f={};if(c)for(var d=0;d<c.length;d++)f[c[d]]=!0;o&&o.register((y(l={},mi,c),y(l,Jt,f),l))}else{var _,p=c,h=u;s.errorsWhileComputingFlags&&(p=T(T({},i),p),h=T(T({},a),h)),o&&o.register((y(_={},mi,Object.keys(al(p))),y(_,Jt,p||{}),y(_,il,h||{}),_))}})(e,this.instance.persistence,r,n),this._fireFeatureFlagsCallbacks()}}},{key:"override",value:function(e){if(!this.instance.__loaded||!this.instance.persistence)return x.uninitializedWarning("posthog.feature_flags.override");if(this._override_warning=!1,e===!1)this.instance.persistence.unregister(jn);else if(te(e)){for(var r={},n=0;n<e.length;n++)r[e[n]]=!0;this.instance.persistence.register(y({},jn,r))}else this.instance.persistence.register(y({},jn,e))}},{key:"onFeatureFlags",value:function(e){var r=this;if(this.addFeatureFlagsHandler(e),this.instance.decideEndpointWasHit){var n=this._prepareFeatureFlagsForCallbacks(),s=n.flags,o=n.flagVariants;e(s,o)}return function(){return r.removeFeatureFlagsHandler(e)}}},{key:"updateEarlyAccessFeatureEnrollment",value:function(e,r){var n,s,o=y({},"$feature_enrollment/".concat(e),r);this.instance.capture("$feature_enrollment_update",{$feature_flag:e,$feature_enrollment:r,$set:o}),this.setPersonPropertiesForFlags(o,!1);var i=T(T({},this.getFlagVariants()),{},y({},e,r));(n=this.instance.persistence)===null||n===void 0||n.register((y(s={},mi,Object.keys(al(i))),y(s,Jt,i),s)),this._fireFeatureFlagsCallbacks()}},{key:"getEarlyAccessFeatures",value:function(e){var r=this,n=arguments.length>1&&arguments[1]!==void 0&&arguments[1],s=this.instance.get_property(_i);if(s&&!n)return e(s);this.instance._send_request("".concat(this.instance.config.api_host,"/api/early_access_features/?token=").concat(this.instance.config.token),{},{method:"GET"},function(o){var i,a=o.earlyAccessFeatures;return(i=r.instance.persistence)===null||i===void 0||i.register(y({},_i,a)),e(a)})}},{key:"_prepareFeatureFlagsForCallbacks",value:function(){var e=this.getFlags(),r=this.getFlagVariants();return{flags:e.filter(function(n){return r[n]}),flagVariants:Object.keys(r).filter(function(n){return r[n]}).reduce(function(n,s){return n[s]=r[s],n},{})}}},{key:"_fireFeatureFlagsCallbacks",value:function(){var e=this._prepareFeatureFlagsForCallbacks(),r=e.flags,n=e.flagVariants;this.featureFlagEventHandlers.forEach(function(s){return s(r,n)})}},{key:"setPersonPropertiesForFlags",value:function(e){var r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=this.instance.get_property(Xt)||{};this.instance.register(y({},Xt,T(T({},n),e))),r&&this.instance.reloadFeatureFlags()}},{key:"resetPersonPropertiesForFlags",value:function(){this.instance.unregister(Xt)}},{key:"setGroupPropertiesForFlags",value:function(e){var r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=this.instance.get_property(ot)||{};Object.keys(n).length!==0&&Object.keys(n).forEach(function(s){n[s]=T(T({},n[s]),e[s]),delete e[s]}),this.instance.register(y({},ot,T(T({},n),e))),r&&this.instance.reloadFeatureFlags()}},{key:"resetGroupPropertiesForFlags",value:function(e){if(e){var r=this.instance.get_property(ot)||{};this.instance.register(y({},ot,T(T({},r),{},y({},e,{}))))}else this.instance.unregister(ot)}}]),t}();Math.trunc||(Math.trunc=function(t){return t<0?Math.ceil(t):Math.floor(t)}),Number.isInteger||(Number.isInteger=function(t){return Ye(t)&&isFinite(t)&&Math.floor(t)===t});var cl="0123456789abcdef",ow=function(){function t(e){if(q(this,t),this.bytes=e,e.length!==16)throw new TypeError("not 128-bit length")}return Y(t,[{key:"toString",value:function(){for(var e="",r=0;r<this.bytes.length;r++)e=e+cl.charAt(this.bytes[r]>>>4)+cl.charAt(15&this.bytes[r]),r!==3&&r!==5&&r!==7&&r!==9||(e+="-");if(e.length!==36)throw new Error("Invalid UUIDv7 was generated");return e}},{key:"clone",value:function(){return new t(this.bytes.slice(0))}},{key:"equals",value:function(e){return this.compareTo(e)===0}},{key:"compareTo",value:function(e){for(var r=0;r<16;r++){var n=this.bytes[r]-e.bytes[r];if(n!==0)return Math.sign(n)}return 0}}],[{key:"fromFieldsV7",value:function(e,r,n,s){if(!Number.isInteger(e)||!Number.isInteger(r)||!Number.isInteger(n)||!Number.isInteger(s)||e<0||r<0||n<0||s<0||e>0xffffffffffff||r>4095||n>1073741823||s>4294967295)throw new RangeError("invalid field value");var o=new Uint8Array(16);return o[0]=e/Math.pow(2,40),o[1]=e/Math.pow(2,32),o[2]=e/Math.pow(2,24),o[3]=e/Math.pow(2,16),o[4]=e/Math.pow(2,8),o[5]=e,o[6]=112|r>>>8,o[7]=r,o[8]=128|n>>>24,o[9]=n>>>16,o[10]=n>>>8,o[11]=n,o[12]=s>>>24,o[13]=s>>>16,o[14]=s>>>8,o[15]=s,new t(o)}}]),t}(),iw=function(){function t(){q(this,t),y(this,"timestamp",0),y(this,"counter",0),y(this,"random",new aw)}return Y(t,[{key:"generate",value:function(){var e=this.generateOrAbort();if(D(e)){this.timestamp=0;var r=this.generateOrAbort();if(D(r))throw new Error("Could not generate UUID after timestamp reset");return r}return e}},{key:"generateOrAbort",value:function(){var e=Date.now();if(e>this.timestamp)this.timestamp=e,this.resetCounter();else{if(!(e+1e4>this.timestamp))return;this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter())}return ow.fromFieldsV7(this.timestamp,Math.trunc(this.counter/Math.pow(2,30)),this.counter&Math.pow(2,30)-1,this.random.nextUint32())}},{key:"resetCounter",value:function(){this.counter=1024*this.random.nextUint32()+(1023&this.random.nextUint32())}}]),t}(),fl=function(t){if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var e=0;e<t.length;e++)t[e]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return t};g&&!D(g.crypto)&&crypto.getRandomValues&&(fl=function(t){return crypto.getRandomValues(t)});var ul,aw=function(){function t(){q(this,t),y(this,"buffer",new Uint32Array(8)),y(this,"cursor",1/0)}return Y(t,[{key:"nextUint32",value:function(){return this.cursor>=this.buffer.length&&(fl(this.buffer),this.cursor=0),this.buffer[this.cursor++]}}]),t}(),kt=function(){return cw().toString()},cw=function(){return(ul||(ul=new iw)).generate()},fw="Thu, 01 Jan 1970 00:00:00 GMT",uw=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i,lw=function(t){var e=t.match(uw);return e?e[0]:""};function _w(t,e){if(e){var r=function(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:S;if(!o||["localhost","127.0.0.1"].includes(s))return"";for(var i=s.split("."),a=i.length,c="dmn_chk_"+kt(),u=new RegExp("(^|;)\\s*"+c+"=1");a--;){var l=i.slice(a).join("."),f=c+"=1;domain=."+l;if(o.cookie=f,u.test(o.cookie))return o.cookie=f+";expires="+fw,l}return""}(t);if(!r){var n=lw(t);n!==r&&x.info("Warning: cookie subdomain discovery mismatch",n,r),r=n}return r?"; domain=."+r:""}return""}var We={is_supported:function(){return!!S},error:function(t){x.error("cookieStore error: "+t)},get:function(t){if(S){try{for(var e=t+"=",r=S.cookie.split(";").filter(function(o){return o.length}),n=0;n<r.length;n++){for(var s=r[n];s.charAt(0)==" ";)s=s.substring(1,s.length);if(s.indexOf(e)===0)return decodeURIComponent(s.substring(e.length,s.length))}}catch{}return null}},parse:function(t){var e;try{e=JSON.parse(We.get(t))||{}}catch{}return e},set:function(t,e,r,n,s){if(S)try{var o="",i="",a=_w(S.location.hostname,n);if(r){var c=new Date;c.setTime(c.getTime()+24*r*60*60*1e3),o="; expires="+c.toUTCString()}s&&(i="; secure");var u=t+"="+encodeURIComponent(JSON.stringify(e))+o+"; SameSite=Lax; path=/"+a+i;return S.cookie=u,u}catch{return}},remove:function(t,e){try{We.set(t,"",-1,e)}catch{return}}},xi=null,z={is_supported:function(){if(!Se(xi))return xi;var t=!0;if(D(g))t=!1;else try{var e="__mplssupport__";z.set(e,"xyz"),z.get(e)!=='"xyz"'&&(t=!1),z.remove(e)}catch{t=!1}return t||x.error("localStorage unsupported; falling back to cookie store"),xi=t,t},error:function(t){x.error("localStorage error: "+t)},get:function(t){try{return g==null?void 0:g.localStorage.getItem(t)}catch(e){z.error(e)}return null},parse:function(t){try{return JSON.parse(z.get(t))||{}}catch{}return null},set:function(t,e){try{g==null||g.localStorage.setItem(t,JSON.stringify(e))}catch(r){z.error(r)}},remove:function(t){try{g==null||g.localStorage.removeItem(t)}catch(e){z.error(e)}}},dw=["distinct_id",Mn,Un],yi=T(T({},z),{},{parse:function(t){try{var e={};try{e=We.parse(t)||{}}catch{}var r=re(e,JSON.parse(z.get(t)||"{}"));return z.set(t,r),r}catch{}return null},set:function(t,e,r,n,s){try{z.set(t,e);var o={};dw.forEach(function(i){e[i]&&(o[i]=e[i])}),Object.keys(o).length&&We.set(t,o,r,n,s)}catch(i){z.error(i)}},remove:function(t,e){try{g==null||g.localStorage.removeItem(t),We.remove(t,e)}catch(r){z.error(r)}}}),Bn={},pw={is_supported:function(){return!0},error:function(t){x.error("memoryStorage error: "+t)},get:function(t){return Bn[t]||null},parse:function(t){return Bn[t]||null},set:function(t,e){Bn[t]=e},remove:function(t){delete Bn[t]}},$t=null,ne={is_supported:function(){if(!Se($t))return $t;if($t=!0,D(g))$t=!1;else try{var t="__support__";ne.set(t,"xyz"),ne.get(t)!=='"xyz"'&&($t=!1),ne.remove(t)}catch{$t=!1}return $t},error:function(t){x.error("sessionStorage error: ",t)},get:function(t){try{return g==null?void 0:g.sessionStorage.getItem(t)}catch(e){ne.error(e)}return null},parse:function(t){try{return JSON.parse(ne.get(t))||null}catch{}return null},set:function(t,e){try{g==null||g.sessionStorage.setItem(t,JSON.stringify(e))}catch(r){ne.error(r)}},remove:function(t){try{g==null||g.sessionStorage.removeItem(t)}catch(e){ne.error(e)}}},hw=["localhost","127.0.0.1"],gw=function(t,e){return!!function(r){try{new RegExp(r)}catch{return!1}return!0}(e)&&new RegExp(e).test(t)},ll=function(t,e){for(var r,n=((t.split("#")[0]||"").split("?")[1]||"").split("&"),s=0;s<n.length;s++){var o=n[s].split("=");if(o[0]===e){r=o;break}}if(!te(r)||r.length<2)return"";var i=r[1];try{i=decodeURIComponent(i)}catch{x.error("Skipping decoding for malformed query param: "+i)}return i.replace(/\+/g," ")},Hn=function(t,e){var r=t.match(new RegExp(e+"=([^&]*)"));return r?r[1]:null},K={campaignParams:function(t){var e=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gclid","fbclid","msclkid"].concat(t||[]),r={};return j(e,function(n){var s=S?ll(S.URL,n):"";s.length&&(r[n]=s)}),r},searchEngine:function(){var t=S==null?void 0:S.referrer;return t?t.search("https?://(.*)google.([^/?]*)")===0?"google":t.search("https?://(.*)bing.com")===0?"bing":t.search("https?://(.*)yahoo.com")===0?"yahoo":t.search("https?://(.*)duckduckgo.com")===0?"duckduckgo":null:null},searchInfo:function(){var t=K.searchEngine(),e=t!="yahoo"?"q":"p",r={};if(!Se(t)){r.$search_engine=t;var n=S?ll(S.referrer,e):"";n.length&&(r.ph_keyword=n)}return r},browser:function(t,e,r){return e=e||"",r||A(t," OPR/")?A(t,"Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(t)?"BlackBerry":A(t,"IEMobile")||A(t,"WPDesktop")?"Internet Explorer Mobile":A(t,"SamsungBrowser/")?"Samsung Internet":A(t,"Edge")||A(t,"Edg/")?"Microsoft Edge":A(t,"FBIOS")?"Facebook Mobile":A(t,"Chrome")?"Chrome":A(t,"CriOS")?"Chrome iOS":A(t,"UCWEB")||A(t,"UCBrowser")?"UC Browser":A(t,"FxiOS")?"Firefox iOS":A(e,"Apple")||function(n){return A(n,"Safari")&&!A(n,"Chrome")&&!A(n,"Android")}(t)?A(t,"Mobile")?"Mobile Safari":"Safari":A(t,"Android")?"Android Mobile":A(t,"Konqueror")||A(t,"konqueror")?"Konqueror":A(t,"Firefox")?"Firefox":A(t,"MSIE")||A(t,"Trident/")?"Internet Explorer":A(t,"Gecko")?"Mozilla":""},browserVersion:function(t,e,r){var n={"Internet Explorer Mobile":[/rv:(\d+(\.\d+)?)/],"Microsoft Edge":[/Edge?\/(\d+(\.\d+)?)/],Chrome:[/Chrome\/(\d+(\.\d+)?)/],"Chrome iOS":[/CriOS\/(\d+(\.\d+)?)/],"UC Browser":[/(UCBrowser|UCWEB)\/(\d+(\.\d+)?)/],Safari:[/Version\/(\d+(\.\d+)?)/],"Mobile Safari":[/Version\/(\d+(\.\d+)?)/],Opera:[/(Opera|OPR)\/(\d+(\.\d+)?)/],Firefox:[/Firefox\/(\d+(\.\d+)?)/],"Firefox iOS":[/FxiOS\/(\d+(\.\d+)?)/],Konqueror:[/Konqueror[:/]?(\d+(\.\d+)?)/i],BlackBerry:[/BlackBerry (\d+(\.\d+)?)/,/Version\/(\d+(\.\d+)?)/],"Android Mobile":[/android\s(\d+(\.\d+)?)/],"Samsung Internet":[/SamsungBrowser\/(\d+(\.\d+)?)/],"Internet Explorer":[/(rv:|MSIE )(\d+(\.\d+)?)/],Mozilla:[/rv:(\d+(\.\d+)?)/]}[K.browser(t,e,r)];if(D(n))return null;for(var s=0;s<n.length;s++){var o=n[s],i=t.match(o);if(i)return parseFloat(i[i.length-2])}return null},browserLanguage:function(){return navigator.language||navigator.userLanguage},os:function(t){if(/Windows/i.test(t)){if(/Phone/.test(t)||/WPDesktop/.test(t))return{os_name:"Windows Phone",os_version:""};var e=/Windows NT ([0-9.]+)/i.exec(t);return e&&e[1]?{os_name:"Windows",os_version:e[1]}:{os_name:"Windows",os_version:""}}if(/(iPhone|iPad|iPod)/.test(t)){var r=/OS (\d+)_(\d+)_?(\d+)?/i.exec(t);return r&&r[1]?{os_name:"iOS",os_version:[r[1],r[2],r[3]||"0"].join(".")}:{os_name:"iOS",os_version:""}}if(/Android/.test(t)){var n=/Android (\d+)\.(\d+)\.?(\d+)?/i.exec(t);return n&&n[1]?{os_name:"Android",os_version:[n[1],n[2],n[3]||"0"].join(".")}:{os_name:"Android",os_version:""}}if(/(BlackBerry|PlayBook|BB10)/i.test(t))return{os_name:"BlackBerry",os_version:""};if(/Mac/i.test(t)){var s=/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i.exec(t);return s&&s[1]?{os_name:"Mac OS X",os_version:[s[1],s[2],s[3]||"0"].join(".")}:{os_name:"Mac OS X",os_version:""}}return/Linux/.test(t)?{os_name:"Linux",os_version:""}:/CrOS/.test(t)?{os_name:"Chrome OS",os_version:""}:{os_name:"",os_version:""}},device:function(t){return/Windows Phone/i.test(t)||/WPDesktop/.test(t)?"Windows Phone":/iPad/.test(t)?"iPad":/iPod/.test(t)?"iPod Touch":/iPhone/.test(t)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(t)?"BlackBerry":/Android/.test(t)&&!/Mobile/.test(t)?"Android Tablet":/Android/.test(t)?"Android":""},deviceType:function(t){var e=this.device(t);return e==="iPad"||e==="Android Tablet"?"Tablet":e?"Mobile":"Desktop"},referrer:function(){return(S==null?void 0:S.referrer)||"$direct"},referringDomain:function(){if(S==null||!S.referrer)return"$direct";var t=S.createElement("a");return t.href=S.referrer,t.host},properties:function(){if(!V)return{};var t=K.os(V),e=t.os_name,r=t.os_version;return re(ci({$os:e,$os_version:r,$browser:K.browser(V,navigator.vendor,ce.opera),$device:K.device(V),$device_type:K.deviceType(V)}),{$current_url:g==null?void 0:g.location.href,$host:g==null?void 0:g.location.host,$pathname:g==null?void 0:g.location.pathname,$raw_user_agent:V.length>1e3?V.substring(0,997)+"...":V,$browser_version:K.browserVersion(V,navigator.vendor,ce.opera),$browser_language:K.browserLanguage(),$screen_height:g==null?void 0:g.screen.height,$screen_width:g==null?void 0:g.screen.width,$viewport_height:g==null?void 0:g.innerHeight,$viewport_width:g==null?void 0:g.innerWidth,$lib:"web",$lib_version:St.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Wu()/1e3})},people_properties:function(){if(!V)return{};var t=K.os(V),e=t.os_name,r=t.os_version;return re(ci({$os:e,$os_version:r,$browser:K.browser(V,navigator.vendor,ce.opera)}),{$browser_version:K.browserVersion(V,navigator.vendor,ce.opera)})}},vw=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"],_l=function(){function t(e){q(this,t);var r="";e.token&&(r=e.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),this.props={},this.campaign_params_saved=!1,this.custom_campaign_params=e.custom_campaign_params||[],e.persistence_name?this.name="ph_"+e.persistence_name:this.name="ph_"+r+"_posthog",vw.indexOf(e.persistence.toLowerCase())===-1&&(x.critical("Unknown persistence type "+e.persistence+"; falling back to cookie"),e.persistence="cookie");var n=e.persistence.toLowerCase();n==="localstorage"&&z.is_supported()?this.storage=z:n==="localstorage+cookie"&&yi.is_supported()?this.storage=yi:n==="sessionstorage"&&ne.is_supported()?this.storage=ne:this.storage=n==="memory"?pw:We,this.user_state="anonymous",this.load(),this.update_config(e),this.save()}return Y(t,[{key:"properties",value:function(){var e={};return j(this.props,function(r,n){if(n===Jt&&st(r))for(var s=Object.keys(r),o=0;o<s.length;o++)e["$feature/".concat(s[o])]=r[s[o]];else a=n,c=!1,(Se(i=nw)?c:Gu&&i.indexOf===Gu?i.indexOf(a)!=-1:(j(i,function(u){if(c||(c=u===a))return ii}),c))||(e[n]=r);var i,a,c}),e}},{key:"load",value:function(){if(!this.disabled){var e=this.storage.parse(this.name);e&&(this.props=re({},e))}}},{key:"save",value:function(){this.disabled||this.storage.set(this.name,this.props,this.expire_days,this.cross_subdomain,this.secure)}},{key:"remove",value:function(){this.storage.remove(this.name,!1),this.storage.remove(this.name,!0)}},{key:"clear",value:function(){this.remove(),this.props={}}},{key:"register_once",value:function(e,r,n){var s=this;if(st(e)){D(r)&&(r="None"),this.expire_days=D(n)?this.default_expiry:n;var o=!1;if(j(e,function(i,a){s.props.hasOwnProperty(a)&&s.props[a]!==r||(s.props[a]=i,o=!0)}),o)return this.save(),!0}return!1}},{key:"register",value:function(e,r){var n=this;if(st(e)){this.expire_days=D(r)?this.default_expiry:r;var s=!1;if(j(e,function(o,i){e.hasOwnProperty(i)&&n.props[i]!==o&&(n.props[i]=o,s=!0)}),s)return this.save(),!0}return!1}},{key:"unregister",value:function(e){e in this.props&&(delete this.props[e],this.save())}},{key:"update_campaign_params",value:function(){this.campaign_params_saved||(this.register(K.campaignParams(this.custom_campaign_params)),this.campaign_params_saved=!0)}},{key:"update_search_keyword",value:function(){this.register(K.searchInfo())}},{key:"update_referrer_info",value:function(){this.register({$referrer:this.props.$referrer||K.referrer(),$referring_domain:this.props.$referring_domain||K.referringDomain()})}},{key:"get_referrer_info",value:function(){return ci({$referrer:this.props.$referrer,$referring_domain:this.props.$referring_domain})}},{key:"safe_merge",value:function(e){return j(this.props,function(r,n){n in e||(e[n]=r)}),e}},{key:"update_config",value:function(e){this.default_expiry=this.expire_days=e.cookie_expiration,this.set_disabled(e.disable_persistence),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie)}},{key:"set_disabled",value:function(e){this.disabled=e,this.disabled?this.remove():this.save()}},{key:"set_cross_subdomain",value:function(e){e!==this.cross_subdomain&&(this.cross_subdomain=e,this.remove(),this.save())}},{key:"get_cross_subdomain",value:function(){return!!this.cross_subdomain}},{key:"set_secure",value:function(e){e!==this.secure&&(this.secure=e,this.remove(),this.save())}},{key:"set_event_timer",value:function(e,r){var n=this.props[Er]||{};n[e]=r,this.props[Er]=n,this.save()}},{key:"remove_event_timer",value:function(e){var r=(this.props[Er]||{})[e];return D(r)||(delete this.props[Er][e],this.save()),r}},{key:"get_user_state",value:function(){return this.props[pi]||"anonymous"}},{key:"set_user_state",value:function(e){this.props[pi]=e,this.save()}},{key:"get_quota_limits",value:function(){return this.props[hi]||{}}},{key:"set_quota_limits",value:function(e){this.props[hi]=e,this.save()}}]),t}(),dl=2,mw=4,pl=3,xw=6,yw=0,bw="rrweb/console@1",Ne,ww=Y(function t(e){var r,n,s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};q(this,t),y(this,"bucketSize",100),y(this,"refillRate",10),y(this,"mutationBuckets",{}),y(this,"loggedTracker",{}),y(this,"refillBuckets",function(){Object.keys(s.mutationBuckets).forEach(function(i){s.mutationBuckets[i]=s.mutationBuckets[i]+s.refillRate,s.mutationBuckets[i]>=s.bucketSize&&delete s.mutationBuckets[i]})}),y(this,"getNodeOrRelevantParent",function(i){var a=s.rrweb.mirror.getNode(i);if((a==null?void 0:a.nodeName)!=="svg"&&a instanceof Element){var c=a.closest("svg");if(c)return[s.rrweb.mirror.getId(c),c]}return[i,a]}),y(this,"numberOfChanges",function(i){var a,c,u,l,f,d,_,p;return((a=(c=i.removes)===null||c===void 0?void 0:c.length)!==null&&a!==void 0?a:0)+((u=(l=i.attributes)===null||l===void 0?void 0:l.length)!==null&&u!==void 0?u:0)+((f=(d=i.texts)===null||d===void 0?void 0:d.length)!==null&&f!==void 0?f:0)+((_=(p=i.adds)===null||p===void 0?void 0:p.length)!==null&&_!==void 0?_:0)}),y(this,"throttleMutations",function(i){if(i.type!==pl||i.data.source!==yw)return i;var a=i.data,c=s.numberOfChanges(a);a.attributes&&(a.attributes=a.attributes.filter(function(l){var f,d,_,p=yr(s.getNodeOrRelevantParent(l.id),2),h=p[0],E=p[1];return s.mutationBuckets[h]===0?!1:(s.mutationBuckets[h]=(f=s.mutationBuckets[h])!==null&&f!==void 0?f:s.bucketSize,s.mutationBuckets[h]=Math.max(s.mutationBuckets[h]-1,0),s.mutationBuckets[h]===0&&(s.loggedTracker[h]||(s.loggedTracker[h]=!0,(d=(_=s.options).onBlockedNode)===null||d===void 0||d.call(_,h,E))),l)}));var u=s.numberOfChanges(a);return u!==0||c===u?i:void 0}),this.rrweb=e,this.options=o,this.refillRate=(r=this.options.refillRate)!==null&&r!==void 0?r:this.refillRate,this.bucketSize=(n=this.options.bucketSize)!==null&&n!==void 0?n:this.bucketSize,setInterval(function(){s.refillBuckets()},1e3)}),hl=function(t){return t[t.DomContentLoaded=0]="DomContentLoaded",t[t.Load=1]="Load",t[t.FullSnapshot=2]="FullSnapshot",t[t.IncrementalSnapshot=3]="IncrementalSnapshot",t[t.Meta=4]="Meta",t[t.Custom=5]="Custom",t[t.Plugin=6]="Plugin",t}(hl||{}),Sw={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:function(t){return t},recordHeaders:!1,recordBody:!1,recordInitialRequests:!1},Ew=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],gl=function(t){var e;return Object.keys((e=t.requestHeaders)!==null&&e!==void 0?e:{}).forEach(function(r){var n;Ew.includes(r.toLowerCase())&&((n=t.requestHeaders)===null||n===void 0||delete n[r])}),t},kw="/s/";(function(t){t[t.Mutation=0]="Mutation",t[t.MouseMove=1]="MouseMove",t[t.MouseInteraction=2]="MouseInteraction",t[t.Scroll=3]="Scroll",t[t.ViewportResize=4]="ViewportResize",t[t.Input=5]="Input",t[t.TouchMove=6]="TouchMove",t[t.MediaInteraction=7]="MediaInteraction",t[t.StyleSheetRule=8]="StyleSheetRule",t[t.CanvasMutation=9]="CanvasMutation",t[t.Font=10]="Font",t[t.Log=11]="Log",t[t.Drag=12]="Drag",t[t.StyleDeclaration=13]="StyleDeclaration",t[t.Selection=14]="Selection",t[t.AdoptedStyleSheet=15]="AdoptedStyleSheet"})(Ne||(Ne={}));var $w=[Ne.MouseMove,Ne.MouseInteraction,Ne.Scroll,Ne.ViewportResize,Ne.Input,Ne.TouchMove,Ne.MediaInteraction,Ne.Drag],Ow=function(){function t(e){var r=this;if(q(this,t),y(this,"isIdle",!1),y(this,"_linkedFlagSeen",!1),y(this,"_lastActivityTimestamp",Date.now()),y(this,"windowId",null),y(this,"sessionId",null),y(this,"_linkedFlag",null),y(this,"_sampleRate",null),y(this,"_minimumDuration",null),this.instance=e,this._captureStarted=!1,this._endpoint=kw,this.stopRrweb=void 0,this.receivedDecide=!1,g==null||g.addEventListener("beforeunload",function(){r._flushBuffer()}),!this.instance.sessionManager)throw x.error("Session recording started without valid sessionManager"),new Error("Session recording started without valid sessionManager. This is a bug.");this.buffer=this.clearBuffer()}return Y(t,[{key:"started",get:function(){return this._captureStarted}},{key:"sessionManager",get:function(){if(!this.instance.sessionManager)throw x.error("Session recording started without valid sessionManager"),new Error("Session recording started without valid sessionManager. This is a bug.");return this.instance.sessionManager}},{key:"isSampled",get:function(){return Ye(this._sampleRate)?this.instance.get_property(Un):null}},{key:"sessionDuration",get:function(){var e,r,n=(e=this.buffer)===null||e===void 0?void 0:e.data[((r=this.buffer)===null||r===void 0?void 0:r.data.length)-1],s=this.sessionManager.checkAndGetSessionAndWindowId(!0).sessionStartTimestamp;return n?n.timestamp-s:null}},{key:"isRecordingEnabled",get:function(){var e=!!this.instance.get_property(li),r=!this.instance.config.disable_session_recording;return g&&e&&r}},{key:"isConsoleLogCaptureEnabled",get:function(){var e=!!this.instance.get_property(nl),r=this.instance.config.enable_recording_console_log;return r??e}},{key:"recordingVersion",get:function(){var e,r=this.instance.get_property(sl);return((e=this.instance.config.session_recording)===null||e===void 0?void 0:e.recorderVersion)||r||"v1"}},{key:"networkPayloadCapture",get:function(){var e,r,n=this.instance.get_property(ol),s={recordHeaders:(e=this.instance.config.session_recording)===null||e===void 0?void 0:e.recordHeaders,recordBody:(r=this.instance.config.session_recording)===null||r===void 0?void 0:r.recordBody},o=(s==null?void 0:s.recordHeaders)||(n==null?void 0:n.recordHeaders),i=(s==null?void 0:s.recordBody)||(n==null?void 0:n.recordBody);return o||i?{recordHeaders:o,recordBody:i}:void 0}},{key:"status",get:function(){return this.receivedDecide?this.isRecordingEnabled?me(this._linkedFlag)&&!this._linkedFlagSeen?"buffering":oi(this.isSampled)?this.isSampled?"sampled":"disabled":"active":"disabled":"buffering"}},{key:"startRecordingIfEnabled",value:function(){this.isRecordingEnabled?this.startCaptureAndTrySendingQueuedSnapshots():(this.stopRecording(),this.clearBuffer())}},{key:"stopRecording",value:function(){this._captureStarted&&this.stopRrweb&&(this.stopRrweb(),this.stopRrweb=void 0,this._captureStarted=!1)}},{key:"makeSamplingDecision",value:function(e){var r,n=this.sessionId!==e;if(Ye(this._sampleRate)){var s,o=this.isSampled;n||!oi(o)?s=Math.random()<this._sampleRate:s=o,s||x.warn("[SessionSampling] Sample rate (".concat(this._sampleRate,") has determined that this sessionId (").concat(e,") will not be sent to the server.")),(r=this.instance.persistence)===null||r===void 0||r.register(y({},Un,s))}else{var i;(i=this.instance.persistence)===null||i===void 0||i.register(y({},Un,null))}}},{key:"afterDecideResponse",value:function(e){var r,n,s,o,i,a,c,u,l=this;this.instance.persistence&&this.instance.persistence.register((y(u={},li,!!e.sessionRecording),y(u,nl,(i=e.sessionRecording)===null||i===void 0?void 0:i.consoleLogRecordingEnabled),y(u,sl,(a=e.sessionRecording)===null||a===void 0?void 0:a.recorderVersion),y(u,ol,(c=e.sessionRecording)===null||c===void 0?void 0:c.networkPayloadCapture),u));var f=(r=e.sessionRecording)===null||r===void 0?void 0:r.sampleRate;this._sampleRate=D(f)||Se(f)?null:parseFloat(f);var d,_=(n=e.sessionRecording)===null||n===void 0?void 0:n.minimumDurationMilliseconds;if(this._minimumDuration=D(_)?null:_,this._linkedFlag=((s=e.sessionRecording)===null||s===void 0?void 0:s.linkedFlag)||null,(o=e.sessionRecording)!==null&&o!==void 0&&o.endpoint&&(this._endpoint=(d=e.sessionRecording)===null||d===void 0?void 0:d.endpoint),Ye(this._sampleRate)&&this.sessionManager.onSessionId(function(h){l.makeSamplingDecision(h)}),me(this._linkedFlag)){var p=this._linkedFlag;this.instance.onFeatureFlags(function(h){l._linkedFlagSeen=h.includes(p)})}this.receivedDecide=!0,this.startRecordingIfEnabled()}},{key:"log",value:function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"log";(r=this.instance.sessionRecording)===null||r===void 0||r.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:n,trace:[],payload:[JSON.stringify(e)]}},timestamp:Wu()})}},{key:"startCaptureAndTrySendingQueuedSnapshots",value:function(){this._startCapture()}},{key:"_startCapture",value:function(){var e=this;if(!D(Object.assign)&&!this._captureStarted&&!this.instance.config.disable_session_recording){this._captureStarted=!0,this.sessionManager.checkAndGetSessionAndWindowId();var r=this.recordingVersion==="v2"?"recorder-v2.js":"recorder.js";this.instance.__loaded_recorder_version!==this.recordingVersion?Sr(this.instance.config.api_host+"/static/".concat(r,"?v=").concat(St.LIB_VERSION),function(n){if(n)return x.error("Could not load ".concat(r),n);e._onScriptLoaded()}):this._onScriptLoaded()}}},{key:"_isInteractiveEvent",value:function(e){var r;return e.type===pl&&$w.indexOf((r=e.data)===null||r===void 0?void 0:r.source)!==-1}},{key:"_updateWindowAndSessionIds",value:function(e){var r=this._isInteractiveEvent(e);if(r||this.isIdle||e.timestamp-this._lastActivityTimestamp>3e5&&(this.isIdle=!0),r&&(this._lastActivityTimestamp=e.timestamp,this.isIdle&&(this.isIdle=!1,this._tryTakeFullSnapshot())),!this.isIdle){var n=this.sessionManager.checkAndGetSessionAndWindowId(!r,e.timestamp),s=n.windowId,o=n.sessionId,i=this.sessionId!==o,a=this.windowId!==s;[dl,mw].indexOf(e.type)===-1&&(a||i)&&this._tryTakeFullSnapshot(),this.windowId=s,this.sessionId=o}}},{key:"_tryTakeFullSnapshot",value:function(){if(!this._captureStarted)return!1;try{var e;return(e=this.rrwebRecord)===null||e===void 0||e.takeFullSnapshot(),!0}catch(r){return x.error("Error taking full snapshot.",r),!1}}},{key:"_onScriptLoaded",value:function(){var e,r=this,n={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1};this.rrwebRecord=g.rrweb?g.rrweb.record:g.rrwebRecord;for(var s=this.instance.config.session_recording,o=0,i=Object.entries(s||{});o<i.length;o++){var a=yr(i[o],2),c=a[0],u=a[1];c in n&&(n[c]=u)}if(this.rrwebRecord){this.mutationRateLimiter=(e=this.mutationRateLimiter)!==null&&e!==void 0?e:new ww(this.rrwebRecord,{onBlockedNode:function(E,m){var w="Too many mutations on node '".concat(E,"'. Rate limiting. This could be due to SVG animations or something similar");x.info(w,{node:m}),r.log("[PostHog Recorder] "+w,"warn")}});var l,f,d,_,p,h=[];ce.rrwebConsoleRecord&&this.isConsoleLogCaptureEnabled&&h.push(ce.rrwebConsoleRecord.getRecordConsolePlugin()),this.networkPayloadCapture&&qe(ce.getRecordNetworkPlugin)&&h.push(ce.getRecordNetworkPlugin((l=this.instance.config,f=this.networkPayloadCapture,d=l.session_recording,_=d.recordHeaders!==!1&&f.recordHeaders,p=d.recordBody!==!1&&f.recordBody,d.maskRequestFn=qe(l.session_recording.maskNetworkRequestFn)?function(E){var m,w,N,C=gl(E);return(m=(w=(N=l.session_recording).maskNetworkRequestFn)===null||w===void 0?void 0:w.call(N,C))!==null&&m!==void 0?m:void 0}:void 0,d.maskRequestFn||(d.maskRequestFn=gl),T(T(T({},Sw),d),{},{recordHeaders:_,recordBody:p})))),this.stopRrweb=this.rrwebRecord(T({emit:function(E){r.onRRwebEmit(E)},plugins:h},n)),this.instance._addCaptureHook(function(E){try{if(E==="$pageview"){var m,w=g?r._maskUrl(g.location.href):"";if(!w)return;(m=r.rrwebRecord)===null||m===void 0||m.addCustomEvent("$pageview",{href:w})}}catch(N){x.error("Could not add $pageview to rrweb session",N)}}),this._lastActivityTimestamp=Date.now(),this.isIdle=!1}else x.error("onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}},{key:"onRRwebEmit",value:function(e){if(e&&st(e)){if(e.type===hl.Meta){var r=this._maskUrl(e.data.href);if(!r)return;e.data.href=r}var n=this.mutationRateLimiter?this.mutationRateLimiter.throttleMutations(e):e;if(n){var s=function(a){var c=a;if(c&&st(c)&&c.type===xw&&st(c.data)&&c.data.plugin===bw){c.data.payload.payload.length>10&&(c.data.payload.payload=c.data.payload.payload.slice(0,10),c.data.payload.payload.push("...[truncated]"));for(var u=[],l=0;l<c.data.payload.payload.length;l++)c.data.payload.payload[l]&&c.data.payload.payload[l].length>2e3?u.push(c.data.payload.payload[l].slice(0,2e3)+"...[truncated]"):u.push(c.data.payload.payload[l]);return c.data.payload.payload=u,a}return a}(n),o=JSON.stringify(s).length;if(this._updateWindowAndSessionIds(s),!this.isIdle){var i={$snapshot_bytes:o,$snapshot_data:s,$session_id:this.sessionId,$window_id:this.windowId};this.status!=="disabled"?this._captureSnapshotBuffered(i):this.clearBuffer()}}}}},{key:"_maskUrl",value:function(e){var r=this.instance.config.session_recording;if(r.maskNetworkRequestFn){var n,s={url:e};return(n=s=r.maskNetworkRequestFn(s))===null||n===void 0?void 0:n.url}return e}},{key:"clearBuffer",value:function(){return this.buffer=void 0,{size:0,data:[],sessionId:this.sessionId,windowId:this.windowId}}},{key:"_flushBuffer",value:function(){var e=this;this.flushBufferTimer&&(clearTimeout(this.flushBufferTimer),this.flushBufferTimer=void 0);var r=this._minimumDuration,n=this.sessionDuration,s=Ye(n)&&n>=0,o=Ye(r)&&s&&n<r;return this.status==="buffering"||o?(this.flushBufferTimer=setTimeout(function(){e._flushBuffer()},2e3),this.buffer||this.clearBuffer()):this.buffer&&this.buffer.data.length!==0?(this._captureSnapshot({$snapshot_bytes:this.buffer.size,$snapshot_data:this.buffer.data,$session_id:this.buffer.sessionId,$window_id:this.buffer.windowId}),this.clearBuffer()):this.buffer||this.clearBuffer()}},{key:"_captureSnapshotBuffered",value:function(e){var r,n=this,s=2+(((r=this.buffer)===null||r===void 0?void 0:r.data.length)||0);(!this.buffer||this.buffer.size+e.$snapshot_bytes+s>943718.4||this.buffer.sessionId&&this.buffer.sessionId!==this.sessionId)&&(this.buffer=this._flushBuffer()),Se(this.buffer.sessionId)&&!Se(this.sessionId)&&(this.buffer.sessionId=this.sessionId,this.buffer.windowId=this.windowId),this.buffer.size+=e.$snapshot_bytes,this.buffer.data.push(e.$snapshot_data),this.flushBufferTimer||(this.flushBufferTimer=setTimeout(function(){n._flushBuffer()},2e3))}},{key:"_captureSnapshot",value:function(e){this.instance.capture("$snapshot",e,{transport:"XHR",method:"POST",endpoint:this._endpoint,_noTruncate:!0,_batchKey:"recordings",_metrics:{rrweb_full_snapshot:e.$snapshot_data.type===dl}})}}]),t}(),De={entryType:0,timeOrigin:1,name:2,startTime:3,redirectStart:4,redirectEnd:5,workerStart:6,fetchStart:7,domainLookupStart:8,domainLookupEnd:9,connectStart:10,secureConnectionStart:11,connectEnd:12,requestStart:13,responseStart:14,responseEnd:15,decodedBodySize:16,encodedBodySize:17,initiatorType:18,nextHopProtocol:19,renderBlockingStatus:20,responseStatus:21,transferSize:22,element:23,renderTime:24,loadTime:25,size:26,id:27,url:28,domComplete:29,domContentLoadedEvent:30,domInteractive:31,loadEventEnd:32,loadEventStart:33,redirectCount:34,navigationType:35,unloadEventEnd:36,unloadEventStart:37,duration:39,timestamp:40},Tw=["first-input","navigation","paint","resource"],Iw=["/s/","/e/"],Pw=function(){function t(e){q(this,t),y(this,"_forceAllowLocalhost",!1),this.instance=e}return Y(t,[{key:"startObservingIfEnabled",value:function(){this.isEnabled()?this.startObserving():this.stopObserving()}},{key:"startObserving",value:function(){var e,r=this;if(!this.observer)if(D(g==null||(e=g.PerformanceObserver)===null||e===void 0?void 0:e.supportedEntryTypes))x.info("[PerformanceObserver] not started because PerformanceObserver is not supported by this browser.");else if(!hw.includes(location.hostname)||this._forceAllowLocalhost)try{this.observer=new PerformanceObserver(function(s){s.getEntries().forEach(function(o){r._capturePerformanceEvent(o)})});var n=PerformanceObserver.supportedEntryTypes.filter(function(s){return Tw.includes(s)});n.forEach(function(s){var o;(o=r.observer)===null||o===void 0||o.observe({type:s,buffered:!0})})}catch(s){x.error("PostHog failed to start performance observer",s),this.stopObserving()}else x.info("[PerformanceObserver] not started because we are on localhost.")}},{key:"stopObserving",value:function(){this.observer&&(this.observer.disconnect(),this.observer=void 0)}},{key:"isObserving",value:function(){return!!this.observer}},{key:"isEnabled",value:function(){var e,r;return(e=(r=this.instance.config.capture_performance)!==null&&r!==void 0?r:this.remoteEnabled)!==null&&e!==void 0&&e}},{key:"afterDecideResponse",value:function(e){this.remoteEnabled=e.capturePerformance||!1,this.isEnabled()&&this.startObserving()}},{key:"_capturePerformanceEvent",value:function(e){if(e.name.indexOf(this.instance.config.api_host)===0){var r=e.name.replace(this.instance.config.api_host,"");if(Iw.find(function(_){return r.indexOf(_)===0}))return}var n={url:e.name},s=this.instance.config.session_recording;if(s.maskNetworkRequestFn&&(n=s.maskNetworkRequestFn(n)),n){var o=e.toJSON();o.name=n.url;var i={},a=Math.floor(Date.now()-performance.now());for(var c in i[De.timeOrigin]=a,i[De.timestamp]=Math.floor(a+e.startTime),De)D(o[c])||(i[De[c]]=o[c]);if(this.capturePerformanceEvent(i),Rw(e)){var u,l=wt(e.serverTiming||[]);try{for(l.s();!(u=l.n()).done;){var f,d=u.value;this.capturePerformanceEvent((y(f={},De.timeOrigin,a),y(f,De.timestamp,Math.floor(a+e.startTime)),y(f,De.name,d.name),y(f,De.duration,d.duration),y(f,De.entryType,"serverTiming"),f))}}catch(_){l.e(_)}finally{l.f()}}}}},{key:"capturePerformanceEvent",value:function(e){var r,n=e[De.timestamp];(r=this.instance.sessionRecording)===null||r===void 0||r.onRRwebEmit({type:6,data:{plugin:"posthog/network@1",payload:e},timestamp:n})}}]),t}(),Rw=function(t){return t.entryType==="navigation"||t.entryType==="resource"},Cw=function(){function t(e){q(this,t),this.instance=e,this.instance.decideEndpointWasHit=this.instance._hasBootstrappedFeatureFlags()}return Y(t,[{key:"call",value:function(){var e=this,r=fi(JSON.stringify({token:this.instance.config.token,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),person_properties:this.instance.get_property(Xt),group_properties:this.instance.get_property(ot),disable_flags:this.instance.config.advanced_disable_feature_flags||this.instance.config.advanced_disable_feature_flags_on_first_load||void 0}));this.instance._send_request("".concat(this.instance.config.api_host,"/decide/?v=3"),{data:r,verbose:!0},{method:"POST"},function(n){return e.parseDecideResponse(n)})}},{key:"parseDecideResponse",value:function(e){var r,n,s=this;if(this.instance.featureFlags.setReloadingPaused(!1),this.instance.featureFlags._startReloadTimer(),(e==null?void 0:e.status)!==0){if(!S||!S.body)return x.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(function(){s.parseDecideResponse(e)},500);this.instance.toolbar.afterDecideResponse(e),(r=this.instance.sessionRecording)===null||r===void 0||r.afterDecideResponse(e),it.afterDecideResponse(e,this.instance),(n=this.instance.webPerformance)===null||n===void 0||n.afterDecideResponse(e),this.instance._afterDecideResponse(e),this.instance.config.advanced_disable_feature_flags_on_first_load||this.instance.featureFlags.receivedFeatureFlags(e);var o=g==null?void 0:g.extendPostHogWithSurveys;e.surveys&&!o&&Sr(this.instance.config.api_host+"/static/surveys.js",function(f){if(f)return x.error("Could not load surveys script",f);g.extendPostHogWithSurveys(s.instance)});var i=g==null?void 0:g.extendPostHogWithExceptionAutoCapture;if(e.autocaptureExceptions&&e.autocaptureExceptions&&D(i)&&Sr(this.instance.config.api_host+"/static/exception-autocapture.js",function(f){if(f)return x.error("Could not load exception autocapture script",f);g.extendPostHogWithExceptionAutocapture(s.instance,e)}),e.siteApps)if(this.instance.config.opt_in_site_apps){var a,c=this.instance.config.api_host,u=wt(e.siteApps);try{var l=function(){var f=a.value,d=f.id,_=f.url,p=[c,c[c.length-1]==="/"&&_[0]==="/"?_.substring(1):_].join("");ce["__$$ph_site_app_".concat(d)]=s.instance,Sr(p,function(h){h&&x.error("Error while initializing PostHog app with config id ".concat(d),h)})};for(u.s();!(a=u.n()).done;)l()}catch(f){u.e(f)}finally{u.f()}}else e.siteApps.length>0&&x.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}else x.error("Failed to fetch feature flags from PostHog.")}}]),t}(),Nw=["https://app.posthog.com","https://eu.posthog.com"],Dw=["source"],Fw=g!=null&&g.location?Hn(g.location.hash,"__posthog")||Hn(location.hash,"state"):null,Aw=function(){function t(e){q(this,t),this.instance=e}return Y(t,[{key:"afterDecideResponse",value:function(e){var r=e.toolbarParams||e.editorParams||(e.toolbarVersion?{toolbarVersion:e.toolbarVersion}:{});e.isAuthenticated&&r.toolbarVersion&&r.toolbarVersion.indexOf("toolbar")===0&&this.loadToolbar(T({},r))}},{key:"maybeLoadToolbar",value:function(){var e,r,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;if(!g||!S)return!1;n=(e=n)!==null&&e!==void 0?e:g.location,o=(r=o)!==null&&r!==void 0?r:g.history;try{if(!s){try{g.localStorage.setItem("test","test"),g.localStorage.removeItem("test")}catch{return!1}s=g==null?void 0:g.localStorage}var i,a=Fw||Hn(n.hash,"__posthog")||Hn(n.hash,"state"),c=a?zu(function(){return JSON.parse(atob(decodeURIComponent(a)))})||zu(function(){return JSON.parse(decodeURIComponent(a))}):null;return c&&c.action==="ph_authorize"?((i=c).source="url",i&&Object.keys(i).length>0&&(c.desiredHash?n.hash=c.desiredHash:o?o.replaceState("",S.title,n.pathname+n.search):n.hash="")):((i=JSON.parse(s.getItem("_postHogToolbarParams")||"{}")).source="localstorage",delete i.userIntent),!(!i.token||this.instance.config.token!==i.token)&&(this.loadToolbar(i),!0)}catch{return!1}}},{key:"loadToolbar",value:function(e){var r=this;if(!g||ce._postHogToolbarLoaded)return!1;ce._postHogToolbarLoaded=!0;var n=this.instance.config.api_host,s=3e5,o=Math.floor(Date.now()/s)*s,i="".concat(n).concat(n.endsWith("/")?"":"/","static/toolbar.js?t=").concat(o),a=!Nw.includes(this.instance.config.api_host)&&this.instance.config.advanced_disable_toolbar_metrics,c=T(T({token:this.instance.config.token},e),{},{apiURL:n},a?{instrument:!1}:{});c.source;var u=z0(c,Dw);return g.localStorage.setItem("_postHogToolbarParams",JSON.stringify(u)),Sr(i,function(l){l?x.error("Failed to load toolbar",l):(ce.ph_load_toolbar||ce.ph_load_editor)(c,r.instance)}),wr(g,"turbolinks:load",function(){ce._postHogToolbarLoaded=!1,r.loadToolbar(c)}),!0}},{key:"_loadEditor",value:function(e){return this.loadToolbar(e)}},{key:"maybeLoadEditor",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;return this.maybeLoadToolbar(e,r,n)}}]),t}(),Mw="__ph_opt_in_out_";function Uw(t,e){xl(!0,t,e)}function Lw(t,e){xl(!1,t,e)}function jw(t,e){return ml(t,e)==="1"}function vl(t,e){return!!function(r){if(r&&r.respectDnt){var n=r&&r.window||g,s=n==null?void 0:n.navigator,o=!1;return j([s==null?void 0:s.doNotTrack,s.msDoNotTrack,n.doNotTrack],function(i){A([!0,1,"1","yes"],i)&&(o=!0)}),o}return!1}(e)||ml(t,e)==="0"}function Bw(t,e){bi(e=e||{}).remove(wi(t,e),!!e.crossSubdomainCookie)}function bi(t){return(t=t||{}).persistenceType==="localStorage"?z:t.persistenceType==="localStorage+cookie"?yi:We}function wi(t,e){return((e=e||{}).persistencePrefix||Mw)+t}function ml(t,e){return bi(e).get(wi(t,e))}function xl(t,e,r){me(e)&&e.length?(bi(r=r||{}).set(wi(e,r),t?1:0,Ye(r.cookieExpiration)?r.cookieExpiration:null,r.crossSubdomainCookie,r.secureCookie),r.capture&&t&&r.capture(r.captureEventName||"$opt_in",r.captureProperties||{},{send_instantly:!0})):x.error("gdpr."+(t?"optIn":"optOut")+" called with an invalid token")}var yl=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:3e3;q(this,t),this.isPolling=!0,this._event_queue=[],this._empty_queue_count=0,this._poller=void 0,this._pollInterval=e}return Y(t,[{key:"setPollInterval",value:function(e){this._pollInterval=e,this.isPolling&&this.poll()}},{key:"poll",value:function(){}},{key:"unload",value:function(){}},{key:"getTime",value:function(){return new Date().getTime()}}]),t}(),Hw=function(t){Au(r,yl);var e=Mu(r);function r(n){var s,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3e3;return q(this,r),(s=e.call(this,o)).handlePollRequest=n,s}return Y(r,[{key:"enqueue",value:function(n,s,o){this._event_queue.push({url:n,data:s,options:o}),this.isPolling||(this.isPolling=!0,this.poll())}},{key:"poll",value:function(){var n=this;clearTimeout(this._poller),this._poller=setTimeout(function(){if(n._event_queue.length>0){var s=n.formatQueue(),o=function(a){var c=s[a],u=c.url,l=c.data,f=c.options;j(l,function(d,_){l[_].offset=Math.abs(l[_].timestamp-n.getTime()),delete l[_].timestamp}),n.handlePollRequest(u,l,f)};for(var i in s)o(i);n._event_queue.length=0,n._empty_queue_count=0}else n._empty_queue_count++;n._empty_queue_count>4&&(n.isPolling=!1,n._empty_queue_count=0),n.isPolling&&n.poll()},this._pollInterval)}},{key:"unload",value:function(){var n=this;clearTimeout(this._poller);var s=this._event_queue.length>0?this.formatQueue():{};this._event_queue.length=0;var o=Object.values(s);[].concat(ri(o.filter(function(i){return i.url.indexOf("/e")===0})),ri(o.filter(function(i){return i.url.indexOf("/e")!==0}))).map(function(i){var a=i.url,c=i.data,u=i.options;n.handlePollRequest(a,c,T(T({},u),{},{transport:"sendBeacon"}))})}},{key:"formatQueue",value:function(){var n={};return j(this._event_queue,function(s){var o=s.url,i=s.data,a=s.options,c=(a?a._batchKey:null)||o;D(n[c])&&(n[c]={data:[],url:o,options:a}),a&&n[c].options&&n[c].options._metrics&&!n[c].options._metrics.rrweb_full_snapshot&&(n[c].options._metrics.rrweb_full_snapshot=a._metrics.rrweb_full_snapshot),n[c].data.push(i)}),n}}]),r}(),xe=Uint8Array,fe=Uint16Array,Qt=Uint32Array,Si=new xe([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ei=new xe([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),bl=new xe([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),wl=function(t,e){for(var r=new fe(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];var s=new Qt(r[30]);for(n=1;n<30;++n)for(var o=r[n];o<r[n+1];++o)s[o]=o-r[n]<<5|n;return[r,s]},Sl=wl(Si,2),Gw=Sl[0],ki=Sl[1];Gw[28]=258,ki[258]=28;for(var El=wl(Ei,0)[1],$i=new fe(32768),H=0;H<32768;++H){var Ot=(43690&H)>>>1|(21845&H)<<1;Ot=(61680&(Ot=(52428&Ot)>>>2|(13107&Ot)<<2))>>>4|(3855&Ot)<<4,$i[H]=((65280&Ot)>>>8|(255&Ot)<<8)>>>1}var kr=function(t,e,r){for(var n=t.length,s=0,o=new fe(e);s<n;++s)++o[t[s]-1];var i,a=new fe(e);for(s=0;s<e;++s)a[s]=a[s-1]+o[s-1]<<1;if(r){i=new fe(1<<e);var c=15-e;for(s=0;s<n;++s)if(t[s])for(var u=s<<4|t[s],l=e-t[s],f=a[t[s]-1]++<<l,d=f|(1<<l)-1;f<=d;++f)i[$i[f]>>>c]=u}else for(i=new fe(n),s=0;s<n;++s)i[s]=$i[a[t[s]-1]++]>>>15-t[s];return i},Tt=new xe(288);for(H=0;H<144;++H)Tt[H]=8;for(H=144;H<256;++H)Tt[H]=9;for(H=256;H<280;++H)Tt[H]=7;for(H=280;H<288;++H)Tt[H]=8;var Gn=new xe(32);for(H=0;H<32;++H)Gn[H]=5;var It,qw=kr(Tt,9,0),Yw=kr(Gn,5,0),kl=function(t){return(t/8>>0)+(7&t&&1)},$l=function(t,e,r){(e==null||e<0)&&(e=0),(r==null||r>t.length)&&(r=t.length);var n=new(t instanceof fe?fe:t instanceof Qt?Qt:xe)(r-e);return n.set(t.subarray(e,r)),n},ze=function(t,e,r){r<<=7&e;var n=e/8>>0;t[n]|=r,t[n+1]|=r>>>8},$r=function(t,e,r){r<<=7&e;var n=e/8>>0;t[n]|=r,t[n+1]|=r>>>8,t[n+2]|=r>>>16},Oi=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var s=r.length,o=r.slice();if(!s)return[new xe(0),0];if(s==1){var i=new xe(r[0].s+1);return i[r[0].s]=1,[i,1]}r.sort(function(k,F){return k.f-F.f}),r.push({s:-1,f:25001});var a=r[0],c=r[1],u=0,l=1,f=2;for(r[0]={s:-1,f:a.f+c.f,l:a,r:c};l!=s-1;)a=r[r[u].f<r[f].f?u++:f++],c=r[u!=l&&r[u].f<r[f].f?u++:f++],r[l++]={s:-1,f:a.f+c.f,l:a,r:c};var d=o[0].s;for(n=1;n<s;++n)o[n].s>d&&(d=o[n].s);var _=new fe(d+1),p=Ww(r[l-1],_,0);if(p>e){n=0;var h=0,E=p-e,m=1<<E;for(o.sort(function(k,F){return _[F.s]-_[k.s]||k.f-F.f});n<s;++n){var w=o[n].s;if(!(_[w]>e))break;h+=m-(1<<p-_[w]),_[w]=e}for(h>>>=E;h>0;){var N=o[n].s;_[N]<e?h-=1<<e-_[N]++-1:++n}for(;n>=0&&h;--n){var C=o[n].s;_[C]==e&&(--_[C],++h)}p=e}return[new xe(_),p]},Ww=function t(e,r,n){return e.s==-1?Math.max(t(e.l,r,n+1),t(e.r,r,n+1)):r[e.s]=n},Ol=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new fe(++e),n=0,s=t[0],o=1,i=function(c){r[n++]=c},a=1;a<=e;++a)if(t[a]==s&&a!=e)++o;else{if(!s&&o>2){for(;o>138;o-=138)i(32754);o>2&&(i(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(i(s),--o;o>6;o-=6)i(8304);o>2&&(i(o-3<<5|8208),o=0)}for(;o--;)i(s);o=1,s=t[a]}return[r.subarray(0,n),e]},Or=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},qn=function(t,e,r){var n=r.length,s=kl(e+2);t[s]=255&n,t[s+1]=n>>>8,t[s+2]=255^t[s],t[s+3]=255^t[s+1];for(var o=0;o<n;++o)t[s+o+4]=r[o];return 8*(s+4+n)},Tl=function(t,e,r,n,s,o,i,a,c,u,l){ze(e,l++,r),++s[256];for(var f=Oi(s,15),d=f[0],_=f[1],p=Oi(o,15),h=p[0],E=p[1],m=Ol(d),w=m[0],N=m[1],C=Ol(h),k=C[0],F=C[1],R=new fe(19),$=0;$<w.length;++$)R[31&w[$]]++;for($=0;$<k.length;++$)R[31&k[$]]++;for(var M=Oi(R,7),U=M[0],Fe=M[1],ue=19;ue>4&&!U[bl[ue-1]];--ue);var Ee,Z,Ae,Zt,ft=u+5<<3,Pt=Or(s,Tt)+Or(o,Gn)+i,Me=Or(s,d)+Or(o,h)+i+14+3*ue+Or(R,U)+(2*R[16]+3*R[17]+7*R[18]);if(ft<=Pt&&ft<=Me)return qn(e,l,t.subarray(c,c+u));if(ze(e,l,1+(Me<Pt)),l+=2,Me<Pt){Ee=kr(d,_,0),Z=d,Ae=kr(h,E,0),Zt=h;var ut=kr(U,Fe,0);for(ze(e,l,N-257),ze(e,l+5,F-1),ze(e,l+10,ue-4),l+=14,$=0;$<ue;++$)ze(e,l+3*$,U[bl[$]]);l+=3*ue;for(var er=[w,k],le=0;le<2;++le){var ke=er[le];for($=0;$<ke.length;++$){var ye=31&ke[$];ze(e,l,ut[ye]),l+=U[ye],ye>15&&(ze(e,l,ke[$]>>>5&127),l+=ke[$]>>>12)}}}else Ee=qw,Z=Tt,Ae=Yw,Zt=Gn;for($=0;$<a;++$)if(n[$]>255){ye=n[$]>>>18&31,$r(e,l,Ee[ye+257]),l+=Z[ye+257],ye>7&&(ze(e,l,n[$]>>>23&31),l+=Si[ye]);var tr=31&n[$];$r(e,l,Ae[tr]),l+=Zt[tr],tr>3&&($r(e,l,n[$]>>>5&8191),l+=Ei[tr])}else $r(e,l,Ee[n[$]]),l+=Z[n[$]];return $r(e,l,Ee[256]),l+Z[256]},zw=new Qt([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Vw=new xe(0),Kw=function(){for(var t=new Qt(256),e=0;e<256;++e){for(var r=e,n=9;--n;)r=(1&r&&3988292384)^r>>>1;t[e]=r}return t}(),Jw=function(){var t=4294967295;return{p:function(e){for(var r=t,n=0;n<e.length;++n)r=Kw[255&r^e[n]]^r>>>8;t=r},d:function(){return 4294967295^t}}},Xw=function(t,e,r,n,s){return function(o,i,a,c,u,l){var f=o.length,d=new xe(c+f+5*(1+Math.floor(f/7e3))+u),_=d.subarray(c,d.length-u),p=0;if(!i||f<8)for(var h=0;h<=f;h+=65535){var E=h+65535;E<f?p=qn(_,p,o.subarray(h,E)):(_[h]=l,p=qn(_,p,o.subarray(h,f)))}else{for(var m=zw[i-1],w=m>>>13,N=8191&m,C=(1<<a)-1,k=new fe(32768),F=new fe(C+1),R=Math.ceil(a/3),$=2*R,M=function(Wi){return(o[Wi]^o[Wi+1]<<R^o[Wi+2]<<$)&C},U=new Qt(25e3),Fe=new fe(288),ue=new fe(32),Ee=0,Z=0,Ae=(h=0,0),Zt=0,ft=0;h<f;++h){var Pt=M(h),Me=32767&h,ut=F[Pt];if(k[Me]=ut,F[Pt]=Me,Zt<=h){var er=f-h;if((Ee>7e3||Ae>24576)&&er>423){p=Tl(o,_,0,U,Fe,ue,Z,Ae,ft,h-ft,p),Ae=Ee=Z=0,ft=h;for(var le=0;le<286;++le)Fe[le]=0;for(le=0;le<30;++le)ue[le]=0}var ke=2,ye=0,tr=N,lt=Me-ut&32767;if(er>2&&Pt==M(h-lt))for(var M1=Math.min(w,er)-1,U1=Math.min(32767,h),L1=Math.min(258,er);lt<=U1&&--tr&&Me!=ut;){if(o[h+ke]==o[h+ke-lt]){for(var _t=0;_t<L1&&o[h+_t]==o[h+_t-lt];++_t);if(_t>ke){if(ke=_t,ye=lt,_t>M1)break;var j1=Math.min(lt,_t-2),d_=0;for(le=0;le<j1;++le){var Yi=h-lt+le+32768&32767,p_=Yi-k[Yi]+32768&32767;p_>d_&&(d_=p_,ut=Yi)}}}lt+=(Me=ut)-(ut=k[Me])+32768&32767}if(ye){U[Ae++]=268435456|ki[ke]<<18|El[ye];var h_=31&ki[ke],g_=31&El[ye];Z+=Si[h_]+Ei[g_],++Fe[257+h_],++ue[g_],Zt=h+ke,++Ee}else U[Ae++]=o[h],++Fe[o[h]]}}p=Tl(o,_,l,U,Fe,ue,Z,Ae,ft,h-ft,p),l||(p=qn(_,p,Vw))}return $l(d,0,c+kl(p)+u)}(t,e.level==null?6:e.level,e.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):12+e.mem,r,n,!s)},Ti=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},Qw=function(t,e){var r=e.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=e.level<2?4:e.level==9?2:0,t[9]=3,e.mtime!=0&&Ti(t,4,Math.floor(new Date(e.mtime||Date.now())/1e3)),r){t[3]=8;for(var n=0;n<=r.length;++n)t[n+10]=r.charCodeAt(n)}},Zw=function(t){return 10+(t.filename&&t.filename.length+1||0)};function eS(t,e){e===void 0&&(e={});var r=Jw(),n=t.length;r.p(t);var s=Xw(t,e,Zw(e),8),o=s.length;return Qw(s,e),Ti(s,o-8,r.d()),Ti(s,o-4,n),s}function tS(t,e){var r=t.length;if(!e&&typeof TextEncoder<"u")return new TextEncoder().encode(t);for(var n=new xe(t.length+(t.length>>>1)),s=0,o=function(u){n[s++]=u},i=0;i<r;++i){if(s+5>n.length){var a=new xe(s+8+(r-i<<1));a.set(n),n=a}var c=t.charCodeAt(i);c<128||e?o(c):c<2048?(o(192|c>>>6),o(128|63&c)):c>55295&&c<57344?(o(240|(c=65536+(1047552&c)|1023&t.charCodeAt(++i))>>>18),o(128|c>>>12&63),o(128|c>>>6&63),o(128|63&c)):(o(224|c>>>12),o(128|c>>>6&63),o(128|63&c))}return $l(n,0,s)}(function(t){t.GZipJS="gzip-js",t.Base64="base64"})(It||(It={}));var Il=function(t,e,r){var n=e||{};n.ip=r.ip?1:0,n._=new Date().getTime().toString(),n.ver=St.LIB_VERSION;var s=t.split("?");if(s.length>1){var o,i=wt(s[1].split("&"));try{for(i.s();!(o=i.n()).done;){var a=o.value.split("=")[0];D(n[a])||delete n[a]}}catch(u){i.e(u)}finally{i.f()}}var c=t.indexOf("?")>-1?"&":"?";return t+c+function(u){var l,f,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"&",_=[];return j(u,function(p,h){D(p)||D(h)||h==="undefined"||(l=encodeURIComponent(p.toString()),f=encodeURIComponent(h),_[_.length]=f+"="+l)}),_.join(d)}(n)},Ii=function t(e,r){if(r.blob&&e.buffer)return new Blob([ju(e)?e:e.buffer],{type:"text/plain"});if(r.sendBeacon||r.blob){var n=t(e,{method:"POST"});return new Blob([n],{type:"application/x-www-form-urlencoded"})}return r.method!=="POST"?null:(s=te(e)||ju(e)?"data="+encodeURIComponent(e):"data="+encodeURIComponent(e.data),"compression"in e&&e.compression&&(s+="&compression="+e.compression),s);var s},Pl=function(t){var e=t.url,r=t.data,n=t.headers,s=t.options,o=t.callback,i=t.retriesPerformedSoFar,a=t.retryQueue,c=t.onXHRError,u=t.timeout,l=u===void 0?6e4:u,f=t.onResponse;Ye(i)&&i>0&&(e=Il(e,{retry_count:i},{}));var d=new XMLHttpRequest;d.open(s.method||"GET",e,!0);var _=Ii(r,s);j(n,function(p,h){d.setRequestHeader(h,p)}),s.method!=="POST"||s.blob||d.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),d.timeout=l,d.withCredentials=!0,d.onreadystatechange=function(){if(d.readyState===4)if(f==null||f(d),d.status===200){if(o){var p;try{p=JSON.parse(d.responseText)}catch(h){return void x.error(h)}o(p)}}else qe(c)&&c(d),(d.status<400||d.status>500)&&a.enqueue({url:e,data:r,options:s,headers:n,retriesPerformedSoFar:(i||0)+1,callback:o}),o==null||o({status:0})},d.send(_)},rS=18e5,nS=function(t){Au(r,yl);var e=Mu(r);function r(n,s){var o;return q(this,r),(o=e.call(this)).isPolling=!1,o.queue=[],o.areWeOnline=!0,o.onXHRError=n,o.rateLimiter=s,!D(g)&&"onLine"in g.navigator&&(o.areWeOnline=g.navigator.onLine,g.addEventListener("online",function(){o._handleWeAreNowOnline()}),g.addEventListener("offline",function(){o.areWeOnline=!1})),o}return Y(r,[{key:"enqueue",value:function(n){var s=n.retriesPerformedSoFar||0;if(!(s>=10)){var o=function(c){var u=3e3*Math.pow(2,c),l=u/2,f=Math.min(rS,u),d=(Math.random()-.5)*(f-l);return Math.ceil(f+d)}(s),i=new Date(Date.now()+o);this.queue.push({retryAt:i,requestData:n});var a="Enqueued failed request for retry in ".concat(o);navigator.onLine||(a+=" (Browser is offline)"),x.warn(a),this.isPolling||(this.isPolling=!0,this.poll())}}},{key:"poll",value:function(){var n=this;this._poller&&clearTimeout(this._poller),this._poller=setTimeout(function(){n.areWeOnline&&n.queue.length>0&&n.flush(),n.poll()},this._pollInterval)}},{key:"flush",value:function(){var n=new Date(Date.now()),s=this.queue.filter(function(c){return c.retryAt<n});if(s.length>0){this.queue=this.queue.filter(function(c){return c.retryAt>=n});var o,i=wt(s);try{for(i.s();!(o=i.n()).done;){var a=o.value.requestData;this._executeXhrRequest(a)}}catch(c){i.e(c)}finally{i.f()}}}},{key:"unload",value:function(){this._poller&&(clearTimeout(this._poller),this._poller=void 0);var n,s=wt(this.queue);try{for(s.s();!(n=s.n()).done;){var o=n.value.requestData,i=o.url,a=o.data,c=o.options;if(this.rateLimiter.isRateLimited(c._batchKey))x.warn("[RetryQueue] is quota limited. Dropping request.");else try{g==null||g.navigator.sendBeacon(i,Ii(a,T(T({},c),{},{sendBeacon:!0})))}catch(u){x.error(u)}}}catch(u){s.e(u)}finally{s.f()}this.queue=[]}},{key:"_executeXhrRequest",value:function(n){var s=n.url,o=n.data,i=n.options,a=n.headers,c=n.callback,u=n.retriesPerformedSoFar;this.rateLimiter.isRateLimited(i._batchKey)||Pl({url:s,data:o||{},options:i||{},headers:a||{},retriesPerformedSoFar:u||0,callback:c,retryQueue:this,onXHRError:this.onXHRError,onResponse:this.rateLimiter.checkForLimiting})}},{key:"_handleWeAreNowOnline",value:function(){this.areWeOnline=!0,this.flush()}}]),r}(),Yn=1800,Rl=60,sS=864e5,oS=function(){function t(e,r,n,s){q(this,t),y(this,"_sessionIdChangedHandlers",[]),this.config=e,this.persistence=r,this._windowId=void 0,this._sessionId=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this._sessionIdGenerator=n||kt,this._windowIdGenerator=s||kt;var o=e.persistence_name||e.token,i=e.session_idle_timeout_seconds||Yn;if(Ye(i)?i>Yn?x.warn("session_idle_timeout_seconds cannot be  greater than 30 minutes. Using 30 minutes instead."):i<Rl&&x.warn("session_idle_timeout_seconds cannot be less than 60 seconds. Using 60 seconds instead."):(x.warn("session_idle_timeout_seconds must be a number. Defaulting to 30 minutes."),i=Yn),this._sessionTimeoutMs=1e3*Math.min(Math.max(i,Rl),Yn),this._window_id_storage_key="ph_"+o+"_window_id",this._primary_window_exists_storage_key="ph_"+o+"_primary_window_exists",this._canUseSessionStorage()){var a=ne.parse(this._window_id_storage_key),c=ne.parse(this._primary_window_exists_storage_key);a&&!c?this._windowId=a:ne.remove(this._window_id_storage_key),ne.set(this._primary_window_exists_storage_key,!0)}this._listenToReloadWindow()}return Y(t,[{key:"onSessionId",value:function(e){var r=this;return D(this._sessionIdChangedHandlers)&&(this._sessionIdChangedHandlers=[]),this._sessionIdChangedHandlers.push(e),this._sessionId&&e(this._sessionId,this._windowId),function(){r._sessionIdChangedHandlers=r._sessionIdChangedHandlers.filter(function(n){return n!==e})}}},{key:"_canUseSessionStorage",value:function(){return this.config.persistence!=="memory"&&!this.persistence.disabled&&ne.is_supported()}},{key:"_setWindowId",value:function(e){e!==this._windowId&&(this._windowId=e,this._canUseSessionStorage()&&ne.set(this._window_id_storage_key,e))}},{key:"_getWindowId",value:function(){return this._windowId?this._windowId:this._canUseSessionStorage()?ne.parse(this._window_id_storage_key):null}},{key:"_setSessionId",value:function(e,r,n){e===this._sessionId&&r===this._sessionActivityTimestamp&&n===this._sessionStartTimestamp||(this._sessionStartTimestamp=n,this._sessionActivityTimestamp=r,this._sessionId=e,this.persistence.register(y({},Mn,[r,e,n])))}},{key:"_getSessionId",value:function(){if(this._sessionId&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this._sessionId,this._sessionStartTimestamp];var e=this.persistence.props[Mn];return te(e)&&e.length===2&&e.push(e[0]),e||[0,null,0]}},{key:"resetSessionId",value:function(){this._setSessionId(null,null,null)}},{key:"_listenToReloadWindow",value:function(){var e=this;g==null||g.addEventListener("beforeunload",function(){e._canUseSessionStorage()&&ne.remove(e._primary_window_exists_storage_key)})}},{key:"checkAndGetSessionAndWindowId",value:function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:null)||new Date().getTime(),n=yr(this._getSessionId(),3),s=n[0],o=n[1],i=n[2],a=this._getWindowId(),c=i&&i>0&&Math.abs(r-i)>sS,u=!1,l=!o,f=!e&&Math.abs(r-s)>this._sessionTimeoutMs;l||f||c?(o=this._sessionIdGenerator(),a=this._windowIdGenerator(),i=r,u=!0):a||(a=this._windowIdGenerator(),u=!0);var d=s===0||!e||c?r:s,_=i===0?new Date().getTime():i;return this._setWindowId(a),this._setSessionId(o,d,_),u&&this._sessionIdChangedHandlers.forEach(function(p){return p(o,a)}),{sessionId:o,windowId:a,sessionStartTimestamp:_}}}]),t}(),iS=Y(function t(e,r,n,s){q(this,t),this.name="posthog-js",this.setupOnce=function(o){o(function(i){var a,c,u,l,f;if(i.level!=="error"||!e.__loaded)return i;i.tags||(i.tags={});var d=e.config.ui_host||e.config.api_host;i.tags["PostHog Person URL"]=d+"/person/"+e.get_distinct_id(),e.sessionRecordingStarted()&&(i.tags["PostHog Recording URL"]=e.get_session_replay_url({withTimestamp:!0}));var _=((a=i.exception)===null||a===void 0?void 0:a.values)||[],p={$exception_message:(c=_[0])===null||c===void 0?void 0:c.value,$exception_type:(u=_[0])===null||u===void 0?void 0:u.type,$exception_personURL:d+"/person/"+e.get_distinct_id(),$sentry_event_id:i.event_id,$sentry_exception:i.exception,$sentry_exception_message:(l=_[0])===null||l===void 0?void 0:l.value,$sentry_exception_type:(f=_[0])===null||f===void 0?void 0:f.type,$sentry_tags:i.tags};return r&&n&&(p.$sentry_url=(s||"https://sentry.io/organizations/")+r+"/issues/?project="+n+"&query="+i.event_id),e.capture("$exception",p),i})}}),aS=function(t){Promise&&Promise.resolve||x.warn("This browser does not have Promise support, and can not use the segment integration");var e=function(r,n){r.event.userId||r.event.anonymousId===t.get_distinct_id()||t.reset(),r.event.userId&&r.event.userId!==t.get_distinct_id()&&(t.register({distinct_id:r.event.userId}),t.reloadFeatureFlags());var s=t._calculate_event_properties(n,r.event.properties);return r.event.properties=Object.assign({},s,r.event.properties),r};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:function(r){return e(r,r.event.event)},page:function(r){return e(r,"$pageview")},identify:function(r){return e(r,"$identify")},screen:function(r){return e(r,"$screen")}}},cS=function(){function t(){var e=this;q(this,t),y(this,"_hasSeenPageView",!1),y(this,"_updateScrollData",function(){var r,n,s,o;e._pageViewData||(e._pageViewData=e._createPageViewData());var i=e._pageViewData,a=e._scrollY(),c=e._scrollHeight(),u=e._contentY(),l=e._contentHeight();i.lastScrollY=a,i.maxScrollY=Math.max(a,(r=i.maxScrollY)!==null&&r!==void 0?r:0),i.maxScrollHeight=Math.max(c,(n=i.maxScrollHeight)!==null&&n!==void 0?n:0),i.lastContentY=u,i.maxContentY=Math.max(u,(s=i.maxContentY)!==null&&s!==void 0?s:0),i.maxContentHeight=Math.max(l,(o=i.maxContentHeight)!==null&&o!==void 0?o:0)})}return Y(t,[{key:"_createPageViewData",value:function(){var e;return{pathname:(e=g==null?void 0:g.location.pathname)!==null&&e!==void 0?e:""}}},{key:"doPageView",value:function(){var e,r;return this._hasSeenPageView?(r=this._pageViewData,this._pageViewData=this._createPageViewData()):(this._hasSeenPageView=!0,r=void 0,this._pageViewData||(this._pageViewData=this._createPageViewData())),setTimeout(this._updateScrollData,0),T({$prev_pageview_pathname:(e=r)===null||e===void 0?void 0:e.pathname},this._calculatePrevPageScrollProperties(r))}},{key:"doPageLeave",value:function(){var e=this._pageViewData;return T({$prev_pageview_pathname:e==null?void 0:e.pathname},this._calculatePrevPageScrollProperties(e))}},{key:"_calculatePrevPageScrollProperties",value:function(e){if(!e||e.maxScrollHeight==null||e.lastScrollY==null||e.maxScrollY==null||e.maxContentHeight==null||e.lastContentY==null||e.maxContentY==null)return{};var r=e.maxScrollHeight,n=e.lastScrollY,s=e.maxScrollY,o=e.maxContentHeight,i=e.lastContentY,a=e.maxContentY;return r=Math.ceil(r),n=Math.ceil(n),s=Math.ceil(s),o=Math.ceil(o),i=Math.ceil(i),a=Math.ceil(a),{$prev_pageview_last_scroll:n,$prev_pageview_last_scroll_percentage:r<=1?1:Wn(n/r,0,1),$prev_pageview_max_scroll:s,$prev_pageview_max_scroll_percentage:r<=1?1:Wn(s/r,0,1),$prev_pageview_last_content:i,$prev_pageview_last_content_percentage:o<=1?1:Wn(i/o,0,1),$prev_pageview_max_content:a,$prev_pageview_max_content_percentage:o<=1?1:Wn(a/o,0,1)}}},{key:"startMeasuringScrollPosition",value:function(){g==null||g.addEventListener("scroll",this._updateScrollData),g==null||g.addEventListener("scrollend",this._updateScrollData),g==null||g.addEventListener("resize",this._updateScrollData)}},{key:"stopMeasuringScrollPosition",value:function(){g==null||g.removeEventListener("scroll",this._updateScrollData),g==null||g.removeEventListener("scrollend",this._updateScrollData),g==null||g.removeEventListener("resize",this._updateScrollData)}},{key:"_scrollHeight",value:function(){return g?Math.max(0,g.document.documentElement.scrollHeight-g.document.documentElement.clientHeight):0}},{key:"_scrollY",value:function(){return g&&(g.scrollY||g.pageYOffset||g.document.documentElement.scrollTop)||0}},{key:"_contentHeight",value:function(){return(g==null?void 0:g.document.documentElement.scrollHeight)||0}},{key:"_contentY",value:function(){var e=(g==null?void 0:g.document.documentElement.clientHeight)||0;return this._scrollY()+e}}]),t}();function Wn(t,e,r){return Math.max(e,Math.min(t,r))}var Tr,Pi,se,fS={icontains:function(t){return!!g&&g.location.href.toLowerCase().indexOf(t.toLowerCase())>-1},regex:function(t){return!!g&&gw(g.location.href,t)},exact:function(t){return(g==null?void 0:g.location.href)===t}},uS=function(){function t(e){q(this,t),this.instance=e}return Y(t,[{key:"getSurveys",value:function(e){var r=this,n=arguments.length>1&&arguments[1]!==void 0&&arguments[1],s=this.instance.get_property(di);if(s&&!n)return e(s);this.instance._send_request("".concat(this.instance.config.api_host,"/api/surveys/?token=").concat(this.instance.config.token),{},{method:"GET"},function(o){var i,a=o.surveys||[];return(i=r.instance.persistence)===null||i===void 0||i.register(y({},di,a)),e(a)})}},{key:"getActiveMatchingSurveys",value:function(e){var r=this,n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.getSurveys(function(s){var o=s.filter(function(i){return!(!i.start_date||i.end_date)}).filter(function(i){var a,c,u,l;if(!i.conditions)return!0;var f=(a=i.conditions)===null||a===void 0||!a.url||fS[(c=(u=i.conditions)===null||u===void 0?void 0:u.urlMatchType)!==null&&c!==void 0?c:"icontains"](i.conditions.url),d=(l=i.conditions)===null||l===void 0||!l.selector||(S==null?void 0:S.querySelector(i.conditions.selector));return f&&d}).filter(function(i){if(!i.linked_flag_key&&!i.targeting_flag_key)return!0;var a=!i.linked_flag_key||r.instance.featureFlags.isFeatureEnabled(i.linked_flag_key),c=!i.targeting_flag_key||r.instance.featureFlags.isFeatureEnabled(i.targeting_flag_key);return a&&c});return e(o)},n)}}]),t}(),lS=6e4,_S=function(){function t(){var e=this;q(this,t),y(this,"limits",{}),y(this,"checkForLimiting",function(r){try{var n=r.responseText;if(!n||!n.length)return;(JSON.parse(n).quota_limited||[]).forEach(function(s){x.info("[RateLimiter] ".concat(s||"events"," is quota limited.")),e.limits[s]=new Date().getTime()+lS})}catch(s){return void x.error(s)}})}return Y(t,[{key:"isRateLimited",value:function(e){var r=this.limits[e||"events"]||!1;return r!==!1&&new Date().getTime()<r}}]),t}(),dS=function(){return T({initialPathName:(g==null?void 0:g.location.pathname)||"",referringDomain:K.referringDomain()},K.campaignParams())},pS=function(){function t(e,r,n){var s=this;q(this,t),y(this,"_onSessionIdCallback",function(o){var i=s._getStoredProps();if(!i||i.sessionId!==o){var a={sessionId:o,props:s._sessionSourceParamGenerator()};s._persistence.register(y({},gi,a))}}),this._sessionIdManager=e,this._persistence=r,this._sessionSourceParamGenerator=n||dS,this._sessionIdManager.onSessionId(this._onSessionIdCallback)}return Y(t,[{key:"_getStoredProps",value:function(){return this._persistence.props[gi]}},{key:"getSessionProps",value:function(){var e,r=(e=this._getStoredProps())===null||e===void 0?void 0:e.props;return r?{$client_session_initial_referring_host:r.referringDomain,$client_session_initial_pathname:r.initialPathName,$client_session_initial_utm_source:r.utm_source,$client_session_initial_utm_campaign:r.utm_campaign,$client_session_initial_utm_medium:r.utm_medium,$client_session_initial_utm_content:r.utm_content,$client_session_initial_utm_term:r.utm_term}:{}}}]),t}();(function(t){t[t.INIT_MODULE=0]="INIT_MODULE",t[t.INIT_SNIPPET=1]="INIT_SNIPPET"})(Tr||(Tr={}));var Ri=function(){},zn={},pe="posthog",Vn=(g==null?void 0:g.XMLHttpRequest)&&"withCredentials"in new XMLHttpRequest,Cl=!Vn&&(V==null?void 0:V.indexOf("MSIE"))===-1&&(V==null?void 0:V.indexOf("Mozilla"))===-1,Nl=function(){var t,e,r;return{api_host:"https://app.posthog.com",api_method:"POST",api_transport:"XHR",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:(e=S==null?void 0:S.location,r=e==null?void 0:e.hostname,!!me(r)&&r.split(".").slice(-2).join(".")!=="herokuapp.com"),persistence:"cookie",persistence_name:"",cookie_name:"",loaded:Ri,store_google:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:!0,capture_pageleave:!0,debug:!1,verbose:!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_cookie:!1,enable_recording_console_log:void 0,secure_cookie:(g==null||(t=g.location)===null||t===void 0?void 0:t.protocol)==="https:",ip:!0,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_capturing_persistence_type:"localStorage",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_blacklist:[],respect_dnt:!1,sanitize_properties:null,xhr_headers:{},inapp_protocol:"//",inapp_link_new_window:!1,request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_disable_toolbar_metrics:!1,on_xhr_error:function(n){var s="Bad HTTP status: "+n.status+" "+n.statusText;x.error(s)},get_device_id:function(n){return n},_onCapture:Ri,capture_performance:void 0,name:"posthog",callback_fn:"posthog._jsc",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800}},Ci=function(t,e,r,n){var s,o=r!==pe&&se?r?se[r]:void 0:se,i={initComplete:!1,syncCode:!1},a=function(c){return function(u){i[c]||(i[c]=!0,i.initComplete&&i.syncCode&&(n==null||n(u)))}};if(o&&Pi===Tr.INIT_MODULE)s=o;else{if(o&&!te(o))return void x.error("You have already initialized "+r);s=new Ni}return s._init(t,e,r,a("initComplete")),s.toolbar.maybeLoadToolbar(),s.sessionRecording=new Ow(s),s.sessionRecording.startRecordingIfEnabled(),s.webPerformance=new Pw(s),s.webPerformance.startObservingIfEnabled(),s.config.__preview_measure_pageview_stats&&s.pageViewManager.startMeasuringScrollPosition(),s.__autocapture=s.config.autocapture,it._setIsAutocaptureEnabled(s),it._isAutocaptureEnabled&&(s.__autocapture=s.config.autocapture,it.enabledForProject(s.config.token,100,100)?it.isBrowserSupported()?it.init(s):(s.__autocapture=!1,x.info("Disabling Automatic Event Collection because this browser is not supported")):(s.__autocapture=!1,x.info("Not in active bucket: disabling Automatic Event Collection."))),St.DEBUG=St.DEBUG||s.config.debug,!D(o)&&te(o)&&(s._execute_array.call(s.people,o.people),s._execute_array(o)),a("syncCode")(s),s},Ni=function(){function t(){var e=this;q(this,t),this.config=Nl(),this.compression={},this.decideEndpointWasHit=!1,this.SentryIntegration=iS,this.segmentIntegration=function(){return aS(e)},this.__captureHooks=[],this.__request_queue=[],this.__loaded=!1,this.__loaded_recorder_version=void 0,this.__autocapture=void 0,this._jsc=function(){},this.analyticsDefaultEndpoint="/e/",this.featureFlags=new sw(this),this.toolbar=new Aw(this),this.pageViewManager=new cS,this.surveys=new uS(this),this.rateLimiter=new _S,this.people={set:function(r,n,s){var o=me(r)?y({},r,n):r;e.setPersonProperties(o),s==null||s({})},set_once:function(r,n,s){var o=me(r)?y({},r,n):r;e.setPersonProperties(void 0,o),s==null||s({})}}}return Y(t,[{key:"init",value:function(e,r,n){if(D(n))x.critical("You must name your new library: init(token, config, name)");else{if(n!==pe){var s=Ci(e,r,n,function(o){se[n]=o,o._loaded()});return se[n]=s,s}x.critical("You must initialize the main posthog object right after you include the PostHog js snippet")}}},{key:"_init",value:function(e){var r,n,s,o=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,c=arguments.length>3?arguments[3]:void 0;this.__loaded=!0,this.config={},this._triggered_notifs=[];var u,l={segmentRegister:!1,syncCode:!1},f=function(k){return function(){l[k]||(l[k]=!0,l.segmentRegister&&l.syncCode&&(c==null||c(o)))}};if(this.set_config(re({},Nl(),i,{name:a,token:e,callback_fn:(a===pe?a:pe+"."+a)+"._jsc"})),this._jsc=function(){},(g!=null&&(r=g.rrweb)!==null&&r!==void 0&&r.record||g!=null&&g.rrwebRecord)&&(this.__loaded_recorder_version=g==null||(u=g.rrweb)===null||u===void 0?void 0:u.version),this.persistence=new _l(this.config),this._requestQueue=new Hw(this._handle_queued_event.bind(this)),this._retryQueue=new nS(this.config.on_xhr_error,this.rateLimiter),this.__captureHooks=[],this.__request_queue=[],this.sessionManager=new oS(this.config,this.persistence),this.sessionPropsManager=new pS(this.sessionManager,this.persistence),this.sessionPersistence=this.config.persistence==="sessionStorage"?this.persistence:new _l(T(T({},this.config),{},{persistence:"sessionStorage"})),this._gdpr_init(),i.segment?(this.config.get_device_id=function(){return i.segment.user().anonymousId()},i.segment.user().id()&&(this.register({distinct_id:i.segment.user().id()}),this.persistence.set_user_state("identified")),i.segment.register(this.segmentIntegration()).then(f("segmentRegister"))):f("segmentRegister")(),((n=i.bootstrap)===null||n===void 0?void 0:n.distinctID)!==void 0){var d,_,p=this.config.get_device_id(kt()),h=(d=i.bootstrap)!==null&&d!==void 0&&d.isIdentifiedID?p:i.bootstrap.distinctID;this.persistence.set_user_state((_=i.bootstrap)!==null&&_!==void 0&&_.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:i.bootstrap.distinctID,$device_id:h})}if(this._hasBootstrappedFeatureFlags()){var E,m,w=Object.keys(((E=i.bootstrap)===null||E===void 0?void 0:E.featureFlags)||{}).filter(function(k){var F,R;return!((F=i.bootstrap)===null||F===void 0||(R=F.featureFlags)===null||R===void 0||!R[k])}).reduce(function(k,F){var R,$;return k[F]=((R=i.bootstrap)===null||R===void 0||($=R.featureFlags)===null||$===void 0?void 0:$[F])||!1,k},{}),N=Object.keys(((m=i.bootstrap)===null||m===void 0?void 0:m.featureFlagPayloads)||{}).filter(function(k){return w[k]}).reduce(function(k,F){var R,$,M,U;return(R=i.bootstrap)!==null&&R!==void 0&&($=R.featureFlagPayloads)!==null&&$!==void 0&&$[F]&&(k[F]=(M=i.bootstrap)===null||M===void 0||(U=M.featureFlagPayloads)===null||U===void 0?void 0:U[F]),k},{});this.featureFlags.receivedFeatureFlags({featureFlags:w,featureFlagPayloads:N})}if(!this.get_distinct_id()){var C=this.config.get_device_id(kt());this.register_once({distinct_id:C,$device_id:C},""),this.persistence.set_user_state("anonymous")}g==null||(s=g.addEventListener)===null||s===void 0||s.call(g,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this)),f("syncCode")()}},{key:"_afterDecideResponse",value:function(e){var r;if(this.compression={},e.supportedCompression&&!this.config.disable_compression){var n,s={},o=wt(e.supportedCompression);try{for(o.s();!(n=o.n()).done;)s[n.value]=!0}catch(i){o.e(i)}finally{o.f()}this.compression=s}(r=e.analytics)!==null&&r!==void 0&&r.endpoint&&(this.analyticsDefaultEndpoint=e.analytics.endpoint)}},{key:"_loaded",value:function(){var e=this.config.advanced_disable_decide;e||this.featureFlags.setReloadingPaused(!0);try{this.config.loaded(this)}catch(r){x.critical("`loaded` function failed",r)}this._start_queue_if_opted_in(),this.config.capture_pageview&&S&&this.capture("$pageview",{title:S.title},{send_instantly:!0}),e||(new Cw(this).call(),this.featureFlags.resetRequestQueue())}},{key:"_start_queue_if_opted_in",value:function(){var e;this.has_opted_out_capturing()||this.config.request_batching&&((e=this._requestQueue)===null||e===void 0||e.poll())}},{key:"_dom_loaded",value:function(){var e=this;this.has_opted_out_capturing()||Vt(this.__request_queue,function(r){e._send_request.apply(e,ri(r))}),this.__request_queue=[],this._start_queue_if_opted_in()}},{key:"_prepare_callback",value:function(e,r){if(D(e))return null;if(Vn)return function(i){e(i,r)};var n=this._jsc,s=""+Math.floor(1e8*Math.random()),o=this.config.callback_fn+"["+s+"]";return n[s]=function(i){delete n[s],e(i,r)},o}},{key:"_handle_unload",value:function(){var e,r;this.config.request_batching?(this.config.capture_pageview&&this.config.capture_pageleave&&this.capture("$pageleave"),(e=this._requestQueue)===null||e===void 0||e.unload(),(r=this._retryQueue)===null||r===void 0||r.unload()):this.config.capture_pageview&&this.config.capture_pageleave&&this.capture("$pageleave",null,{transport:"sendBeacon"})}},{key:"_handle_queued_event",value:function(e,r,n){var s=JSON.stringify(r);this.__compress_and_send_json_request(e,s,n||zn,Ri)}},{key:"__compress_and_send_json_request",value:function(e,r,n,s){var o=function(u,l,f){return u===It.GZipJS?[eS(tS(l),{mtime:0}),T(T({},f),{},{blob:!0,urlQueryArgs:{compression:It.GZipJS}})]:[{data:fi(l)},f]}(this.compression[It.GZipJS]?It.GZipJS:It.Base64,r,n),i=yr(o,2),a=i[0],c=i[1];this._send_request(e,a,c,s)}},{key:"_send_request",value:function(e,r,n,s){if(this.__loaded&&this._retryQueue&&!this.rateLimiter.isRateLimited(n._batchKey))if(Cl)this.__request_queue.push([e,r,n,s]);else{var o={method:this.config.api_method,transport:this.config.api_transport,verbose:this.config.verbose};n=re(o,n||{}),Vn||(n.method="GET");var i=g&&"sendBeacon"in g.navigator&&n.transport==="sendBeacon";if(e=Il(e,n.urlQueryArgs||{},{ip:this.config.ip}),i)try{g==null||g.navigator.sendBeacon(e,Ii(r,T(T({},n),{},{sendBeacon:!0})))}catch{}else if(Vn||!S)try{Pl({url:e,data:r,headers:this.config.xhr_headers,options:n,callback:s,retriesPerformedSoFar:0,retryQueue:this._retryQueue,onXHRError:this.config.on_xhr_error,onResponse:this.rateLimiter.checkForLimiting})}catch(l){x.error(l)}else{var a,c=S.createElement("script");c.type="text/javascript",c.async=!0,c.defer=!0,c.src=e;var u=S.getElementsByTagName("script")[0];(a=u.parentNode)===null||a===void 0||a.insertBefore(c,u)}}}},{key:"_execute_array",value:function(e){var r,n=this,s=[],o=[],i=[];Vt(e,function(c){c&&(r=c[0],te(r)?i.push(c):qe(c)?c.call(n):te(c)&&r==="alias"?s.push(c):te(c)&&r.indexOf("capture")!==-1&&qe(n[r])?i.push(c):o.push(c))});var a=function(c,u){Vt(c,function(l){if(te(l[0])){var f=u;j(l,function(d){f=f[d[0]].apply(f,d.slice(1))})}else this[l[0]].apply(this,l.slice(1))},u)};a(s,this),a(o,this),a(i,this)}},{key:"_hasBootstrappedFeatureFlags",value:function(){var e,r;return((e=this.config.bootstrap)===null||e===void 0?void 0:e.featureFlags)&&Object.keys((r=this.config.bootstrap)===null||r===void 0?void 0:r.featureFlags).length>0||!1}},{key:"push",value:function(e){this._execute_array([e])}},{key:"capture",value:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:zn;if(!this.__loaded||!this.sessionPersistence||!this._requestQueue)return x.uninitializedWarning("posthog.capture");if(!function(l){var f=!1;try{var d=l.config.token,_=l.config.respect_dnt,p=l.config.opt_out_capturing_persistence_type,h=l.config.opt_out_capturing_cookie_prefix||void 0,E=l.config.window;d&&(f=vl(d,{respectDnt:_,persistenceType:p,persistencePrefix:h,window:E}))}catch(m){x.error("Unexpected error when checking capturing opt-out status: "+m)}return f}(this)){var s=(n=n||zn).transport;if(s&&(n.transport=s),!D(e)&&me(e)){if(!V||!tw(V,this.config.custom_blocked_useragents)){this.sessionPersistence.update_search_keyword(),this.config.store_google&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info();var o={uuid:kt(),event:e,properties:this._calculate_event_properties(e,r||{})};e==="$identify"&&(o.$set=n.$set,o.$set_once=n.$set_once),(o=Q0(o,n._noTruncate?null:this.config.properties_string_max_length)).timestamp=n.timestamp||new Date;var i=T(T({},o.properties.$set),o.$set);J0(i)||this.setPersonPropertiesForFlags(i),x.info("send",o);var a=JSON.stringify(o),c=this.config.api_host+(n.endpoint||this.analyticsDefaultEndpoint),u=n!==zn;return!this.config.request_batching||u&&!n._batchKey||n.send_instantly?this.__compress_and_send_json_request(c,a,n):this._requestQueue.enqueue(c,o,n),this._invokeCaptureHooks(e,o),o}}else x.error("No event name provided to posthog.capture")}}},{key:"_addCaptureHook",value:function(e){this.__captureHooks.push(e)}},{key:"_invokeCaptureHooks",value:function(e,r){this.config._onCapture(e,r),j(this.__captureHooks,function(n){return n(e)})}},{key:"_calculate_event_properties",value:function(e,r){if(!this.persistence||!this.sessionPersistence)return r;var n=this.persistence.remove_event_timer(e),s=T({},r);if(s.token=this.config.token,e==="$snapshot"){var o=T(T({},this.persistence.properties()),this.sessionPersistence.properties());return s.distinct_id=o.distinct_id,s}var i=K.properties();if(this.sessionManager){var a=this.sessionManager.checkAndGetSessionAndWindowId(),c=a.sessionId,u=a.windowId;s.$session_id=c,s.$window_id=u}if(this.sessionPropsManager&&this.config.__preview_send_client_session_params&&(e==="$pageview"||e==="$pageleave"||e==="$autocapture")){var l=this.sessionPropsManager.getSessionProps();s=re(s,l)}if(this.config.__preview_measure_pageview_stats){var f={};e==="$pageview"?f=this.pageViewManager.doPageView():e==="$pageleave"&&(f=this.pageViewManager.doPageLeave()),s=re(s,f)}if(e==="$pageview"&&S&&(s.title=S.title),e==="$performance_event"){var d=this.persistence.properties();return s.distinct_id=d.distinct_id,s.$current_url=i.$current_url,s}if(!D(n)){var _=new Date().getTime()-n;s.$duration=parseFloat((_/1e3).toFixed(3))}s=re({},K.properties(),this.persistence.properties(),this.sessionPersistence.properties(),s);var p=this.config.property_blacklist;te(p)?j(p,function(E){delete s[E]}):x.error("Invalid value for property_blacklist config: "+p);var h=this.config.sanitize_properties;return h&&(s=h(s,e)),s}},{key:"register",value:function(e,r){var n;(n=this.persistence)===null||n===void 0||n.register(e,r)}},{key:"register_once",value:function(e,r,n){var s;(s=this.persistence)===null||s===void 0||s.register_once(e,r,n)}},{key:"register_for_session",value:function(e){var r;(r=this.sessionPersistence)===null||r===void 0||r.register(e)}},{key:"unregister",value:function(e){var r;(r=this.persistence)===null||r===void 0||r.unregister(e)}},{key:"unregister_for_session",value:function(e){var r;(r=this.sessionPersistence)===null||r===void 0||r.unregister(e)}},{key:"_register_single",value:function(e,r){this.register(y({},e,r))}},{key:"getFeatureFlag",value:function(e,r){return this.featureFlags.getFeatureFlag(e,r)}},{key:"getFeatureFlagPayload",value:function(e){var r=this.featureFlags.getFeatureFlagPayload(e);try{return JSON.parse(r)}catch{return r}}},{key:"isFeatureEnabled",value:function(e,r){return this.featureFlags.isFeatureEnabled(e,r)}},{key:"reloadFeatureFlags",value:function(){this.featureFlags.reloadFeatureFlags()}},{key:"updateEarlyAccessFeatureEnrollment",value:function(e,r){this.featureFlags.updateEarlyAccessFeatureEnrollment(e,r)}},{key:"getEarlyAccessFeatures",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return this.featureFlags.getEarlyAccessFeatures(e,r)}},{key:"onFeatureFlags",value:function(e){return this.featureFlags.onFeatureFlags(e)}},{key:"onSessionId",value:function(e){var r,n;return(r=(n=this.sessionManager)===null||n===void 0?void 0:n.onSessionId(e))!==null&&r!==void 0?r:function(){}}},{key:"getSurveys",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.surveys.getSurveys(e,r)}},{key:"getActiveMatchingSurveys",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.surveys.getActiveMatchingSurveys(e,r)}},{key:"identify",value:function(e,r,n){if(!this.__loaded||!this.persistence)return x.uninitializedWarning("posthog.identify");if(e){var s=this.get_distinct_id();if(this.register({$user_id:e}),!this.get_property("$device_id")){var o=s;this.register_once({$had_persisted_distinct_id:!0,$device_id:o},"")}e!==s&&e!==this.get_property(An)&&(this.unregister(An),this.register({distinct_id:e}));var i=this.persistence.get_user_state()==="anonymous";e!==s&&i?(this.persistence.set_user_state("identified"),this.setPersonPropertiesForFlags(r||{},!1),this.capture("$identify",{distinct_id:e,$anon_distinct_id:s},{$set:r||{},$set_once:n||{}}),this.featureFlags.setAnonymousDistinctId(s)):(r||n)&&this.setPersonProperties(r,n),e!==s&&(this.reloadFeatureFlags(),this.unregister(Ln))}else x.error("Unique user id has not been set in posthog.identify")}},{key:"setPersonProperties",value:function(e,r){(e||r)&&(this.setPersonPropertiesForFlags(e||{}),this.capture("$set",{$set:e||{},$set_once:r||{}}))}},{key:"group",value:function(e,r,n){if(e&&r){var s=this.getGroups();s[e]!==r&&this.resetGroupPropertiesForFlags(e),this.register({$groups:T(T({},s),{},y({},e,r))}),n&&(this.capture("$groupidentify",{$group_type:e,$group_key:r,$group_set:n}),this.setGroupPropertiesForFlags(y({},e,n))),s[e]===r||n||this.reloadFeatureFlags()}else x.error("posthog.group requires a group type and group key")}},{key:"resetGroups",value:function(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}},{key:"setPersonPropertiesForFlags",value:function(e){var r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.featureFlags.setPersonPropertiesForFlags(e,r)}},{key:"resetPersonPropertiesForFlags",value:function(){this.featureFlags.resetPersonPropertiesForFlags()}},{key:"setGroupPropertiesForFlags",value:function(e){var r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.featureFlags.setGroupPropertiesForFlags(e,r)}},{key:"resetGroupPropertiesForFlags",value:function(e){this.featureFlags.resetGroupPropertiesForFlags(e)}},{key:"reset",value:function(e){var r,n,s,o;if(!this.__loaded)return x.uninitializedWarning("posthog.reset");var i=this.get_property("$device_id");(r=this.persistence)===null||r===void 0||r.clear(),(n=this.sessionPersistence)===null||n===void 0||n.clear(),(s=this.persistence)===null||s===void 0||s.set_user_state("anonymous"),(o=this.sessionManager)===null||o===void 0||o.resetSessionId();var a=this.config.get_device_id(kt());this.register_once({distinct_id:a,$device_id:e?a:i},"")}},{key:"get_distinct_id",value:function(){return this.get_property("distinct_id")}},{key:"getGroups",value:function(){return this.get_property("$groups")||{}}},{key:"get_session_id",value:function(){var e,r;return(e=(r=this.sessionManager)===null||r===void 0?void 0:r.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&e!==void 0?e:""}},{key:"get_session_replay_url",value:function(e){if(!this.sessionManager)return"";var r=this.config.ui_host||this.config.api_host,n=this.sessionManager.checkAndGetSessionAndWindowId(!0),s=n.sessionId,o=n.sessionStartTimestamp,i=r+"/replay/"+s;if(e!=null&&e.withTimestamp&&o){var a,c=(a=e.timestampLookBack)!==null&&a!==void 0?a:10;if(!o)return i;var u=Math.max(Math.floor((new Date().getTime()-o)/1e3)-c,0);i+="?t=".concat(u)}return i}},{key:"alias",value:function(e,r){return e===this.get_property(tl)?(x.critical("Attempting to create alias for existing People user - aborting."),-2):(D(r)&&(r=this.get_distinct_id()),e!==r?(this._register_single(An,e),this.capture("$create_alias",{alias:e,distinct_id:r})):(x.warn("alias matches current distinct_id - skipping api call."),this.identify(e),-1))}},{key:"set_config",value:function(e){var r,n,s=T({},this.config);st(e)&&(re(this.config,e),this.config.persistence_name||(this.config.persistence_name=this.config.cookie_name),this.config.disable_persistence||(this.config.disable_persistence=this.config.disable_cookie),(r=this.persistence)===null||r===void 0||r.update_config(this.config),(n=this.sessionPersistence)===null||n===void 0||n.update_config(this.config),z.is_supported()&&z.get("ph_debug")==="true"&&(this.config.debug=!0),this.config.debug&&(St.DEBUG=!0),this.sessionRecording&&!D(e.disable_session_recording)&&s.disable_session_recording!==e.disable_session_recording&&(e.disable_session_recording?this.sessionRecording.stopRecording():this.sessionRecording.startRecordingIfEnabled()))}},{key:"startSessionRecording",value:function(){this.set_config({disable_session_recording:!1})}},{key:"stopSessionRecording",value:function(){this.set_config({disable_session_recording:!0})}},{key:"sessionRecordingStarted",value:function(){var e;return!((e=this.sessionRecording)===null||e===void 0||!e.started)}},{key:"loadToolbar",value:function(e){return this.toolbar.loadToolbar(e)}},{key:"get_property",value:function(e){var r;return(r=this.persistence)===null||r===void 0?void 0:r.props[e]}},{key:"getSessionProperty",value:function(e){var r;return(r=this.sessionPersistence)===null||r===void 0?void 0:r.props[e]}},{key:"toString",value:function(){var e,r=(e=this.config.name)!==null&&e!==void 0?e:pe;return r!==pe&&(r=pe+"."+r),r}},{key:"_gdpr_init",value:function(){this.config.opt_out_capturing_persistence_type==="localStorage"&&z.is_supported()&&(!this.has_opted_in_capturing()&&this.has_opted_in_capturing({persistence_type:"cookie"})&&this.opt_in_capturing({enable_persistence:!1}),!this.has_opted_out_capturing()&&this.has_opted_out_capturing({persistence_type:"cookie"})&&this.opt_out_capturing({clear_persistence:!1}),this.clear_opt_in_out_capturing({persistence_type:"cookie",enable_persistence:!1})),this.has_opted_out_capturing()?this._gdpr_update_persistence({clear_persistence:!0}):this.has_opted_in_capturing()||!this.config.opt_out_capturing_by_default&&!We.get("ph_optout")||(We.remove("ph_optout"),this.opt_out_capturing({clear_persistence:this.config.opt_out_persistence_by_default}))}},{key:"_gdpr_update_persistence",value:function(e){var r,n,s,o,i;if(e&&e.clear_persistence)s=!0;else{if(!e||!e.enable_persistence)return;s=!1}this.config.disable_persistence||((r=this.persistence)===null||r===void 0?void 0:r.disabled)===s||(o=this.persistence)===null||o===void 0||o.set_disabled(s),this.config.disable_persistence||((n=this.sessionPersistence)===null||n===void 0?void 0:n.disabled)===s||(i=this.sessionPersistence)===null||i===void 0||i.set_disabled(s)}},{key:"_gdpr_call_func",value:function(e,r){return r=re({capture:this.capture.bind(this),persistence_type:this.config.opt_out_capturing_persistence_type,cookie_prefix:this.config.opt_out_capturing_cookie_prefix,cookie_expiration:this.config.cookie_expiration,cross_subdomain_cookie:this.config.cross_subdomain_cookie,secure_cookie:this.config.secure_cookie},r||{}),z.is_supported()||r.persistence_type!=="localStorage"||(r.persistence_type="cookie"),e(this.config.token,{capture:r.capture,captureEventName:r.capture_event_name,captureProperties:r.capture_properties,persistenceType:r.persistence_type,persistencePrefix:r.cookie_prefix,cookieExpiration:r.cookie_expiration,crossSubdomainCookie:r.cross_subdomain_cookie,secureCookie:r.secure_cookie})}},{key:"opt_in_capturing",value:function(e){e=re({enable_persistence:!0},e||{}),this._gdpr_call_func(Uw,e),this._gdpr_update_persistence(e)}},{key:"opt_out_capturing",value:function(e){var r=re({clear_persistence:!0},e||{});this._gdpr_call_func(Lw,r),this._gdpr_update_persistence(r)}},{key:"has_opted_in_capturing",value:function(e){return this._gdpr_call_func(jw,e)}},{key:"has_opted_out_capturing",value:function(e){return this._gdpr_call_func(vl,e)}},{key:"clear_opt_in_out_capturing",value:function(e){var r=re({enable_persistence:!0},e??{});this._gdpr_call_func(Bw,r),this._gdpr_update_persistence(r)}},{key:"debug",value:function(e){e===!1?(g==null||g.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(g==null||g.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}}]),t}();(function(t,e){for(var r=0;r<e.length;r++)t.prototype[e[r]]=Vu(t.prototype[e[r]])})(Ni,["identify"]);var Dl,Fl,at={},hS=function(){se.init=function(t,e,r){if(r)return se[r]||(se[r]=at[r]=Ci(t||"",e||{},r,function(s){se[r]=at[r]=s,s._loaded()})),se[r];var n=se;return at[pe]?n=at[pe]:t&&(n=Ci(t,e||{},pe,function(s){at[pe]=s,s._loaded()}),at[pe]=n),se=n,Pi===Tr.INIT_SNIPPET&&(ce[pe]=se),j(at,function(s,o){o!==pe&&(se[o]=s)}),n}},gS=function(){function t(){t.done||(t.done=!0,Cl=!1,j(at,function(e){e._dom_loaded()}))}S!=null&&S.addEventListener&&(S.readyState==="complete"?t():S.addEventListener("DOMContentLoaded",t,!1)),g&&wr(g,"load",t,!0)};(function(t){t.Popover="popover",t.API="api"})(Dl||(Dl={})),function(t){t.Open="open",t.MultipleChoice="multiple_choice",t.SingleChoice="single_choice",t.Rating="rating",t.Link="link"}(Fl||(Fl={}));var vS=(Pi=Tr.INIT_MODULE,se=new Ni,hS(),se.init(),gS(),se);let Ir=null;const mS=()=>Ir,xS={storefront:{id:"storefront",name:"Storefront"},microsite:{id:"microsite",name:"Microsite"},portal:{id:"portal",name:"Portal"}},yS=(t,e,r)=>{if(!t)return;const{onLoaded:n,recordSession:s=!0,autocapture:o=!0}=r||{};vS.init(t,{api_host:"https://app.posthog.com",persistence:"localStorage",autocapture:o,capture_pageview:o,loaded:i=>{Ir=i,Ir.group("app",e,xS[e]),n&&n(Ir),s&&Ir.startSessionRecording()}},e)},bS=(t,e)=>`shop:${e};${t}`,wS=t=>{try{return t.get_distinct_id().startsWith("shop:")}catch{return!1}},SS=(t,e,r,n)=>{wS(t)||t.identify(bS(e,r),n)},ES=()=>{const t=window.Shopify&&window.Shopify.trackingConsent;return!t||t.userCanBeTracked()},kS=window.$superfiliateStorefront.health.environment===qo.Production?"phc_5G3cfzs931jOEyfbVFkD77HJcNd8bQQVzcH0GsL6wGc":"phc_GUvUykv7SJRySiClvIGZFl38C4DZ07eXkdKen3pYo9S";(__=window.$superfiliateStorefront).analytics??(__.analytics={posthogInitialized:!1,posthog:null});const Al={...Y0,...W0},$S=t=>{window.$superfiliateStorefront.analytics.posthogInitialized||!ES()||yS(kS,"storefront",{recordSession:!1,autocapture:!1,onLoaded:e=>{const{shop:r}=be();e.group("shop",`id:${r.id}`,r),window.$superfiliateStorefront.analytics.posthogInitialized=!0,window.$superfiliateStorefront.analytics.posthog=e,t&&t(e)}})},Ml=()=>mS(),Di=()=>window.$superfiliateStorefront.analytics.posthogInitialized,OS=(t,e,r)=>{SS(Ml(),t,e,r)},TS=()=>({resolution:{height:window.screen.availHeight,width:window.screen.availWidth}}),Ul=t=>!!(t!=null&&t.responseJson);var Fi=(t=>(t.GET="GET",t.POST="POST",t))(Fi||{});const IS={GET:u0,POST:f0},Ll=async(t,e,r)=>{var n,s;try{const o=IS[t];return await o(e,r)}catch(o){if(Ul(o)&&((n=o.response)==null?void 0:n.status)===422&&(s=o.responseJson)!=null&&s.error)return o;throw Yo(o),o}},jl={activation:()=>Eu("shop_frontend/activations"),preview:()=>Eu("shop_frontend/activations/preview")},Bl=({shop:t},e)=>({shop:{shopify_domain:t.shopifyDomain},customer:{...e},context:{fingerprint:TS(),page_type:nt()}}),PS={CREATE:(t,e)=>Ll(Fi.POST,jl.activation(),Bl(t,e)),PREVIEW:(t,e)=>Ll(Fi.POST,jl.preview(),Bl(t,e))};var RS=0;function v(t,e,r,n,s,o){var i,a,c={};for(a in e)a=="ref"?i=e[a]:c[a]=e[a];var u={type:t,props:c,key:r,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--RS,__source:s,__self:o};if(typeof t=="function"&&(i=t.defaultProps))for(a in i)c[a]===void 0&&(c[a]=i[a]);return b.vnode&&b.vnode(u),u}const CS={woff:"format('woff')",woff2:"format('woff2')",otf:"format('opentype')",ttf:"format('truetype')"},NS=(t,e,r)=>{const n=(r||"").split(".").at(-1)||"";return`
    @font-face {
      font-family: '${t}';
      src: url('${r||""}') ${CS[n]||""};
      font-weight: ${e};
    }
  `},DS=()=>{var o,i,a,c,u,l,f,d,_;const[t,e]=gt(Bt),r=((a=(i=(o=t==null?void 0:t.storefrontData)==null?void 0:o.personalization)==null?void 0:i.branding)==null?void 0:a.fonts)||{},s=[["SF-Primary-Font","100 300",(c=r==null?void 0:r.primary)==null?void 0:c.light],["SF-Primary-Font","400 500",(u=r==null?void 0:r.primary)==null?void 0:u.regular],["SF-Primary-Font","600 900",(l=r==null?void 0:r.primary)==null?void 0:l.bold],["SF-Secondary-Font","100 300",(f=r==null?void 0:r.secondary)==null?void 0:f.light],["SF-Secondary-Font","400 500",(d=r==null?void 0:r.secondary)==null?void 0:d.regular],["SF-Secondary-Font","600 900",(_=r==null?void 0:r.secondary)==null?void 0:_.bold]].map(p=>NS(...p));return v("style",{dangerouslySetInnerHTML:{__html:s.join(" ")}})};function Ai(t){return t!=null}const FS=t=>t.filter(Ai),AS=t=>Object.fromEntries(Object.entries(t).filter(([e,r])=>Ai(r)));function MS(t){return Ai(t)?Array.isArray(t)?FS(t):AS(t):null}const US=(t,e)=>t.filter(r=>e.indexOf(r)<0),LS=t=>t.replace(/([A-Z])/g," $1").split(" ").join("_").toLowerCase(),jS=t=>Object.fromEntries(Object.entries(t).map(([e,r])=>[LS(e),r])),BS=({htmlTemplate:t,fallback:e,fallbackText:r,ignoreMissingVariables:n=[],variables:s={}})=>{const o={...MS(jS(s))};let i=`${t||""}`;Object.entries(o).forEach(([c,u])=>{const l=new RegExp(`{{ *${c} *}}`,"g"),f=`${u}`.replace(/&/g,"and").replace(/</g,"&lt;").replace(/>/g,"&gt;");i=i.replace(l,f)});const a=Array.from(i.matchAll(/{{(.*)}}/g));if(a.length){if(r)return r;if(e)return"";const c=a.map(u=>u[1]);US(c,n).length>0&&Ko(`Mustache variables missing: '${i}', ${JSON.stringify(s)}`)}return i=i.replace(/{{.*}}/g,""),i=i.replace(/\\n/g,"<br/>"),i},Hl=so({}),Gl=({htmlTemplate:t,fallback:e,ignoreMissingVariables:r=[]})=>{const n=gt(Hl);return BS({htmlTemplate:t,fallback:e,ignoreMissingVariables:r,variables:n})},ql={Context:Hl,Content:({htmlTemplate:t,fallback:e,className:r,ignoreMissingVariables:n=[]})=>{const s=Gl({htmlTemplate:t,fallback:e,ignoreMissingVariables:n});return!s&&e&&r?v("div",{className:r,children:e}):!s&&e?v(de,{children:e}):s?v("div",{className:r,dangerouslySetInnerHTML:{__html:s}}):null},useMustacheContent:Gl};var Yl={exports:{}},HS="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",GS=HS,qS=GS;function Wl(){}function zl(){}zl.resetWarningCache=Wl;var YS=function(){function t(n,s,o,i,a,c){if(c!==qS){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:zl,resetWarningCache:Wl};return r.PropTypes=r,r};Yl.exports=YS();var WS=Yl.exports;const Pr=Vi(WS);var zS=["color","size","title"];function Mi(){return Mi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mi.apply(this,arguments)}function VS(t,e){if(t==null)return{};var r=KS(t,e),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function KS(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,o;for(o=0;o<n.length;o++)s=n[o],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}var Ui=af(function(t,e){var r=t.color,n=t.size,s=t.title,o=VS(t,zS);return _o.createElement("svg",Mi({ref:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:n,height:n,fill:r},o),s?_o.createElement("title",null,s):null,_o.createElement("path",{d:"M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"}))});Ui.propTypes={color:Pr.string,size:Pr.oneOfType([Pr.string,Pr.number]),title:Pr.string},Ui.defaultProps={color:"currentColor",size:"1em",title:null};const Vl=Ui;var P=(t=>(t.Hidden="hidden",t.BottomRight="bottom_right",t.MiddleRight="middle_right",t.MiddleLeft="middle_left",t.BottomLeft="bottom_left",t.MainContent="main_content",t))(P||{}),Kn=(t=>(t.SmallButton="small_button",t.Video="video",t))(Kn||{}),Q=(t=>(t.Hidden="hidden",t.Visible="visible",t))(Q||{}),ct={},Li=Cr&&Cr.__assign||function(){return Li=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Li.apply(this,arguments)};Object.defineProperty(ct,"__esModule",{value:!0}),ct.join=ct.subst=ct.query=void 0;function JS(t,e,r){if(r===void 0&&(r={}),typeof e=="string"){var n=t,s=e,o=r;return Jl(s,o,n)}else{var i=t,o=e;return Jl(i,o)}}var Kl=ct.default=JS;function Jl(t,e,r){var n=Ql(t,e),s=n.renderedPath,o=n.remainingParams,i=QS(o),a=Xl(i),c=ji(s,"?",a);return r?ji(r,"/",c):c}function Xl(t){return new URLSearchParams(t).toString()}ct.query=Xl;function XS(t,e){var r=Ql(t,e).renderedPath;return r}ct.subst=XS;function Ql(t,e){var r=Li({},e),n=["boolean","string","number"],s=t.replace(/:\w+/g,function(o){var i=o.slice(1);if(/^\d+$/.test(i))return o;if(!e.hasOwnProperty(i))throw new Error("Missing value for path parameter "+i+".");if(!n.includes(typeof e[i]))throw new TypeError("Path parameter "+i+" cannot be of type "+typeof e[i]+". "+("Allowed types are: "+n.join(", ")+"."));if(typeof e[i]=="string"&&e[i].trim()==="")throw new Error("Path parameter "+i+" cannot be an empty string.");return delete r[i],encodeURIComponent(e[i])});return{renderedPath:s,remainingParams:r}}function ji(t,e,r){var n=t.endsWith(e)?t.slice(0,-e.length):t,s=r.startsWith(e)?r.slice(e.length):r;return n===""||s===""?n+s:n+e+s}ct.join=ji;function QS(t){return Object.keys(t).filter(function(e){return ZS(t[e])}).reduce(function(e,r){return e[r]=t[r],e},{})}function ZS(t){return t!=null}const e1=(t,e)=>Kl("https://image.mux.com/:mediaID/animated.webp",{mediaID:t,fps:24,end:e||5}),t1=(t,e)=>Kl("https://image.mux.com/:mediaID/thumbnail.webp",{mediaID:t,time:e||0}),r1=({setWidgetVisibility:t,position:e,preview:r,buttonFormat:n})=>{const[s,o]=gt(Bt),[i,a]=Be(Q.Hidden),[c,u]=Be(),[l,f]=Be(),d=[P.BottomLeft,P.BottomRight].includes(e),_=s.storefrontData.personalization,p=_==null?void 0:_.widget.media,h=!!p&&n===Kn.Video,E="superfiliateWidgetState",{closedAt:m,visibility:w}=JSON.parse(localStorage.getItem(E)||"{}"),N=C=>{w==Q.Hidden&&C>1?(a(Q.Visible),localStorage.setItem(E,JSON.stringify({closedAt:null,visibility:Q.Visible}))):!w||w===Q.Visible?a(Q.Visible):a(Q.Hidden)};return Pe(()=>{const C=(new Date().getTime()-new Date(m).getTime())/864e5;!h||!d?a(Q.Hidden):N(C)},[]),Pe(()=>{u(_==null?void 0:_.widget.htmlFoldedPasserbyText),f(_==null?void 0:_.widget.foldedPasserbyIconUrl)},[s]),e==P.Hidden||e==P.MainContent?null:v("div",{className:O({"origin-bottom-right slide-in-from-right right-0 bottom-[50vh] translate-x-[36%]":e===P.MiddleRight,"origin-bottom-left slide-in-from-left left-0 bottom-[50vh] translate-x-[-36%]":e===P.MiddleLeft,"right-4 bottom-4 slide-in-from-right":e===P.BottomRight,"left-4 bottom-4 slide-in-from-left":e===P.BottomLeft,"pointer-events-none":r},"fixed z-index-program-widget-modal","animate-in fade-in"),children:v("div",{"data-testid":"sf-widget-folded","data-cy":"pw-folded",role:"button",tabIndex:-1,"aria-label":"Show referral offer","aria-live":"polite",className:O({"right-0 rotate-[270deg] rounded-t-2xl":e===P.MiddleRight,"left-0 rotate-[90deg] rounded-t-2xl":e===P.MiddleLeft,"rounded-lg p-0.5":![P.MiddleRight,P.MiddleLeft].includes(e)&&i===Q.Visible,"rounded-lg":![P.MiddleRight,P.MiddleLeft].includes(e)&&i===Q.Hidden},"bg-primary text-primary-content","flex items-center"),children:v("div",{className:O("flex flex-col",h&&i===Q.Visible?"w-[80px] sm:w-[126px]":"w-full"),children:[n===Kn.Video&&i===Q.Visible&&v(de,{children:[v("div",{className:O("w-5 h-5 absolute -top-2.5 -right-2.5 cursor-pointer font-bold z-10 flex bg-white rounded-full p-[6px]",{"pointer-events-none":r}),onClick:()=>{t(W.Folded),a(Q.Hidden),localStorage.setItem(E,JSON.stringify({closedAt:new Date,visibility:Q.Hidden}))},children:v(Vl,{className:O("text-primary font-bold w-2 h-2")})}),v("div",{className:O("relative w-full max-w-full rounded-lg overflow-hidden h-[141px] sm:h-[222px]",{"pointer-events-none":r}),onClick:()=>t(W.Open),children:[(p==null?void 0:p.mediaType)!=="video"?null:v("img",{src:t1(p.mediaId),alt:"Blurred asset background",className:O("blur absolute w-[120%] max-w-[unset] h-[120%] left-[-10%] top-[-10%] -z-[10]")}),(p==null?void 0:p.mediaType)!=="video"?null:v("img",{alt:"Preview referral widget",className:"h-full max-h-full w-full max-w-full object-contain absolute",src:e1(p==null?void 0:p.mediaId)})]})]}),(l||c)&&v("div",{className:O("flex bg-primary justify-center items-center rounded-lg",{"absolute inset-x-0 bottom-0 mx-1 mb-1.5 py-1 px-2":i===Q.Visible,"px-4 py-3 w-fit":i===Q.Hidden,"pointer-events-none":r}),onClick:()=>t(W.Open),children:[l&&v("img",{src:l,alt:"Gift",className:O("h-[18px] w-[18px]")}),c&&v(ql.Content,{htmlTemplate:c,className:O({"ml-1":!!l,"text-xs":i===Q.Visible},"font-semibold font-display leading-4 sm:leading-6")})]})]})})})},n1=(t,e)=>{const r=t.includes("cdn.shopify.com"),n=t.startsWith("http"),s=e||"quality=85";if(r){const[o,i]=t.split("?");return i?`${o}?${s.replace(",","&")}&${i}`:`${o}?${s.replace(",","&")}`}return n?`https://superfiliate-cdn.com/cdn-cgi/image/${s}/${t}`:`https://imagedelivery.net/JxMt8_0v0PNFhBJLkwBu2A/${t}/${s}`},s1=({logoMediaId:t})=>v("div",{className:O("flex flex-col w-full h-full bg-primary items-center justify-center"),children:[v("div",{className:O("flex flex-col"),children:v("div",{className:O("absolute h-[190px] w-[190px] inset-0 m-auto"),children:[v("svg",{width:"190",height:"190",viewBox:"0 0 190 190",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:O("animate-spin text-primary-content"),children:[v("path",{d:"M95 2.375C95 1.06332 96.0638 -0.00309968 97.3751 0.029681C116.06 0.496782 134.211 6.46689 149.543 17.218C164.875 27.9691 176.673 43.0005 183.478 60.4079C183.956 61.6295 183.316 62.993 182.082 63.4399V63.4399C180.849 63.8869 179.49 63.2479 179.011 62.0269C172.539 45.5368 161.349 31.2978 146.816 21.1071C132.283 10.9163 115.084 5.24726 97.375 4.78124C96.0638 4.74674 95 3.68668 95 2.375V2.375Z",fill:"currentColor"}),v("defs",{children:v("clipPath",{id:"clip0_43382_19090",children:v("rect",{width:"120",height:"40",fill:"white",transform:"translate(35 75)"})})})]}),v("span",{className:O("absolute text-primary-content w-full text-center text-sm mt-[32px]"),children:"Preparing your experience"})]})}),t&&v("div",{className:O("w-[120px] h-[120px] flex items-center justify-center"),children:v("img",{className:"flex items-center",src:n1(t),alt:"Logo"})})]}),o1=({persona:t})=>{var o,i,a;const e=ie("order_status")?H0():L0(t),[r,n]=gt(Bt),s=ie("order_status")&&((o=r.storefrontData.personalization)==null?void 0:o.widget.positionOrderStatus)===P.MainContent;return v("div",{className:O("w-full relative bg-primary",{"h-[662px]":s,"h-full":!s}),children:[v("div",{className:"sf-w-full sf-h-full sf-absolute sf-flex sf-justify-center sf-items-center",children:t!==ae.Lead&&v(s1,{logoMediaId:((a=(i=r.storefrontData.personalization)==null?void 0:i.branding.images.altLogoMedia)==null?void 0:a.mediaId)??null})}),v("iframe",{src:e,allow:"web-share",className:"sf-w-full sf-h-full sf-absolute"})]})},i1=({setWidgetVisibility:t,position:e,className:r})=>e==P.Hidden||e==P.MainContent?null:v("div",{className:O("relative"),children:v("div",{"data-testid":"sf-fold-button","data-cy":"fold-pw",className:O("z-10 absolute right-2.5 top-2.5","p-2.5 h-9 w-9","flex items-center justify-center","text-lg rounded-full bg-black/50",r),role:"button",onClick:()=>t(W.Folded),children:v("span",{children:v(Vl,{size:13,className:O("font-bold text-white")})})})}),Zl=({className:t,children:e,withShadow:r=!1,onClick:n})=>v("div",{className:O("rounded-2xl bg-base p-6 text-center text-base-content",!r&&"border border-base-content/10",t),style:{boxShadow:r?"0px 4px 4px rgba(0, 0, 0, 0.06)":""},onClick:n,children:e}),a1=()=>v("div",{className:O("animate-in fade-in"),children:[v("div",{className:O("bg-primary-gradient py-10"),children:v("div",{className:O("mx-5 grid w-full grid-cols-2 gap-2 text-base"),children:[v("p",{className:O("col-span-2 mb-2 h-4 w-6/12 animate-pulse rounded bg-base/[0.5]")}),v("p",{className:O("col-span-2 h-8 w-10/12 animate-pulse rounded bg-base/[0.5]")})]})}),v("div",{className:O("mx-5 -mt-7 pb-2"),children:v(Zl,{withShadow:!0,children:v("div",{className:O("animate-pulse"),children:[v("p",{className:O("mb-4 h-12 w-full rounded bg-gray-300")}),v("p",{className:O("mx-auto my-1 h-3 w-10/12 rounded bg-gray-300")}),v("p",{className:O("mx-auto my-1 h-3 w-11/12 rounded bg-gray-300")}),v("p",{className:O("mx-auto my-1 h-3 w-9/12 rounded bg-gray-300")})]})})}),v("div",{className:O("mx-5 py-2"),children:v(Zl,{withShadow:!0,children:v("div",{className:O("animate-pulse"),children:[v("p",{className:O("mx-auto mb-4 h-5 w-6/12 rounded bg-gray-300")}),v("div",{className:O("relative mx-auto mb-8 h-36"),children:[v("p",{className:O("absolute right-0 mx-auto h-36 w-[95%] rounded-xl bg-gray-300")}),v("p",{className:O("absolute right-4 top-4 mx-auto h-36 w-[95%]  rounded-xl bg-gray-300")})]}),v("p",{className:O("mx-auto my-1 h-3 w-10/12 rounded bg-gray-300")}),v("p",{className:O("mx-auto my-1 h-3 w-10/12 rounded bg-gray-300")}),v("p",{className:O("mx-auto my-1 h-3 w-4/12 rounded bg-gray-300")})]})})})]}),c1=({setWidgetVisibility:t,position:e,persona:r,preview:n})=>{const[s,o]=gt(Bt);return e==P.Hidden?null:v(de,{children:[e!==P.MainContent&&r!==ae.Lead&&v(de,{children:[v("div",{"data-testid":"sf-widget-backdrop",className:O("fixed block sm:hidden","z-index-program-widget-modal h-screen w-screen","bg-base-content/20 backdrop-blur-xl","animate-in fade-in",{"pointer-events-none":n}),onClick:()=>t(W.Folded)}),v("style",{children:`
              @media only screen and (max-width: 640px) {
                body {
                  overflow: hidden;
                }
              }
            `})]}),v("div",{"data-testid":"sf-widget-open","data-cy":"pw-opened",role:"dialog","aria-modal":"true","aria-label":"Referral offer",className:O({"right-0 bottom-0 slide-in-from-right sm:right-4 sm:bottom-4":e===P.BottomRight||e===P.MiddleRight,"left-0 bottom-0 slide-in-from-left sm:left-4 sm:bottom-4":e===P.BottomLeft||e===P.MiddleLeft,"fixed z-index-program-widget-modal shadow-2xl sm:max-w-[390px] sm:max-h-[680px]":e!==P.MainContent,"my-3 w-full sm:max-h-[662px]":e===P.MainContent,"pointer-events-none":n,"h-[144px] rounded-3xl mx-3 my-6 sm:m-0 w-3/4 overflow-hidden":r===ae.Lead,"w-screen":r!==ae.Lead&&e!==P.MainContent,"min-h-[360px] h-full":r!==ae.Lead},"overflow-auto bg-soft-primary-gradient text-base-content text-md","no-scrollbar max-h-screen","animate-in fade-in sm:rounded-3xl"),children:[v(i1,{setWidgetVisibility:t,position:e,className:O({"h-6 w-6 right-4 top-3":r===ae.Lead},r===ae.Passerby?"text-base-content":"text-primary-content")}),s.loading?v(a1,{}):v(o1,{persona:r})]})]})},Bi="$superfiliate.programWidget.activationResponse",e_="$superfiliate.programWidget.activationResponseUpdatedAt",f1=1,t_="$superfiliate.leadModalAutoOpened",u1=()=>{const t=window.localStorage.getItem(e_);return t?parseInt(t,10):0},l1=()=>{const t=u1();return(Date.now()-t)/(1e3*3600)<f1},r_=()=>{const t=window.localStorage.getItem(Bi);let e;try{e=JSON.parse(t||"null")}catch{e=null}return e&&(!e.sf_code||!e.sf_link)?(window.localStorage.removeItem(Bi),null):e},_1=t=>{if(t)try{window.localStorage.setItem(Bi,JSON.stringify(t)),window.localStorage.setItem(e_,JSON.stringify(Date.now()))}catch(e){Tn(e)}},d1=()=>{const t=window.localStorage.getItem(t_);let e;try{e=JSON.parse(t||"false")}catch{e=!1}return e},p1=t=>{if(t!==void 0)try{window.localStorage.setItem(t_,JSON.stringify(t))}catch(e){Tn(e)}},Hi=()=>{const t=zo()||Vo(),e=xr(),r=r_();if(rt("pageType",nt()),rt("autoAppliedDiscount",e),rt("utmParams",t),ie("online_store")&&e&&(t!=null&&t.utm_source)){if(t.utm_source==="superfiliate-reward")return ae.SuperfiliateReward;if(t.utm_source==="superfiliate")return ae.Lead}return r!=null&&r.sf_code?ae.SuperfiliateShare:ae.Passerby},Gi=()=>{var n,s,o,i,a,c;const t=be(),e=window.location.href;if(ie("order_status"))return((s=(n=t.personalization)==null?void 0:n.widget)==null?void 0:s.positionOrderStatus)||P.Hidden;const r=(((i=(o=t.personalization)==null?void 0:o.widget)==null?void 0:i.positionCustom)||[]).find(({regex:u})=>!!new RegExp(u).exec(e));return r?r.position:ie("online_store")&&((c=(a=t.personalization)==null?void 0:a.widget)==null?void 0:c.positionOnlineStore)||P.Hidden},h1={[P.Hidden]:W.Hidden,[P.MainContent]:W.Open,[P.BottomLeft]:W.Folded,[P.BottomRight]:W.Folded,[P.MiddleRight]:W.Folded,[P.MiddleLeft]:W.Folded},g1=()=>{var a;const t=be(),e=Gi(),r=h1[e],n=Hi(),s=[ae.Lead,ae.SuperfiliateReward].includes(n),o=d1();if(s&&!o)return p1(!0),W.Open;const i=(a=t.personalization)==null?void 0:a.widget;return ie("order_status")&&(i!=null&&i.hiddenOrderStatus)||ie("online_store")&&(i!=null&&i.hiddenOnlineStore)?W.Hidden:r},v1=()=>v("style",{children:`
      @media (max-width: 1024px) {
        *[tabindex="-1"][role="dialog"] {
          visibility: hidden !important;
        }
      }
    `}),m1=()=>{if("pushState"in window.history){const r=new URL(window.location.href);r.hash="",window.history.pushState("",document.title,r.toString());return}const t=document.body.scrollTop,e=document.body.scrollLeft;window.location.hash="",document.body.scrollTop=t,document.body.scrollLeft=e},x1=()=>{var l;const[t,e]=ht(()=>[Gi(),g1()],[]),[r,n]=Be(e);Pe(()=>{r===W.Open&&(Di()?Ml().capture(Al.PROGRAM_WIDGET_OPENED,{pageType:nt()}):$S(f=>{f.capture(Al.PROGRAM_WIDGET_OPENED,{pageType:nt()})}))},[r]);const[s,o]=Be(Hi()),[i,a]=gt(Bt),c=((l=i.storefrontData.personalization)==null?void 0:l.widget.buttonFormat)||Kn.SmallButton,u=()=>{window.location.hash==="#referral"&&(n(W.Open),m1())};return Pe(()=>{window.addEventListener("hashchange",u),u()},[]),Pe(()=>{const f=Hi();s!==f&&o(f)},[i,s,o]),rt("widgetVisibility",r),rt("widgetPosition",t),rt("widgetPersona",s),v(de,{children:[r===W.Open&&v(v1,{}),r===W.Folded&&v(r1,{setWidgetVisibility:n,position:t,buttonFormat:c}),r===W.Open&&v(c1,{setWidgetVisibility:n,position:t===P.Hidden?P.BottomLeft:t,persona:s})]})};var Rr=(t=>(t.Shopify="shopify",t.Recharge="recharge",t))(Rr||{});const y1=()=>{const{scriptId:t}=be(),e=document.getElementById(t);return e?JSON.parse(e.innerHTML):null},n_=()=>{const t=nt();return t===L.RechargeOrderStatus?Rr.Recharge:t===L.ShopifyOrderStatus?Rr.Shopify:null},b1=()=>{var t,e,r,n,s,o,i,a,c,u,l,f;return{customer:{shopify_customer_id:(e=(t=window.Shopify)==null?void 0:t.checkout)==null?void 0:e.customer_id,email:(n=(r=window.Shopify)==null?void 0:r.checkout)==null?void 0:n.email,first_name:(i=(o=(s=window.Shopify)==null?void 0:s.checkout)==null?void 0:o.shipping_address)==null?void 0:i.first_name,last_name:(u=(c=(a=window.Shopify)==null?void 0:a.checkout)==null?void 0:c.shipping_address)==null?void 0:u.last_name},order:{shopify_order_id:(f=(l=window.Shopify)==null?void 0:l.checkout)==null?void 0:f.order_id}}},w1=()=>{const t=window.location.search,e=new URLSearchParams(t).get("preview")||"{}";return{preview:JSON.parse(e)}},S1=()=>{let t;return n_()===Rr.Shopify?t=b1():n_()===Rr.Recharge&&(t=y1()),t?{...t,...w1()}:null},E1=t=>document.head.insertAdjacentHTML("beforeend",`<style>${t}</style>`),k1=t=>{let e=t||"#000000";if(e.length<3)e="#000000";else if(e.length<5){const r=e[e.length-3],n=e[e.length-2],s=e[e.length-1];e=`#${r}${r}${n}${n}${s}${s}`}return e.toUpperCase()},$1=t=>{if(!t)return null;const e=k1(t),r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return r?`${parseInt(r[1],16)},
       ${parseInt(r[2],16)},
       ${parseInt(r[3],16)}`.replace(/\s+/g,""):null},O1=t=>{var r,n;const e=Object.entries(((n=(r=t.personalization)==null?void 0:r.branding)==null?void 0:n.colors)||{}).map(([s,o])=>{const i=s.replace(/_/g,"-").replace(/([A-Z])/g," $1").split(" ").join("-").toLowerCase(),a=$1(o);return`--${i}-color: ${a};`});E1(`._sf-storefront { ${e.join("")} }`)},T1=()=>{const t=ht(()=>be(),[]),e=ht(()=>ie("order_status")?S1():null,[]),[r,n]=Be(!1),[s,o]=Be({loading:r,storefrontData:t,cartData:e}),i=l=>o(f=>({...f,activationResponse:l})),a=async l=>{const f={...(e==null?void 0:e.customer)||{},code:l==null?void 0:l.sf_code};if((f.email||f.shopify_customer_id||f.code)&&!l1()){n(!0);try{const _=await PS.PREVIEW(be(),f);if(!_||Ul(_))return;i(_),_1(_)}finally{n(!1)}}},c=async()=>{O1(t);const l=r_()||void 0;i(l),a(l)};Pe(()=>{o(l=>({...l,loading:r}))},[r]),Pe(()=>{var l,f;if(Di()&&((f=(l=s.cartData)==null?void 0:l.customer)!=null&&f.email)){const{email:d}=s.cartData.customer,{shop:_}=be();OS(d,_.id,s.cartData.customer)}},[Di(),s]),Pe(()=>{c().catch(Ko)},[]);const u=ht(()=>({...t.defaultSfVariables,...s.activationResponse,...s.discountResponse}),[s.activationResponse,s.discountResponse]);return v(Bt.Provider,{value:[s,o],children:v(ql.Context.Provider,{value:u,children:[v(DS,{}),v(x1,{})]})})},I1=t=>100+t**.7,s_=async(t,e=6e4,r=I1)=>{let n=0;for(;!await t();){const s=typeof r=="function"?r(n):r;if(await Pn(s),n=n+s,n>=e)throw new Error("[Superfiliate] Max wait time reached before check passed")}},o_="_sf-storefront-ProgramWidget",P1=async t=>{let e;return ie(L.ShopifyOrderStatus)?e=".section__content .content-box":ie(L.RechargeOrderStatus)&&(e="#checkout .section--thank-you"),t!==P.MainContent||!e?{element:document.body,position:"afterbegin"}:(await s_(()=>!!document.querySelector(e)),{element:document.querySelector(e),position:"afterend"})},R1=async()=>{await s_(()=>!!document.body);const t=Gi(),e=`<div class="_sf-storefront _sf-x" id="${o_}"></div>`,{element:r,position:n}=await P1(t);if(!r)throw new Error("Could not find the reference element where to show the Superfiliate widget");return r.insertAdjacentHTML(n,e),document.getElementById(o_)},i_=2147483e3;let a_=i_;const qi={zIndexMap:t=>t?19e6:i_,containerPresent:()=>!!document.querySelector("#privy-container"),modalOpen:()=>!!document.querySelector(".privy-popup-content")},C1=async()=>{for(;;){if(qi.containerPresent())for(;;){const t=qi.zIndexMap(qi.modalOpen());t!==a_&&(a_=t,document.documentElement.style.setProperty("--sf-z-index-program-widget-modal",`${t}`)),await Pn(200)}await Pn(2e3)}},N1=[L.RechargeOrderStatus,L.ShopifyOrderStatus,L.ShopifyOnlineStore,L.Unknown],D1=async()=>{var t;N1.includes(nt())&&(t=window.$superfiliateStorefront.personalization)!=null&&t.widget&&(C1(),Ut(v(T1,{}),await R1()))},c_="sfIframe.clipboardCopy",F1=async t=>{if(!navigator.clipboard)return!1;try{return typeof window<"u"&&window.top&&window.top!==window.self?(window.top.postMessage({name:c_,value:t},"*"),!0):(await navigator.clipboard.writeText(t),!0)}catch(e){return console.error(e),!1}},A1=()=>{window.addEventListener("message",t=>{try{if(t.data.name!==c_)return;F1(t.data.value)}catch{return}})};try{U0("sf-"),D0(),O0(),D1(),q0(),A1()}catch(t){Yo(t)}})();

})();
