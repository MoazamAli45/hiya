console.log("variant 2");let spanPriceV3=document.querySelector("span.r_price"),spanOldPriceV3=document.querySelector("span.o_price"),firstPriceV3=document.querySelector("span.first-price.v3"),secondPriceV3=document.querySelector("span.multi-strike.v3"),firstBundlePriceV3=document.querySelector("span.first-bundle-price.v3"),secondBundlePriceV3=document.querySelector("span.bundle-strike.v3");const featuredPricesV3=[...document.querySelectorAll("div.optionList.hide > span")],bundlePricesV3=[...document.querySelectorAll(".hidden-option-bundle-product.v3 > option")],featuredDataPricesV3=featuredPricesV3.map(x=>x.dataset.price).map(str=>str.replace(/\$/g,"")).map(string=>Number(string)),featuredDataBundlePricesV3=bundlePricesV3.map(x=>x.dataset.price).map(str=>str.replace(/\$/g,"")).map(string=>Number(string));allPrices={bundleV3:[...featuredDataBundlePricesV3],featuredV3:[...featuredDataPricesV3]};const featuredV3=Object.values(allPrices.featuredV3),bundleV3=Object.values(allPrices.bundleV3),summedV3=featuredV3.map(function(n,i){return n+bundleV3[i]}),_stCartConfig2V3={attributes:!0,childList:!0,subtree:!0},_stCartCallback2V3=mutationList=>{let kidIndex=document.querySelector("div.optionList.hide > span.active").dataset.item-1,bundleGroup=document.querySelector("label.image-group.bundle-group.v3 > input");for(const mutation of mutationList){if(mutation.type==="childList"&&mutation.target===spanPriceV3&&mutation.addedNodes.length>0){let splitPrice=Number(mutation.target.textContent.split("$")[1]);firstPriceV3.textContent=mutation.target.textContent,(splitPrice+featuredDataBundlePricesV3[kidIndex])%1!=0?firstBundlePriceV3.textContent="$"+(splitPrice+featuredDataBundlePricesV3[kidIndex])+"0":firstBundlePriceV3.textContent="$"+(splitPrice+featuredDataBundlePricesV3[kidIndex])}if(mutation.type==="childList"&&mutation.target===spanOldPriceV3&&mutation.addedNodes.length>0){let splitPrice=Number(mutation.target.textContent.split("$")[1]);secondPriceV3.textContent=" "+mutation.target.textContent,summedV3[kidIndex]*2%1!==0?secondBundlePriceV3.textContent=" $"+summedV3[kidIndex]*2+"0":secondBundlePriceV3.textContent=" $"+summedV3[kidIndex]*2}}},_stCartObserver2V3=new MutationObserver(_stCartCallback2V3);_stCartObserver2V3.observe(document.querySelector("div.prod-body > div.price_area"),_stCartConfig2V3);let bundleSelectorV3=document.querySelector(".bundle-selector-v1.v3"),firstImageV3=document.querySelector("label.image-group.multi-group.v3 > img"),secondImageV3=document.querySelector("label.image-group.bundle-group.v3 > img");firstImageV3.addEventListener("click",e=>{e.currentTarget===firstImageV3&&e.target.parentElement.querySelector("input.multi-radio.v3").click()}),secondImageV3.addEventListener("click",e=>{e.currentTarget===secondImageV3&&e.target.parentElement.querySelector("input.bundle-radio.v3").click()});function handleChange3(e){let buyNow=document.querySelector("#buy_now_new_button"),spanPriceV32=document.querySelector("span.r_price"),spanOldPriceV32=document.querySelector("span.o_price"),firstPriceV32=document.querySelector("span.first-price.v3"),secondPriceV32=document.querySelector("span.multi-strike.v3"),firstBundlePriceV32=document.querySelector("span.first-bundle-price.v3"),secondBundlePriceV32=document.querySelector("span.bundle-strike.v3");e.value==="bundle"?(_stCartObserver2V3.disconnect(),buyNow.addEventListener("click",prevent3),spanPriceV32.innerText=firstBundlePriceV32.innerText,spanOldPriceV32.innerText=secondBundlePriceV32.innerText,document.querySelector(".active-option").classList.remove("active-option"),e.nextElementSibling.classList.add("active-option"),primer3(buyNow)):(spanPriceV32.innerText=firstPriceV32.innerText,spanOldPriceV32.innerText=secondPriceV32.innerText,buyNow.removeEventListener("click",postItems3),document.querySelector("#buy_now_new_button").removeEventListener("click",prevent3),document.querySelector(".active-option").classList.remove("active-option"),document.querySelector("label.image-group.multi-group.v3 > img").classList.add("active-option"),console.log("event listener removed"),_stCartObserver2V3.observe(document.querySelector("div.prod-body > div.price_area"),_stCartConfig2V3))}function prevent3(e){e.preventDefault()}function primer3(buyNow){buyNow.addEventListener("click",postItems3)}function postItems3(){let variants=[];if(window.innerWidth<500){let productID=document.querySelector(".form-control > option.active").value;variants.push(productID)}else{let productID=document.querySelector(".optionList > span.active").getAttribute("data_variantid");variants.push(productID)}let bundleID=document.querySelector(".hidden-option-bundle-product.v3 > option.active").value,sellingPlanSingle=document.querySelector("#product-banner-buybox > input").value,sellingPlanBundle=document.querySelector(".hidden-js-bundle.v3").getAttribute("data-selling-plan");variants.push(bundleID),console.log(variants);let formData3={items:[{id:variants[0],selling_plan:sellingPlanSingle,quantity:1},{id:variants[1],selling_plan:sellingPlanBundle,quantity:1}]};fetch(window.Shopify.routes.root+"cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(formData3)}).then(response=>{response&&window.Rebuy?.SmartCart?.status==="ready"?document.addEventListener("rebuy.change",function(event){window.Rebuy.SmartCart.show()}):window.location.href="/checkout"}).catch(error=>{console.error("Error:",error)})}let parentDivV3=document.querySelector("div.prod-body > div.optionList.hide"),mobileFormV3=document.querySelector("div.form-default > div > select");function changeHiddenSelect3(e,kidIndex){let hiddenBundleList=document.querySelectorAll(".hidden-option-bundle-product.v3 > option");for(let i=0;i<hiddenBundleList.length;i++){const option=hiddenBundleList[i];option.classList.contains("active")&&option.classList.remove("active")}setTimeout(()=>{const option=hiddenBundleList[kidIndex].classList.add("active")},0)}if(parentDivV3.addEventListener("click",e=>{let firstPriceV3Array=summedV3;const secondPriceV3Array=firstPriceV3Array.map(x=>x*2);let thirdPriceArray=featuredDataPricesV3;const doubledFeaturedArray=thirdPriceArray.map(x=>x*2);let bundleGroup=document.querySelector(".bundle-radio.v3"),activeSpan=e.target,currentSpan=document.querySelector("span.active");if(activeSpan===currentSpan){let kidIndex=activeSpan.dataset.item-1;changeHiddenSelect3(e,kidIndex),bundleGroup.checked===!0&&kidIndex!==NaN&&setTimeout(()=>{firstPriceV3Array[kidIndex]%1!=0?spanPriceV3.textContent="$"+firstPriceV3Array[kidIndex]+"0":spanPriceV3.textContent="$"+firstPriceV3Array[kidIndex],thirdPriceArray[kidIndex]%1!=0?firstPriceV3.textContent="$"+thirdPriceArray[kidIndex]+"0":firstPriceV3.textContent="$"+thirdPriceArray[kidIndex],secondPriceV3.textContent="$"+doubledFeaturedArray[kidIndex],secondPriceV3Array[kidIndex]%1!=0?spanOldPriceV3.textContent="$"+secondPriceV3Array[kidIndex]+"0":spanOldPriceV3.textContent="$"+secondPriceV3Array[kidIndex],firstPriceV3Array[kidIndex]%1!=0?firstBundlePriceV3.textContent="$"+firstPriceV3Array[kidIndex]+"0":firstBundlePriceV3.textContent="$"+firstPriceV3Array[kidIndex],secondPriceV3Array[kidIndex]%1!=0?secondBundlePriceV3.textContent="$"+secondPriceV3Array[kidIndex]+"0":secondBundlePriceV3.textContent="$"+secondPriceV3Array[kidIndex]},0)}}),window.innerWidth<500){let firstPriceV3Array=summedV3;const secondPriceV3Array=firstPriceV3Array.map(x=>x*2);let thirdPriceArrayV3=featuredDataPricesV3;const doubledFeaturedArray=thirdPriceArrayV3.map(x=>x*2);let bundleGroup=document.querySelector(".bundle-radio.v3");mobileFormV3.addEventListener("change",e=>{if(window.innerWidth<500){let productID=document.querySelector(".form-control > option.active").value}let kidIndex=e.target.selectedOptions[0].dataset.item-1;bundleGroup.checked===!0&&kidIndex!==NaN?setTimeout(()=>{firstPriceV3Array[kidIndex]%1!=0?spanPriceV3.textContent="$"+firstPriceV3Array[kidIndex]+"0":spanPriceV3.textContent="$"+firstPriceV3Array[kidIndex],thirdPriceArrayV3[kidIndex]%1!=0?firstPriceV3.textContent="$"+thirdPriceArrayV3[kidIndex]+"0":firstPriceV3.textContent="$"+thirdPriceArrayV3[kidIndex],secondPriceV3Array[kidIndex]%1!=0?spanOldPriceV3.textContent="$"+secondPriceV3Array[kidIndex]+"0":spanOldPriceV3.textContent="$"+secondPriceV3Array[kidIndex],secondPriceV3.textContent="$"+doubledFeaturedArray[kidIndex],firstPriceV3Array[kidIndex]%1!=0?firstBundlePriceV3.textContent="$"+firstPriceV3Array[kidIndex]+"0":firstBundlePriceV3.textContent="$"+firstPriceV3Array[kidIndex],secondPriceV3Array[kidIndex]%1!=0?secondBundlePriceV3.textContent="$"+secondPriceV3Array[kidIndex]+"0":secondBundlePriceV3.textContent="$"+secondPriceV3Array[kidIndex]},0):setTimeout(()=>{thirdPriceArrayV3[kidIndex]%1!=0?firstPriceV3.textContent="$"+thirdPriceArrayV3[kidIndex]+"0":firstPriceV3.textContent="$"+thirdPriceArrayV3[kidIndex],secondPriceV3.textContent="$"+doubledFeaturedArray[kidIndex],firstPriceV3Array[kidIndex]%1!=0?firstBundlePriceV3.textContent="$"+firstPriceV3Array[kidIndex]+"0":firstBundlePriceV3.textContent="$"+firstPriceV3Array[kidIndex],secondPriceV3Array[kidIndex]%1!=0?secondBundlePriceV3.textContent="$"+secondPriceV3Array[kidIndex]+"0":secondBundlePriceV3.textContent="$"+secondPriceV3Array[kidIndex]},0),changeHiddenSelect3(e,kidIndex)})}
//# sourceMappingURL=/cdn/shop/t/328/assets/bundle-selector-hh68-v2.js.map?v=37526948130925029221723075066
