let spanPrice=document.querySelector("span.r_price"),spanOldPrice=document.querySelector("span.o_price"),firstPrice=document.querySelector("span.first-price"),secondPrice=document.querySelector("span.multi-strike"),firstBundlePrice=document.querySelector("span.first-bundle-price"),secondBundlePrice=document.querySelector("span.bundle-strike"),USD=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumSignificantDigits:4});const isShortDecimal=num=>{if(!Number.isInteger(num)&&`${num}`.length<=4)return!0},featuredPrices=[...document.querySelectorAll("div.optionList.hide > span")],bundlePrices=[...document.querySelectorAll(".hidden-option-bundle-product > option")],featuredDataPrices=featuredPrices.map(x=>x.dataset.price).map(str=>str.replace(/\$/g,"")).map(string=>Number(string)),featuredDataBundlePrices=bundlePrices.map(x=>x.dataset.price).map(str=>str.replace(/\$/g,"")).map(string=>Number(string)),regularPrices=featuredPrices.map(x=>x.dataset.regulerprice).map(str=>str.replace(/\$/g,"")).map(string=>Number(string));allPrices={bundle:[...featuredDataBundlePrices],featured:[...featuredDataPrices]};const featured=Object.values(allPrices.featured),bundle=Object.values(allPrices.bundle),summed=featured.map(function(n,i){return n+bundle[i]}),_stCartConfig2={attributes:!0,childList:!0,subtree:!0},_stCartCallback2=mutationList=>{if(document.querySelector(".hh61-v2"))return;let kidIndex=document.querySelector("div.optionList.hide > span.active").dataset.item-1,bundleGroup=document.querySelector("label.image-group.bundle-group > input");for(const mutation of mutationList){if(mutation.type==="childList"&&mutation.target===spanPrice&&mutation.addedNodes.length>0){let splitPrice=Number(mutation.target.textContent.split("$")[1]);firstPrice.textContent=mutation.target.textContent,(splitPrice+featuredDataBundlePrices[kidIndex])%1!=0?firstBundlePrice.textContent="$"+(splitPrice+featuredDataBundlePrices[kidIndex])+"0":firstBundlePrice.textContent="$"+(splitPrice+featuredDataBundlePrices[kidIndex])}if(mutation.type==="childList"&&mutation.target===spanOldPrice&&mutation.addedNodes.length>0){let splitPrice=Number(mutation.target.textContent.split("$")[1]);secondPrice.textContent=" "+mutation.target.textContent,summed[kidIndex]*2%1!==0?secondBundlePrice.textContent=" $"+summed[kidIndex]*2+"0":secondBundlePrice.textContent=" $"+summed[kidIndex]*2}}},_stCartObserver2=new MutationObserver(_stCartCallback2);_stCartObserver2.observe(document.querySelector("div.prod-body > div.price_area"),_stCartConfig2);let bundleSelector=document.querySelector(".bundle-selector-v1"),firstImage=document.querySelector("label.image-group.multi-group > img"),secondImage=document.querySelector("label.image-group.bundle-group > img");firstImage.addEventListener("click",e=>{e.currentTarget===firstImage&&e.target.parentElement.querySelector("input.multi-radio").click()}),secondImage.addEventListener("click",e=>{e.currentTarget===secondImage&&e.target.parentElement.querySelector("input.bundle-radio").click()});function handleChange(e){let buyNow=document.querySelector("#buy_now_new_button"),spanPrice2=document.querySelector("span.r_price"),spanOldPrice2=document.querySelector("span.o_price"),firstPrice2=document.querySelector("span.first-price"),secondPrice2=document.querySelector("span.multi-strike"),firstBundlePrice2=document.querySelector("span.first-bundle-price"),secondBundlePrice2=document.querySelector("span.bundle-strike");e.value==="bundle"?(_stCartObserver2.disconnect(),buyNow.addEventListener("click",prevent),spanPrice2.innerText=firstBundlePrice2.innerText,spanOldPrice2.innerText=secondBundlePrice2.innerText,document.querySelector(".active-option").classList.remove("active-option"),e.nextElementSibling.classList.add("active-option"),primer(buyNow)):(spanPrice2.innerText=firstPrice2.innerText,spanOldPrice2.innerText=secondPrice2.innerText,buyNow.removeEventListener("click",postItems),document.querySelector("#buy_now_new_button").removeEventListener("click",prevent),document.querySelector(".active-option").classList.remove("active-option"),document.querySelector("label.image-group.multi-group > img").classList.add("active-option"),_stCartObserver2.observe(document.querySelector("div.prod-body > div.price_area"),_stCartConfig2))}function prevent(e){e.preventDefault()}function primer(buyNow){buyNow.addEventListener("click",postItems)}function postItems(){let hh46=document.querySelector(".hh46"),variants=[];if(window.innerWidth<500){let productID=document.querySelector(".form-control > option.active").value;variants.push(productID)}else{let productID=document.querySelector(".optionList > span.active").getAttribute("data_variantid");variants.push(productID)}let bundleID=document.querySelector(".hidden-option-bundle-product > option.active").value,sellingPlanSingle=document.querySelector("#product-banner-buybox > input").value,sellingPlanBundle=document.querySelector(".hidden-js-bundle").getAttribute("data-selling-plan");variants.push(bundleID);let formData2={items:[{id:variants[0],selling_plan:sellingPlanSingle,quantity:1},{id:variants[1],selling_plan:sellingPlanBundle,quantity:1}]};fetch(window.Shopify.routes.root+"cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(formData2)}).then(response=>{response&&window.Rebuy?.SmartCart?.status==="ready"?document.addEventListener("rebuy.change",function(event){window.Rebuy.SmartCart.show()}):window.location.href="/checkout"}).catch(error=>{console.error("Error:",error)})}let parentDiv=document.querySelector("div.prod-body > div.optionList.hide"),mobileForm=document.querySelector("div.form-default > div > select");function changeHiddenSelect(e,kidIndex){let hiddenBundleList=document.querySelectorAll(".hidden-option-bundle-product > option");for(let i=0;i<hiddenBundleList.length;i++){const option=hiddenBundleList[i];option.classList.contains("active")&&option.classList.remove("active")}setTimeout(()=>{const option=hiddenBundleList[kidIndex].classList.add("active")},0)}if(parentDiv.addEventListener("click",e=>{let firstPriceArray=summed;const secondPriceArray=firstPriceArray.map(x=>x*2);let thirdPriceArray=featuredDataPrices;const doubledFeaturedArray=thirdPriceArray.map(x=>x*2);let bundleGroup=document.querySelector(".bundle-radio"),activeSpan=e.target,currentSpan=document.querySelector("span.active");if(activeSpan===currentSpan){let kidIndex=activeSpan.dataset.item-1;changeHiddenSelect(e,kidIndex),bundleGroup.checked===!0&&kidIndex!==NaN&&setTimeout(()=>{isShortDecimal(firstPriceArray[kidIndex])?spanPrice.textContent=USD.format(firstPriceArray[kidIndex])+"0":spanPrice.textContent=USD.format(firstPriceArray[kidIndex]),isShortDecimal(thirdPriceArray[kidIndex])?firstPrice.textContent=USD.format(thirdPriceArray[kidIndex])+"0":firstPrice.textContent=USD.format(thirdPriceArray[kidIndex]),isShortDecimal(regularPrices[kidIndex])?secondPrice.textContent=USD.format(regularPrices[kidIndex])+"0":secondPrice.textContent=USD.format(regularPrices[kidIndex]),isShortDecimal(secondPriceArray[kidIndex])?spanOldPrice.textContent=USD.format(secondPriceArray[kidIndex])+"0":spanOldPrice.textContent=USD.format(secondPriceArray[kidIndex]),isShortDecimal(firstPriceArray[kidIndex])?firstBundlePrice.textContent=USD.format(firstPriceArray[kidIndex])+"0":firstBundlePrice.textContent=USD.format(firstPriceArray[kidIndex]),isShortDecimal(secondPriceArray[kidIndex])?secondBundlePrice.textContent=USD.format(secondPriceArray[kidIndex])+"0":secondBundlePrice.textContent=USD.format(secondPriceArray[kidIndex])},0)}}),window.innerWidth<500){let testDiv=document.querySelector(".hh61-v2"),firstPriceArray=summed;const secondPriceArray=firstPriceArray.map(x=>x*2);let thirdPriceArray=featuredDataPrices;const doubledFeaturedArray=thirdPriceArray.map(x=>x*2);let bundleGroup=document.querySelector(".bundle-radio");mobileForm.addEventListener("change",e=>{if(window.innerWidth<500){let productID=document.querySelector(".form-control > option.active").value}let kidIndex=e.target.selectedOptions[0].dataset.item-1;bundleGroup.checked===!0&&kidIndex!==NaN?setTimeout(()=>{isShortDecimal(firstPriceArray[kidIndex])?spanPrice.textContent=USD.format(firstPriceArray[kidIndex])+"0":spanPrice.textContent=USD.format(firstPriceArray[kidIndex]),isShortDecimal(thirdPriceArray[kidIndex])?firstPrice.textContent=USD.format(thirdPriceArray[kidIndex])+"0":firstPrice.textContent=USD.format(thirdPriceArray[kidIndex]),isShortDecimal(regularPrices[kidIndex])?secondPrice.textContent=USD.format(regularPrices[kidIndex])+"0":secondPrice.textContent=USD.format(regularPrices[kidIndex]),isShortDecimal(secondPriceArray[kidIndex])?spanOldPrice.textContent=USD.format(secondPriceArray[kidIndex])+"0":spanOldPrice.textContent=USD.format(secondPriceArray[kidIndex]),isShortDecimal(firstPriceArray[kidIndex])?firstBundlePrice.textContent=USD.format(firstPriceArray[kidIndex])+"0":firstBundlePrice.textContent=USD.format(firstPriceArray[kidIndex]),isShortDecimal(secondPriceArray[kidIndex])?secondBundlePrice.textContent=USD.format(secondPriceArray[kidIndex])+"0":secondBundlePrice.textContent=USD.format(secondPriceArray[kidIndex])},0):setTimeout(()=>{isShortDecimal(thirdPriceArray[kidIndex])?firstPrice.textContent=USD.format(thirdPriceArray[kidIndex])+"0":firstPrice.textContent=USD.format(thirdPriceArray[kidIndex]),isShortDecimal(regularPrices[kidIndex])?secondPrice.textContent=USD.format(regularPrices[kidIndex])+"0":secondPrice.textContent=USD.format(regularPrices[kidIndex]),isShortDecimal(firstPriceArray[kidIndex])?firstBundlePrice.textContent=USD.format(firstPriceArray[kidIndex])+"0":firstBundlePrice.textContent=USD.format(firstPriceArray[kidIndex]),isShortDecimal(secondPriceArray[kidIndex])?secondBundlePrice.textContent=USD.format(secondPriceArray[kidIndex])+"0":secondBundlePrice.textContent=USD.format(secondPriceArray[kidIndex])},0),changeHiddenSelect(e,kidIndex)})}
//# sourceMappingURL=/cdn/shop/t/328/assets/bundle-selector-final.js.map?v=73076586591928092971723075067
